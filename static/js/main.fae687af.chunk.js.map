{"version":3,"sources":["services/user-info.ts","const.ts","services/auth.service.ts","components/Header.tsx","services/auth-header.ts","services/book.service.ts","services/comment.service.ts","components/common/AddComment.tsx","components/common/CustomizedSnackbars.tsx","components/common/EditComment.tsx","components/pages/BookDeatails.tsx","components/common/EditBook.tsx","components/pages/BooksList.tsx","components/common/CardBook.tsx","components/pages/Home.tsx","components/pages/Login.tsx","components/common/AddBook.tsx","components/pages/MyBooksList.tsx","components/pages/NotFound.tsx","components/pages/Register.tsx","services/user.service.ts","components/pages/UserManagement.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getCurrentUser","userFromLocalStorage","localStorage","getItem","JSON","parse","API_URL","headers","register","userRegister","a","axios","post","stringify","response","data","login","userLogin","token","setItem","authService","logout","removeItem","useStyles","makeStyles","theme","createStyles","grow","flexGrow","backgroundColor","appBar","color","height","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","border","borderRadius","shape","alpha","palette","common","white","marginLeft","width","searchIcon","padding","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","highlighted","Header","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isUser","setIsUser","isAdmin","setIsAdmin","keyword","setKeyword","currentUser","history","useHistory","path","useLocation","pathname","useEffect","role","includes","alanBtn","key","onCommand","command","push","console","log","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","logOut","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","component","NavLink","activeClassName","to","mobileMenuId","renderMobileMenu","className","AppBar","Toolbar","IconButton","edge","Typography","variant","noWrap","InputBase","placeholder","root","input","inputProps","onKeyDown","event","onChange","target","value","currentTarget","authHeader","Authorization","getAllBook","orderBy","order","page","size","param","get","getAllBookEnabled","getBookById","bookId","getBooksByUserId","userId","addBook","book","updateBook","put","deleteBook","delete","bookService","getCommentById","commentId","getCommentByBookId","addComment","comment","updateComment","deleteComment","commentService","margin","formControlTextField","formControlBtnSubmit","float","textTransform","marginTop","AddComment","setComment","helperText","setHelperText","isError","setIsError","noValidate","FormControl","TextField","autoComplete","error","required","label","multiline","rows","message","onChangeTagName","Button","type","preventDefault","undefined","today","Date","dateTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","createdAt","updatedAt","submit","Alert","props","elevation","CustomizedSnackbars","active","status","autoHideDuration","setOpen","handleClose","reason","Snackbar","severity","EditComment","reload","activeSnackBar","setActiveSnackBar","snackBarMessage","setSnackBarMessage","snackBarStatus","setSnackBarStatus","then","res","autoFocus","user","window","setTimeout","paper","boxShadow","textAlign","image","maxWidth","username","paddingRight","listComment","buttonDialog","modal","paperModal","down","background","shadows","webkitBoxShadow","outline","BookDetail","useParams","setBook","comments","setComments","change","setChange","openDialog","setOpenDialog","setCommentId","isModalEditCommentOpen","setIsModalEditCommentOpen","Number","alert","closeModalEditComment","editComment","Grid","item","xs","md","Paper","gutterBottom","author","toLocaleString","src","alt","align","description","firstName","lastName","Divider","style","map","email","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","formControl","buttonSubmit","EditBook","helperTextTitle","setHelperTextTitle","helperTextAuthor","setHelperTextAuthor","isTitleError","setIsTitleError","isAuthorError","setIsAuthorError","name","onSubmit","date","time","StyledTableCell","withStyles","head","body","fontSize","wordWrap","TableCell","StyledTableRow","action","hover","TableRow","headCells","numeric","disablePadding","EnhancedTableHead","onRequestSort","TableHead","headCell","sortDirection","TableSortLabel","direction","property","inActive","icon","visuallyHidden","marginBottom","table","minWidth","clip","overflow","top","BooksList","isModalEditBookOpen","setIsModalEditBookOpen","setBookId","setOrder","setOrderBy","setPage","rowsPerPage","setRowsPerPage","totalRows","setTotalRows","books","setBooks","substr","items","totalResults","closeModalEditBook","emptyRows","Math","min","TableContainer","Table","TableBody","length","colSpan","index","Tooltip","enabled","enabledBook","openModalEditBook","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","backdropFilter","media","objectFit","cardButton","cardContent","CardBook","Card","CardActionArea","CardMedia","CardContent","CardActions","text","secondary","container","paddingTop","paddingBottom","pagination","right","bottom","Home","totalPage","setTotalPage","ceil","totalItems","sm","Pagination","flexWrap","loginBtn","header","card","initialState","password","isButtonDisabled","reducer","state","payload","Login","useReducer","dispatch","trim","handleLogin","handleKeyPress","keyCode","which","validateEmail","test","CardHeader","fullWidth","onKeyPress","disabled","AddBook","tableContainer","fab","MyBooksList","isModalAddBookOpen","setIsModalAddBookOpen","closeModalAddBook","stickyHeader","scope","NotFound","avata","Register","handleRegister","String","getUsers","getUsersByKeyword","updateUser","setRoleUser","roleId","userService","UserManagement","users","setUsers","setUserId","setRoleId","messagee","enabledUser","setRole","Main","exact","bodyHeight","innerHeight","backgroundSize","main","minHeight","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fae687af.chunk.js","sourcesContent":["export default function getCurrentUser() {\n    const userFromLocalStorage = localStorage.getItem('user');\n    const currentUser: UserInfo = userFromLocalStorage ? JSON.parse(userFromLocalStorage) : null;\n    return currentUser;\n}","export const API_URL = \"https://nghianguyen-bookmanagement.herokuapp.com/api\";\n// export const API_URL = \"http://localhost:8080/api\";","import axios from \"axios\";\nimport { API_URL } from \"../const\";\n\nconst headers = {\n  'Content-Type': 'application/json',\n}\n\nconst register = async (userRegister: User) => {\n  const response = await axios.post(API_URL + \"/auth/register\", JSON.stringify(userRegister), { headers: headers });\n  return response.data;\n};\n\nconst login = async (userLogin: UserLogin) => {\n  const response = await axios.post(API_URL + \"/auth/login\", JSON.stringify(userLogin), { headers: headers });\n  if (response.data.token) {\n    localStorage.setItem(\"user\", JSON.stringify(response.data));\n  }\n\n  return response.data;\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst authService = {\n  register,\n  login,\n  logout\n}\n\nexport default authService;","import React from 'react';\nimport { alpha, makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport getCurrentUser from '../services/user-info';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { NavLink, Route, useHistory, useLocation } from 'react-router-dom';\nimport authService from '../services/auth.service';\nimport alanBtn from '@alan-ai/alan-sdk-web';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n      backgroundColor: 'rgba(255, 255, 255, 0.06)',\n    },\n    appBar: {\n      backgroundColor: 'rgba(255, 255, 255, 0.06)',\n      color: '#000000',\n      height: 60,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n    },\n    search: {\n      position: 'relative',\n      border: '2px solid #caa79b',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: alpha(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: '25%',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '30ch',\n      },\n    },\n    sectionDesktop: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n    },\n    sectionMobile: {\n      display: 'flex',\n      [theme.breakpoints.up('md')]: {\n        display: 'none',\n      },\n    },\n    highlighted: {\n      color: '#8d6e63'\n    },\n  }),\n);\n\nexport default function Header() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [isUser, setIsUser] = React.useState(false);\n  const [isAdmin, setIsAdmin] = React.useState(false);\n  const [keyword, setKeyword] = React.useState('');\n  const currentUser = getCurrentUser();\n  const history = useHistory();\n  const path = useLocation().pathname;\n  const alanKey = '4124cd6258f726346dcc31e293a240b92e956eca572e1d8b807a3e2338fdd0dc/stage';\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setIsAdmin(currentUser.role.includes(\"ROLE_ADMIN\"));\n      setIsUser(currentUser.role.includes(\"ROLE_USER\"));\n    } else {\n      setIsAdmin(false);\n      setIsUser(false);\n    }\n\n    alanBtn({\n      key: alanKey,\n      onCommand: ({ command }: any) => {\n        if (command === 'LearnPythonQuickly') {\n          history.push(path + \"?keyword=Learn Python Quickly\");\n        }\n\n        if (command === 'PythonProgrammingforBeginners') {\n          history.push(path + \"?keyword=Python Programming for Beginners\");\n        }\n\n        if (command === 'ReactCleanArchitecture') {\n          history.push(path + \"?keyword=React Clean Architecture\");\n        }\n\n        if (command === 'HarryPotterandtheSorcererStone') {\n          history.push(path + \"?keyword=Harry Potter and the Sorcerer's Stone\");\n        }\n\n        if (command === 'TheHobbit') {\n          history.push(path + \"?keyword=The Hobbit\");\n        }\n\n        if (command === 'TheLordoftheRings') {\n          history.push(path + \"?keyword=The Lord of the Rings\");\n        }\n\n        if (command === 'TheAlchemist') {\n          history.push(path + \"?keyword=The Alchemist\");\n        }\n\n        if (command === 'LincolntheUnknown') {\n          history.push(path + \"?keyword=Lincoln the Unknown\");\n        }\n\n        if (command === 'RichDadPoorDad') {\n          history.push(path + \"?keyword=Rich Dad Poor Dad\");\n        }\n\n      }\n    })\n    console.log(\"header\");\n    // eslint-disable-next-line\n  }, [currentUser]);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const logOut = () => {\n    handleMenuClose();\n    authService.logout();\n    history.push('/home');\n  }\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter') {\n      history.push(path + \"?keyword=\" + keyword);\n    }\n  }\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setKeyword(event.target.value);\n  };\n\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem\n        color=\"inherit\"\n        onClick={handleMenuClose}\n        component={NavLink}\n        activeClassName={classes.highlighted}\n        to=\"/profile\"\n      >\n        Profile\n      </MenuItem>\n      <MenuItem\n        color=\"inherit\"\n        onClick={logOut}\n      >\n        Logout\n      </MenuItem>\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      {(isUser || isAdmin) &&\n        <MenuItem\n          color=\"inherit\"\n          onClick={handleMobileMenuClose}\n          component={NavLink}\n          activeClassName={classes.highlighted}\n          to=\"/my-books-list\"\n        >\n          <p>My Books List</p>\n        </MenuItem>\n      }\n      {isAdmin &&\n        <div>\n          <MenuItem\n            color=\"inherit\"\n            onClick={handleMobileMenuClose}\n            component={NavLink}\n            activeClassName={classes.highlighted}\n            to=\"/books-list\"\n          >\n            <p>Books List</p>\n          </MenuItem>\n          <MenuItem\n            color=\"inherit\"\n            onClick={handleMobileMenuClose}\n            component={NavLink}\n            activeClassName={classes.highlighted}\n            to=\"/user-management\"\n          >\n            <p>User Management</p>\n          </MenuItem>\n        </div>\n      }\n      {currentUser\n        ? (\n          <div>\n            <MenuItem\n              color=\"inherit\"\n              onClick={handleMobileMenuClose}\n              component={NavLink}\n              activeClassName={classes.highlighted}\n              to=\"/profile\"\n            >\n              <p>Profile</p>\n            </MenuItem>\n            <MenuItem\n              color=\"inherit\"\n              onClick={logOut}\n            >\n              <p>Logout</p>\n            </MenuItem>\n          </div>\n        )\n        : (\n          <div>\n            <MenuItem\n              color=\"inherit\"\n              onClick={handleMobileMenuClose}\n              component={NavLink}\n              activeClassName={classes.highlighted}\n              to=\"/login\"\n            >\n              <p>Login</p>\n            </MenuItem>\n            <MenuItem\n              color=\"inherit\"\n              onClick={handleMobileMenuClose}\n              component={NavLink}\n              activeClassName={classes.highlighted}\n              to=\"/register\"\n            >\n              <p>Register</p>\n            </MenuItem>\n          </div>\n        )\n      }\n    </Menu>\n  );\n\n  return (\n    <div className={classes.grow}>\n      <AppBar\n        className={classes.appBar}\n        position=\"sticky\"\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            edge=\"start\"\n            className={classes.menuButton}\n            aria-label=\"open drawer\"\n            component={NavLink}\n            activeClassName={classes.highlighted}\n            to=\"/home\"\n          >\n            <HomeIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            Book Management\n          </Typography>\n          <Route path={['/home', '/my-books-list', '/books-list', '/user-management']}>\n            <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n                onKeyDown={handleKeyDown}\n                onChange={onChange}\n              />\n            </div>\n          </Route>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            {(isUser || isAdmin) &&\n              <MenuItem\n                color=\"inherit\"\n                component={NavLink}\n                activeClassName={classes.highlighted}\n                to=\"/my-books-list\"\n              >\n                <p>My Books List</p>\n              </MenuItem>\n            }\n            {isAdmin &&\n              <>\n                <MenuItem\n                  color=\"inherit\"\n                  component={NavLink}\n                  activeClassName={classes.highlighted}\n                  to=\"/books-list\"\n                >\n                  <p>Books List</p>\n                </MenuItem>\n                <MenuItem\n                  color=\"inherit\"\n                  component={NavLink}\n                  activeClassName={classes.highlighted}\n                  to=\"/user-management\"\n                >\n                  <p>User Management</p>\n                </MenuItem>\n              </>\n            }\n            {currentUser\n              ? (\n                <div>\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"account of current user\"\n                    aria-controls={menuId}\n                    aria-haspopup=\"true\"\n                    onClick={handleProfileMenuOpen}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n                </div>\n              )\n              : (\n                <>\n                  <MenuItem\n                    color=\"inherit\"\n                    component={NavLink}\n                    activeClassName={classes.highlighted}\n                    to=\"/login\"\n                  >\n                    <p>Login</p>\n                  </MenuItem>\n                  <MenuItem\n                    color=\"inherit\"\n                    component={NavLink}\n                    activeClassName={classes.highlighted}\n                    to=\"/register\"\n                  >\n                    <p>Register</p>\n                  </MenuItem>\n                </>\n              )\n            }\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMobileMenu}\n      {renderMenu}\n    </div>\n  );\n}\n","import currentUser from \"./user-info\";\n\nexport default function authHeader() {\n  if (currentUser() && currentUser().token) {\n    return {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${currentUser().token}`\n    };\n  } else {\n    return {};\n  }\n}\n","import axios from \"axios\";\nimport { API_URL } from \"../const\";\nimport authHeader from \"./auth-header\";\nimport currentUser from \"./user-info\";\n\nconst getAllBook = async (orderBy: string, order: string, page: number, size: number, param: string) => {\n    const response = await axios.get(API_URL + `/books?orderBy=${orderBy}&order=${order}&page=${page}&size=${size}&${param}`);\n    return response.data;\n};\n\nconst getAllBookEnabled = async (page: number, param: string) => {\n    const response = await axios.get(API_URL + `/books/enabled?&page=${page}&size=8&${param}`);\n    return response.data;\n};\n\nconst getBookById = async (bookId: number) => {\n    const response = await axios.get(API_URL + `/books/${bookId}`);\n    return response.data;\n};\n\nconst getBooksByUserId = async (page: number, size: number, param: string) => {\n    const response = await axios.get(API_URL + `/books/user/${currentUser().userId}?page=${page}&size=${size}&${param}`);\n    return response.data;\n};\n\nconst addBook = async (book: Book) => {\n    const response = await axios.post(API_URL + `/books/${currentUser().userId}`, JSON.stringify(book), { headers: authHeader() });\n    return response.data;\n};\n\nconst updateBook = async (book: Book, bookId: number, userId: number | undefined) => {\n    const response = await axios.put(API_URL + `/books/${bookId}/${userId}`, JSON.stringify(book), { headers: authHeader() });\n    return response.data;\n};\n\nconst deleteBook = async (bookId: number) => {\n    const response = await axios.delete(API_URL + `/books/${bookId}`, { headers: authHeader() });\n    return response.headers;\n};\n\nconst bookService = {\n    getAllBook,\n    getAllBookEnabled,\n    addBook,\n    getBooksByUserId,\n    updateBook,\n    deleteBook,\n    getBookById\n};\n\nexport default bookService;\n","import axios from \"axios\";\nimport { API_URL } from \"../const\";\nimport authHeader from \"./auth-header\";\nimport currentUser from \"./user-info\";\n\n// const getAllBook = async (orderBy: string, order: string, page: number, size: number, param: string) => {\n//     const response = await axios.get(API_URL + `?orderBy=${orderBy}&order=${order}&page=${page}&size=${size}&${param}`);\n//     return response.data;\n// };\n\n// const getAllBookEnabled = async (page: number, param: string) => {\n//     const response = await axios.get(API_URL + `/enabled-book?&page=${page}&size=8&${param}`);\n//     return response.data;\n// };\n\nconst getCommentById = async (commentId: number) => {\n    const response = await axios.get(API_URL + `/comments/${commentId}`);\n    return response.data;\n};\n\nconst getCommentByBookId = async (bookId: number) => {\n    const response = await axios.get(API_URL + `/comments/book/${bookId}`);\n    return response.data;\n};\n\n// const getBooksByCategoryId = async (categoryId: number) => {\n//   const response = await axios.get(API_URL + `/category/${categoryId}`);\n//   return response.data;\n// };\n\n// const getBooksByKeyword = async (keyword: string) => {\n//   const response = await axios.get(API_URL + `/search?keyword=${keyword}`);\n//   return response.data;\n// }\n\nconst addComment = async (comment: Comment, bookId: number) => {\n    const response = await axios.post(API_URL + `/comments/${currentUser().userId}/${bookId}`, JSON.stringify(comment), { headers: authHeader() });\n    return response;\n};\n\nconst updateComment = async (comment: Comment, commentId: number, userId: number | undefined, bookId: number | undefined) => {\n    const response = await axios.put(API_URL + `/comments/${commentId}/${userId}/${bookId}`, JSON.stringify(comment), { headers: authHeader() });\n    return response.data;\n};\n\nconst deleteComment = async (commentId: number) => {\n    const response = await axios.delete(API_URL + `/comments/${commentId}`, { headers: authHeader() });\n    return response.headers;\n};\n\nconst commentService = {\n    getCommentByBookId,\n    // getAllBookEnabled,\n    // getBooksByKeyword,\n    addComment,\n    // getBooksByUserId,\n    updateComment,\n    deleteComment,\n    // getBooksByCategoryId,\n    getCommentById\n};\n\nexport default commentService;","import { Button, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\n\ninterface Props {\n    addComment: AddComment;\n}\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                width: '100%',\n                margin: 'auto',\n            },\n            width: '95%',\n        },\n        formControlTextField: {\n            width: '100%',\n        },\n        formControlBtnSubmit: {\n            float: 'right',\n            width: 200,\n            textTransform: 'none',\n            marginTop: theme.spacing(1),\n            marginLeft: theme.spacing(2),\n            color: '#be9c91'\n        }\n    }),\n);\n\nexport default function AddComment({ addComment }: Props) {\n    const classes = useStyles();\n    const [comment, setComment] = React.useState<Comment>({} as Comment);\n    const [helperText, setHelperText] = React.useState<String>(\"\");\n    const [isError, setIsError] = React.useState<boolean>(false);\n\n    const submit = (event: any) => {\n        event.preventDefault();\n\n        if (comment.message === undefined || comment.message === \"\") {\n            setIsError(true);\n            setHelperText(\"Comment must not be empty\")\n        } else {\n            const today = new Date();\n            const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n            const dateTime = date + ' ' + time;\n\n            comment.createdAt = dateTime;\n            comment.updatedAt = dateTime;\n\n            addComment(comment);\n\n            setComment({ ...comment, message: '', createdAt: '', updatedAt: '' });\n        }\n    }\n\n    const onChangeTagName = (event: any) => {\n        if (comment.message !== \"\") {\n            setIsError(false);\n            setHelperText(\"\");\n        }\n        setComment({ ...comment, message: event.target.value });\n    }\n    return (\n        <form className={classes.root} noValidate>\n            <FormControl className={classes.formControlTextField}>\n                <TextField\n                    id=\"multiline\"\n                    autoComplete='off'\n                    error={isError}\n                    helperText={helperText}\n                    required\n                    label=\"Add comment\"\n                    multiline\n                    rows={4}\n                    variant=\"outlined\"\n                    value={comment.message}\n                    placeholder=\"Add comment\"\n                    onChange={(event) => onChangeTagName(event)}\n                />\n\n            </FormControl>\n            <FormControl className={classes.formControlBtnSubmit}>\n                <Button\n                    type=\"submit\"\n                    variant=\"outlined\"\n                    onClick={(event) => submit(event)}\n                >\n                    Add Comment\n                </Button>\n            </FormControl>\n        </form>\n    );\n};","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nfunction Alert(props: AlertProps) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function CustomizedSnackbars({ active, status, autoHideDuration, message }: PropSnackBar) {\n    const [open, setOpen] = React.useState(false);\n\n    React.useEffect(\n        () => {\n            if (message !== '') {\n                setOpen(true);\n            }\n        },\n        [active, message]\n    );\n\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpen(false);\n    };\n\n    return (\n        <Snackbar\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n            open={open}\n            autoHideDuration={autoHideDuration}\n            onClose={handleClose}\n        >\n            <Alert onClose={handleClose} severity={status}>\n                {message}\n            </Alert>\n        </Snackbar>\n    );\n}\n","import { Button, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\nimport commentService from '../../services/comment.service';\nimport CustomizedSnackbars from './CustomizedSnackbars';\n\ninterface Props {\n    commentId: number,\n    reload: Reload\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                width: '100%',\n                margin: 'auto',\n            },\n            width: '88%',\n        },\n        formControlTextField: {\n            width: '100%',\n        },\n        formControlBtnSubmit: {\n            float: 'right',\n            width: 200,\n            textTransform: 'none',\n            marginTop: theme.spacing(1),\n            marginLeft: theme.spacing(2),\n        }\n    }),\n);\n\nexport default function EditComment({ reload, commentId }: Props) {\n    const classes = useStyles();\n    const [comment, setComment] = React.useState<Comment>({} as Comment);\n    const [helperText, setHelperText] = React.useState<String>(\"\");\n    const [isError, setIsError] = React.useState<boolean>(false);\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\n\n    React.useEffect(() => {\n        commentService.getCommentById(commentId).then(\n            (res) => {\n                setComment(res);\n            },\n            () => {\n\n            }\n        )\n    }, [commentId]);\n\n    const submit = (event: any) => {\n        event.preventDefault();\n        if (comment.message === \"\") {\n            setIsError(true);\n            setHelperText(\"Comment must not be empty\")\n        } else {\n\n            const today = new Date();\n            const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n            const dateTime = date + ' ' + time;\n\n            comment.updatedAt = dateTime;\n\n            commentService.updateComment(comment, commentId, comment.user?.id, comment.book?.id).then(\n                () => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage('Edit book Success');\n                    setSnackBarStatus('success');\n                    window.setTimeout(function () {\n                        reload();\n                    }, 1000);\n                },\n                (error) => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage(error.response.data.message);\n                    setSnackBarStatus('error');\n                }\n            );\n        }\n    }\n\n    const onChangeTagName = (event: any) => {\n        if (comment.message !== \"\") {\n            setIsError(false);\n            setHelperText(\"\");\n        }\n        setComment({ ...comment, message: event.target.value });\n    }\n    return (\n        <form className={classes.root} noValidate>\n            <FormControl className={classes.formControlTextField}>\n                <TextField\n                    autoComplete='off'\n                    autoFocus\n                    required\n                    error={isError}\n                    helperText={helperText}\n                    id=\"multiline\"\n                    label=\"Edit comment\"\n                    multiline\n                    rows={4}\n                    variant=\"outlined\"\n                    value={comment.message}\n                    placeholder=\"Edit comment\"\n                    onChange={(event) => onChangeTagName(event)}\n                />\n\n            </FormControl>\n            <FormControl className={classes.formControlBtnSubmit}>\n                <Button\n                    type=\"submit\"\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    onClick={(event) => submit(event)}\n                >\n                    Update\n                </Button>\n            </FormControl>\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\n        </form>\n    );\n};","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { Divider, IconButton } from \"@material-ui/core\";\nimport bookService from \"../../services/book.service\";\nimport commentService from \"../../services/comment.service\";\nimport AddComment from \"../common/AddComment\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport getCurrentUser from \"../../services/user-info\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport Modal from \"@material-ui/core/Modal\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport EditComment from \"../common/EditComment\";\nimport Close from \"@material-ui/icons/Close\";\nimport Edit from \"@material-ui/icons/Edit\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            flexGrow: 1,\n            width: '100%',\n            display: 'block',\n            backgroundColor: '#fcecea',\n        },\n        paper: {\n            flexGrow: 1,\n            width: '80%',\n            margin: 'auto',\n            padding: theme.spacing(3),\n            backgroundColor: 'transparent',\n            border: 'none',\n            boxShadow: 'none',\n            textAlign: 'center',\n        },\n        image: {\n            maxWidth: '100%'\n        },\n        username: {\n            display: 'flex',\n            paddingRight: 20,\n            justifyContent: 'flex-end'\n        }\n        ,\n        addComment: {\n            margin: theme.spacing(1),\n            display: 'flex',\n            justifyContent: 'left',\n            width: \"100%\",\n        },\n        listComment: {\n            display: 'block',\n            textAlign: 'left',\n            marginLeft: 4,\n            borderRadius: 4,\n            padding: 3,\n            marginTop: 4,\n        },\n        buttonDialog: {\n            '&:focus': {\n                backgroundColor: '#e0dede96',\n            },\n        },\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            maxWidth: '100%',\n        },\n        paperModal: {\n            [theme.breakpoints.down('sm')]: {\n                width: '70%',\n            },\n            width: '70%',\n            overflowY: \"auto\",\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #333333',\n            borderRadius: 8,\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            '&::-webkit-scrollbar': {\n                width: '0.4em'\n            },\n            '&::-webkit-scrollbar-track': {\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: 'rgba(0,0,0,.1)',\n                outline: '1px solid slategrey'\n            }\n        },\n    }),\n);\n\nexport default function BookDetail() {\n    const classes = useStyles();\n    let { bookId } = useParams<{ bookId: string }>();\n    const [book, setBook] = React.useState<Book>({} as Book);\n    const [comments, setComments] = React.useState<Comment[]>([]);\n    const [change, setChange] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [commentId, setCommentId] = React.useState(0);\n    const [isModalEditCommentOpen, setIsModalEditCommentOpen] = React.useState(false);\n\n    React.useEffect(() => {\n        bookService.getBookById(Number(bookId)).then(\n            (res) => {\n                setBook(res);\n            },\n            (error) => {\n                alert(error.response.data.message);\n            }\n        );\n\n        commentService.getCommentByBookId(Number(bookId)).then(\n            (res) => {\n                setComments(res);\n            },\n            (error) => {\n                alert(error.response.data.message);\n            }\n        );\n        console.log('book detail');\n    }, [bookId, change]);\n\n    const addComment = (comment: Comment) => {\n        commentService.addComment(comment, Number(bookId)).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(error.response.data.message);\n            }\n        )\n    }\n\n    const reload = () => {\n        setChange(!change);\n        closeModalEditComment();\n    }\n\n    const deleteComment = (commentId: any) => {\n        setCommentId(commentId);\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n    }\n\n    const handleSure = () => {\n        commentService.deleteComment(commentId).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(error.response.data.message)\n            }\n        );\n        setOpenDialog(false);\n    }\n\n    const handleNotSure = () => {\n        setOpenDialog(false);\n    }\n\n    const openModalEditComment = () => {\n        setIsModalEditCommentOpen(true);\n    };\n\n    const closeModalEditComment = () => {\n        setIsModalEditCommentOpen(false);\n    };\n\n    const editComment = (commentId: any) => {\n        setCommentId(commentId);\n        openModalEditComment();\n    }\n\n    return (\n        <div className={classes.root}>\n            <Grid item xs={12} md={12}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"h4\" gutterBottom>{`${book.title} - ${book.author}`}</Typography>\n\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                        {new Date(book.createdAt).toLocaleString()}\n                    </Typography>\n\n                    <img className={classes.image} src={book.image} alt=\"\" />\n\n                    <Typography align='justify' variant=\"subtitle1\" gutterBottom>{book.description}</Typography>\n\n                    <div className={classes.username}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {`${book.user?.firstName} ${book.user?.lastName}`}\n                        </Typography>\n                    </div>\n                    <Divider />\n                    <br />\n                    <Typography style={{ float: 'left' }} variant=\"h4\" gutterBottom>Comment</Typography>\n                    {getCurrentUser() && (\n                        <div className={classes.addComment}>\n                            <AddComment addComment={addComment}></AddComment>\n                        </div>\n                    )}\n                    <div>\n                        {comments && comments.map(comment => (\n                            <div className={classes.listComment} key={comment.id}>\n                                <Typography variant=\"h6\" gutterBottom>{comment.user?.email}</Typography>\n                                <Typography variant=\"caption\" gutterBottom>{comment.createdAt}</Typography>\n                                <Typography variant=\"subtitle1\" gutterBottom>\n                                    {comment.message}\n                                    {((getCurrentUser() && comment.user?.id === getCurrentUser().userId)\n                                        || (getCurrentUser() && getCurrentUser().role === \"ROLE_ADMIN\")) && (\n                                            <>\n                                                <IconButton\n                                                    color=\"primary\"\n                                                    aria-controls=\"simple-menu\"\n                                                    aria-haspopup=\"true\"\n                                                    onClick={() => editComment(comment.id)}\n                                                >\n                                                    <Edit />\n                                                </IconButton>\n\n                                                <IconButton\n                                                    color=\"secondary\"\n                                                    aria-controls=\"simple-menu\"\n                                                    aria-haspopup=\"true\"\n                                                    onClick={() => deleteComment(comment.id)}\n                                                >\n                                                    <Close />\n                                                </IconButton>\n                                            </>\n                                        )\n                                    }\n                                </Typography>\n                                <Divider />\n                            </div>\n                        ))}\n                    </div>\n                </Paper>\n            </Grid>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={isModalEditCommentOpen}\n                onClose={closeModalEditComment}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={isModalEditCommentOpen}>\n                    <div className={classes.paperModal}>\n                        <Typography variant=\"h5\" noWrap>\n                            Edit Comment\n                            <IconButton\n                                style={{ float: 'right' }}\n                                color=\"inherit\"\n                                onClick={closeModalEditComment}\n                            >\n                                <CloseIcon />\n                            </IconButton>\n                        </Typography>\n                        <EditComment reload={reload} commentId={commentId} />\n                    </div>\n                </Fade>\n            </Modal>\n            <Dialog\n                open={openDialog}\n                onClose={handleCloseDialog}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">Delete comment</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        Do you want to delete this comment?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\n                        No\n                    </Button>\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"secondary\" autoFocus>\n                        Yes\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from \"@material-ui/core/FormControl\";\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\nimport Button from \"@material-ui/core/Button\";\nimport bookService from \"../../services/book.service\";\n\ninterface Prop {\n    bookId: number,\n    reload: Reload\n}\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                width: '90%',\n                margin: 'auto',\n            },\n        },\n        formControl: {\n            margin: theme.spacing(1),\n            width: \"100%\",\n        },\n        buttonSubmit: {\n            textTransform: 'none',\n            float: 'right'\n        }\n    }),\n);\n\nexport default function EditBook({ bookId, reload }: Prop) {\n    const classes = useStyles();\n    const bookDefault: Book = {} as Book;\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\n    const [helperTextTitle, setHelperTextTitle] = React.useState<String>(\"\");\n    const [helperTextAuthor, setHelperTextAuthor] = React.useState<String>(\"\");\n    const [isTitleError, setIsTitleError] = React.useState<boolean>(false);\n    const [isAuthorError, setIsAuthorError] = React.useState<boolean>(false);\n    const [book, setBook] = React.useState(bookDefault);\n\n    React.useEffect(() => {\n        bookService.getBookById(bookId).then(\n            (res) => {\n                setBook(res);\n            },\n            (error) => {\n                alert(error.message)\n            }\n        );\n        console.log('edit book');\n        // eslint-disable-next-line\n    }, [])\n\n    const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setBook({ ...book, [event.target.name]: event.target.value });\n    };\n\n    const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n\n        if (book.title === undefined || book.title === \"\") {\n            setIsTitleError(true);\n            setHelperTextTitle(\"Title must not be empty\")\n        } else if (book.author === undefined || book.author === \"\") {\n            setIsTitleError(false);\n            setHelperTextTitle(\"\")\n            setIsAuthorError(true);\n            setHelperTextAuthor(\"Author must not be empty\")\n        } else {\n            setIsTitleError(false);\n            setIsAuthorError(false);\n            setHelperTextTitle(\"\")\n            setHelperTextAuthor(\"\")\n\n            const today = new Date();\n            const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n            const dateTime = date + ' ' + time;\n            book.updatedAt = dateTime;\n\n            bookService.updateBook(book, bookId, book.user?.id).then(\n                () => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage('Edit book Success');\n                    setSnackBarStatus('success');\n                    window.setTimeout(function () {\n                        reload();\n                    }, 1000);\n                },\n                (error) => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage(error.response.data.message);\n                    setSnackBarStatus('error');\n                }\n            );\n        }\n    };\n\n    return (\n        <form className={classes.root} onSubmit={onSubmit} noValidate>\n            <div>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        required\n                        error={isTitleError}\n                        helperText={helperTextTitle}\n                        id=\"standard-basic\"\n                        label=\"Title\"\n                        name=\"title\"\n                        value={book.title}\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        required\n                        error={isAuthorError}\n                        helperText={helperTextAuthor}\n                        id=\"standard-basic\"\n                        label=\"Author\"\n                        name=\"author\"\n                        value={book.author}\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        id=\"outlined-multiline-static\"\n                        name=\"description\"\n                        label=\"Description\"\n                        value={book.description}\n                        multiline\n                        rows={10}\n                        variant=\"outlined\"\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        id=\"standard-basic\"\n                        label=\"Link image\"\n                        name=\"image\"\n                        value={book.image}\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <br />\n                <br />\n                <Button\n                    className={classes.buttonSubmit}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    type='submit'\n                >\n                    Update\n                </Button>\n            </div>\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\n        </form>\n    );\n};","import React from 'react';\nimport { alpha, createStyles, makeStyles, Theme, withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Paper from '@material-ui/core/Paper';\nimport bookService from '../../services/book.service';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Modal from '@material-ui/core/Modal';\nimport Fade from '@material-ui/core/Fade';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Typography from '@material-ui/core/Typography';\nimport EditBook from '../common/EditBook';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n    createStyles({\n        head: {\n            backgroundColor: '#333333',\n            color: theme.palette.common.white,\n        },\n        body: {\n            fontSize: 14,\n            wordWrap: 'break-word'\n        },\n    }),\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '&:nth-of-type(odd)': {\n                backgroundColor: theme.palette.action.hover,\n            },\n        },\n    }),\n)(TableRow);\n\ntype Order = 'asc' | 'desc';\n\ninterface HeadCell {\n    disablePadding: boolean;\n    id: keyof Book;\n    label: string;\n    numeric: boolean;\n}\n\nconst headCells: HeadCell[] = [\n    { id: 'title', numeric: false, disablePadding: false, label: 'Title' },\n    { id: 'author', numeric: true, disablePadding: false, label: 'Author' },\n    { id: 'createdAt', numeric: true, disablePadding: false, label: 'Created At' },\n    { id: 'enabled', numeric: true, disablePadding: false, label: 'Status' },\n];\n\ninterface EnhancedTableProps {\n    classes: ReturnType<typeof useStyles>;\n    onRequestSort: (event: React.MouseEvent<unknown>, property: keyof Book) => void;\n    order: Order;\n    orderBy: string;\n}\n\nfunction EnhancedTableHead(props: EnhancedTableProps) {\n    const { classes, order, orderBy, onRequestSort } = props;\n    const createSortHandler = (property: keyof Book) => (event: React.MouseEvent<unknown>) => {\n        onRequestSort(event, property);\n    };\n\n    return (\n        <TableHead>\n            <StyledTableRow>\n                {headCells.map((headCell) => (\n                    <StyledTableCell\n                        key={headCell.id}\n                        align={headCell.numeric ? 'right' : 'left'}\n                        padding={headCell.disablePadding ? 'none' : 'normal'}\n                        sortDirection={orderBy === headCell.id ? order : false}\n                    >\n                        <TableSortLabel\n                            active={orderBy === headCell.id}\n                            direction={orderBy === headCell.id ? order : 'asc'}\n                            onClick={createSortHandler(headCell.id)}\n                            classes={{ root: classes.inActive, active: classes.active, icon: classes.icon }}\n                        >\n                            {headCell.label}\n                            {orderBy === headCell.id ? (\n                                <span className={classes.visuallyHidden}>\n                                    {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                                </span>\n                            ) : null}\n                        </TableSortLabel>\n                    </StyledTableCell>\n                ))}\n                <StyledTableCell align={'right'}>View</StyledTableCell>\n                <StyledTableCell align={'right'}>Edit</StyledTableCell>\n                <StyledTableCell align={'right'}>Delete</StyledTableCell>\n            </StyledTableRow>\n        </TableHead>\n    );\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            width: '100%',\n        },\n        paper: {\n            width: '100%',\n            marginBottom: theme.spacing(2),\n        },\n        table: {\n            minWidth: 750,\n        },\n        visuallyHidden: {\n            border: 0,\n            clip: 'rect(0 0 0 0)',\n            height: 1,\n            margin: -1,\n            overflow: 'hidden',\n            padding: 0,\n            position: 'absolute',\n            top: 20,\n            width: 1,\n        },\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paperModal: {\n            [theme.breakpoints.down('sm')]: {\n                width: '90%',\n            },\n            width: '70%',\n            overflowY: \"auto\",\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #333333',\n            borderRadius: 8,\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            '&::-webkit-scrollbar': {\n                width: '0.4em'\n            },\n            '&::-webkit-scrollbar-track': {\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: 'rgba(0,0,0,.1)',\n                outline: '1px solid slategrey'\n            }\n        },\n        buttonDialog: {\n            '&:focus': {\n                backgroundColor: '#e0dede96',\n            },\n        },\n        inActive: {\n            color: 'white',\n            \"&:hover\": {\n                color: '#8bf6ff',\n            },\n            '&$active': {\n                color: '#8bf6ff',\n            },\n        },\n        active: {\n            color: \"#8bf6ff\",\n        },\n        icon: {\n            color: '#8bf6ff !important'\n        },\n        search: {\n            borderRadius: theme.shape.borderRadius,\n            backgroundColor: alpha(theme.palette.common.white, 0.15),\n            '&:hover': {\n                backgroundColor: alpha(theme.palette.common.white, 0.25),\n            },\n            width: '50%',\n        },\n        searchIcon: {\n            padding: theme.spacing(0, 2),\n            height: '100%',\n            position: 'absolute',\n            pointerEvents: 'none',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        inputRoot: {\n            color: 'inherit',\n        },\n        inputInput: {\n            padding: theme.spacing(1, 1, 1, 0),\n            // vertical padding + font size from searchIcon\n            paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n            transition: theme.transitions.create('width'),\n            width: '100%',\n            [theme.breakpoints.up('md')]: {\n                width: '20ch',\n            },\n        },\n    }),\n);\n\nexport default function BooksList() {\n    const classes = useStyles();\n    const [isModalEditBookOpen, setIsModalEditBookOpen] = React.useState(false);\n    const [bookId, setBookId] = React.useState(-1);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [order, setOrder] = React.useState<Order>('desc');\n    const [orderBy, setOrderBy] = React.useState<keyof Book>('createdAt');\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const [totalRows, setTotalRows] = React.useState(0);\n    const [books, setBooks] = React.useState<Book[]>([]);\n    const param = useLocation().search.substr(1);\n    const [change, setChange] = React.useState(false);\n\n    React.useEffect(() => {\n        bookService.getAllBook(orderBy, order, page, rowsPerPage, param).then(\n            (res) => {\n                setBooks(res.items);\n                setTotalRows(res.totalResults);\n            },\n            (error) => {\n                alert(error.response.data.message);\n            }\n        );\n        console.log('book list');\n    }, [order, orderBy, page, rowsPerPage, param, change]);\n\n    const handleRequestSort = (event: React.MouseEvent<unknown>, property: keyof Book) => {\n        const isAsc = orderBy === property && order === 'asc';\n        setOrder(isAsc ? 'desc' : 'asc');\n        setOrderBy(property);\n    };\n\n    const handleChangePage = (event: unknown, newPage: number) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    const openModalEditBook = (bookId: number) => {\n        setBookId(bookId);\n        setIsModalEditBookOpen(true);\n    };\n\n    const closeModalEditBook = () => {\n        setIsModalEditBookOpen(false);\n    };\n\n    const deleteBook = (bookId: any) => {\n        setBookId(bookId);\n        setOpenDialog(true);\n    }\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n    }\n\n    const handleSure = () => {\n        bookService.deleteBook(bookId).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(error.message)\n            }\n        );\n        setOpenDialog(false);\n    }\n\n    const handleNotSure = () => {\n        setOpenDialog(false);\n    }\n\n    const reload: Reload = () => {\n        setChange(!change);\n        closeModalEditBook();\n    }\n\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, totalRows - page * rowsPerPage);\n\n    const enabledBook = (book: Book, bookId: number) => {\n        book.enabled = !book.enabled;\n        bookService.updateBook(book, bookId, book.user?.id).then(\n            (res) => {\n                reload();\n                console.log('enabledBook');\n            },\n            (error) => {\n                alert(error.response.data.message)\n            }\n        );\n    }\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper}>\n                <TableContainer>\n                    <Table\n                        aria-label=\"sticky table\"\n                        className={classes.table}\n                        aria-labelledby=\"tableTitle\"\n                        size=\"small\"\n                    >\n                        <EnhancedTableHead\n                            classes={classes}\n                            order={order}\n                            orderBy={orderBy}\n                            onRequestSort={handleRequestSort}\n                        />\n                        <TableBody>\n                            {books.length === 0 && (\n                                <StyledTableRow>\n                                    <StyledTableCell align=\"center\" colSpan={7}>Empty</StyledTableCell>\n                                </StyledTableRow>\n                            )}\n                            {books.map((book, index) => {\n                                return (\n                                    <StyledTableRow key={`${book.title}${book.author}`}>\n                                        <TableCell align=\"left\">{book.title}</TableCell>\n                                        <TableCell align=\"right\">{book.author}</TableCell>\n                                        <TableCell align=\"right\">{book.createdAt}</TableCell>\n                                        <StyledTableCell align=\"right\">\n                                            <Tooltip title={book.enabled ? 'Disable Book' : 'Enable Book'}>\n                                                <Button\n                                                    style={{ textTransform: 'none' }}\n                                                    onClick={() => enabledBook(book, Number(book.id))}\n                                                >\n                                                    <Typography\n                                                        color={book.enabled ? \"primary\" : \"secondary\"}\n                                                        variant=\"subtitle1\"\n                                                        component=\"h2\"\n                                                    >\n                                                        {book.enabled ? 'Enabled' : 'Disabled'}\n                                                    </Typography>\n                                                </Button>\n                                            </Tooltip>\n                                        </StyledTableCell>\n                                        <StyledTableCell align=\"right\">\n                                            <Tooltip title=\"View\">\n                                                <IconButton\n                                                    aria-label=\"view\"\n                                                    component={NavLink}\n                                                    to={`/book/${book.id}`}\n                                                >\n                                                    <VisibilityIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </StyledTableCell>\n                                        <StyledTableCell align=\"right\">\n                                            <Tooltip title=\"Edit\">\n                                                <IconButton\n                                                    onClick={() => openModalEditBook(Number(book.id))}\n                                                    aria-label=\"edit\"\n                                                >\n                                                    <EditIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </StyledTableCell>\n                                        <StyledTableCell align=\"right\">\n                                            <Tooltip title=\"Delete\">\n                                                <IconButton\n                                                    onClick={() => deleteBook(book.id)}\n                                                    aria-label=\"delete\"\n                                                >\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                            </Tooltip>\n                                            <span>&emsp;</span>\n                                        </StyledTableCell>\n                                    </StyledTableRow>\n                                );\n                            })}\n                            {emptyRows > 0 && (\n                                <StyledTableRow style={{ height: 62 * emptyRows }}>\n                                    <TableCell colSpan={7} />\n                                </StyledTableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 20, 50]}\n                    component=\"div\"\n                    count={totalRows}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    onPageChange={handleChangePage}\n                    onRowsPerPageChange={handleChangeRowsPerPage}\n                />\n            </Paper>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={isModalEditBookOpen}\n                onClose={closeModalEditBook}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={isModalEditBookOpen}>\n                    <div className={classes.paperModal}>\n                        <Typography variant=\"h5\" noWrap>\n                            Edit Book\n                            <IconButton\n                                style={{ float: 'right' }}\n                                color=\"inherit\"\n                                onClick={closeModalEditBook}\n                            >\n                                <CloseIcon />\n                            </IconButton>\n                        </Typography>\n                        <EditBook reload={reload} bookId={bookId} />\n                    </div>\n                </Fade>\n            </Modal>\n            <Dialog\n                open={openDialog}\n                onClose={handleCloseDialog}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{\"Delete book\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        Do you want to delete this book?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\n                        No\n                    </Button>\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"secondary\" autoFocus>\n                        Yes\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { NavLink } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n    root: {\n        margin: 'auto',\n        height: 500,\n        marginTop: 24,\n        width: 345,\n        backgroundColor: 'rgba(255, 255, 255, 0.06)',\n        backdropFilter: 'blur(25px)',\n        boxShadow: '20px 20px 22px rgba(0, 0, 0, 0.2)',\n        border: '2px solid rgba(255,255,255,0.1)',\n        color: '#000000'\n    },\n    media: {\n        height: 350,\n        objectFit: 'contain'\n    },\n    cardButton: {\n        textTransform: 'none',\n        marginLeft: 'auto',\n        color: '#000000'\n    },\n    cardContent: {\n        height: 70,\n        color: '#000000'\n    }\n});\n\ninterface Prop {\n    book: Book\n}\n\nexport default function CardBook({ book }: Prop) {\n    const classes = useStyles();\n\n    return (\n        <Card className={classes.root}>\n            <CardActionArea>\n                <CardMedia\n                    component=\"img\"\n                    className={classes.media}\n                    image={book.image}\n                    title=\"Contemplative Reptile\"\n                />\n                <CardContent className={classes.cardContent}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        {book.title}\n                    </Typography>\n                    <Typography variant=\"body2\" component=\"p\">\n                        {book.author}\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button\n                    color=\"primary\"\n                    component={NavLink}\n                    to={`/book/${book.id}`}\n                    className={classes.cardButton}\n                >\n                    View\n                </Button>\n            </CardActions>\n        </Card>\n    );\n}\n","import React from 'react';\nimport bookService from '../../services/book.service';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { useLocation } from 'react-router-dom';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport CardBook from '../common/CardBook';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            flexGrow: 1,\n        },\n        paper: {\n            padding: theme.spacing(0),\n            height: 500,\n            maxWidth: '100%',\n            display: 'inline',\n            textAlign: 'center',\n            color: theme.palette.text.secondary,\n        },\n        container: {\n            alignItems: 'center',\n            padding: theme.spacing(2),\n            paddingTop: theme.spacing(0),\n            paddingBottom: theme.spacing(8)\n        },\n        pagination: {\n            borderRadius: 4,\n            position: 'fixed',\n            right: theme.spacing(2),\n            bottom: theme.spacing(2),\n            backdropFilter: 'blur(5px)',\n        },\n    }),\n);\n\nexport default function Home() {\n    const classes = useStyles();\n    const postDefault: Book[] = [];\n    const [page, setPage] = React.useState(1);\n    const [totalPage, setTotalPage] = React.useState(0);\n    const param = useLocation().search.substr(1);\n    const [books, setBooks] = React.useState(postDefault);\n\n    React.useEffect(() => {\n        bookService.getAllBookEnabled(page - 1, param).then(\n            (res) => {\n                setBooks(res.items);\n                setTotalPage(Math.ceil(res.totalResults / 8));\n            },\n            (error) => {\n                alert(error.message)\n            }\n        );\n        console.log('Home');\n        // eslint-disable-next-line\n    }, [page, totalPage]);\n\n    React.useEffect(() => {\n        bookService.getAllBookEnabled(page - 1, param).then(\n            (res) => {\n                setBooks(res.items);\n                setTotalPage(Math.ceil(res.totalItems / 8));\n            },\n            (error) => {\n                alert(error.message)\n            }\n        );\n        setPage(1);\n        console.log('Home');\n        // eslint-disable-next-line\n    }, [param]);\n\n    const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\n        setPage(value);\n    };\n\n    return (\n        <>\n            <div className={classes.root}>\n                <Grid container className={classes.container}>\n                    {\n                        books.map(book => (\n                            <Grid key={book.title + book.author} item xs={12} sm={6} md={3}>\n                                <Paper className={classes.paper}>\n                                    <CardBook book={book} />\n                                </Paper>\n                            </Grid>\n                        ))\n                    }\n                </Grid>\n            </div>\n            <div className={classes.pagination}>\n                <Pagination\n                    count={totalPage}\n                    variant=\"outlined\"\n                    shape=\"rounded\"\n                    page={page}\n                    onChange={handleChange}\n                />\n            </div>\n        </>\n    );\n}\n","import React, { useReducer, useEffect } from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Button from '@material-ui/core/Button';\nimport authService from '../../services/auth.service';\nimport CustomizedSnackbars from '../common/CustomizedSnackbars';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            width: 400,\n            maxWidth: '100%',\n            margin: `${theme.spacing(0)} auto`,\n        },\n        loginBtn: {\n            marginTop: theme.spacing(2),\n            flexGrow: 1,\n            color: '#333333',\n            backgroundColor: '#d2bba6',\n            '&:hover': {\n                backgroundColor: '#d2bba6',\n            },\n        },\n        header: {\n            textAlign: 'center',\n            color: '#333333',\n            backgroundColor: '#d2bba6'\n        },\n        card: {\n            marginTop: theme.spacing(10),\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\n        },\n    })\n);\n\n//state type\n\ntype State = {\n    username: string\n    password: string\n    isButtonDisabled: boolean\n    message: string\n    activeSnackBar: boolean\n};\n\nconst initialState: State = {\n    username: '',\n    password: '',\n    isButtonDisabled: true,\n    message: '',\n    activeSnackBar: false\n};\n\ntype Action = { type: 'setUsername', payload: string }\n    | { type: 'setPassword', payload: string }\n    | { type: 'setIsButtonDisabled', payload: boolean }\n    | { type: 'loginFailed', payload: string };\n\nconst reducer = (state: State, action: Action): State => {\n    switch (action.type) {\n        case 'setUsername':\n            return {\n                ...state,\n                username: action.payload\n            };\n        case 'setPassword':\n            return {\n                ...state,\n                password: action.payload\n            };\n        case 'setIsButtonDisabled':\n            return {\n                ...state,\n                isButtonDisabled: action.payload\n            };\n        case 'loginFailed':\n            return {\n                ...state,\n                message: action.payload,\n                activeSnackBar: !state.activeSnackBar\n            };\n    }\n}\n\nexport default function Login() {\n    const classes = useStyles();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const [helperText, setHelperText] = React.useState<String>(\"\");\n    const [isError, setIsError] = React.useState<boolean>(false);\n    const history = useHistory();\n\n    useEffect(() => {\n        if (state.username.trim() && state.password.trim()) {\n            dispatch({\n                type: 'setIsButtonDisabled',\n                payload: false\n            });\n        } else {\n            dispatch({\n                type: 'setIsButtonDisabled',\n                payload: true\n            });\n        }\n    }, [state.username, state.password]);\n\n    const handleLogin = () => {\n        const userLogin = {\n            email: state.username,\n            password: state.password\n        }\n\n        authService.login(userLogin).then(\n            () => {\n                window.setTimeout(function () {\n                    history.push('/home');\n                }, 1000);\n            },\n            (error) => {\n                if (error.response.data.message === \"User is disabled\") {\n                    dispatch({\n                        type: 'loginFailed',\n                        payload: error.response.data.message\n                    });\n                } else {\n                    dispatch({\n                        type: 'loginFailed',\n                        payload: \"Email or password is incorect\"\n                    });\n                }\n            }\n        );\n    };\n\n    const handleKeyPress = (event: React.KeyboardEvent) => {\n        if (event.keyCode === 13 || event.which === 13) {\n            state.isButtonDisabled || handleLogin();\n        }\n    };\n\n    const handleUsernameChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            if (validateEmail(event.target.value)) {\n                dispatch({\n                    type: 'setUsername',\n                    payload: event.target.value\n                });\n\n                setIsError(false);\n                setHelperText(\"\");\n            } else {\n                setIsError(true);\n                setHelperText(\"Email is not valid\");\n                dispatch({\n                    type: 'setIsButtonDisabled',\n                    payload: true\n                });\n            }\n        };\n\n    const handlePasswordChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            dispatch({\n                type: 'setPassword',\n                payload: event.target.value\n            });\n        }\n\n    const validateEmail = (email: string) => {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n    }\n\n    return (\n        <>\n            <form className={classes.container} noValidate>\n                <Card className={classes.card}>\n                    <CardHeader className={classes.header} title=\"Login App\" />\n                    <CardContent>\n                        <div>\n                            <TextField\n                                required\n                                autoComplete='off'\n                                error={isError}\n                                helperText={helperText}\n                                fullWidth\n                                id=\"username\"\n                                type=\"email\"\n                                label=\"Username\"\n                                placeholder=\"Username\"\n                                margin=\"normal\"\n                                onChange={handleUsernameChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                            <TextField\n                                required\n                                autoComplete='off'\n                                fullWidth\n                                id=\"password\"\n                                type=\"password\"\n                                label=\"Password\"\n                                placeholder=\"Password\"\n                                margin=\"normal\"\n                                onChange={handlePasswordChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                        </div>\n                    </CardContent>\n                    <CardActions>\n                        <Button\n                            variant=\"contained\"\n                            size=\"large\"\n                            color=\"secondary\"\n                            className={classes.loginBtn}\n                            onClick={handleLogin}\n                            disabled={state.isButtonDisabled}>\n                            Login\n                        </Button>\n                    </CardActions>\n                </Card>\n            </form>\n            <CustomizedSnackbars active={state.activeSnackBar} status={'error'} autoHideDuration={4000} message={state.message} />\n        </>\n    );\n}","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from \"@material-ui/core/FormControl\";\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\nimport Button from \"@material-ui/core/Button\";\nimport bookService from \"../../services/book.service\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                width: '90%',\n                margin: 'auto',\n            },\n        },\n        formControl: {\n            margin: theme.spacing(1),\n            width: \"100%\",\n        },\n        buttonSubmit: {\n            textTransform: 'none',\n            float: 'right'\n        }\n    }),\n);\n\ninterface Prop {\n    reload: Reload;\n}\n\nexport default function AddBook({ reload }: Prop) {\n    const classes = useStyles();\n    const bookDefault: Book = {} as Book;\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\n    const [helperTextTitle, setHelperTextTitle] = React.useState<String>(\"\");\n    const [helperTextAuthor, setHelperTextAuthor] = React.useState<String>(\"\");\n    const [isTitleError, setIsTitleError] = React.useState<boolean>(false);\n    const [isAuthorError, setIsAuthorError] = React.useState<boolean>(false);\n    const [book, setBook] = React.useState(bookDefault);\n\n    const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setBook({ ...book, [event.target.name]: event.target.value });\n    };\n\n    const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n\n        if (book.title === undefined || book.title === \"\") {\n            setIsTitleError(true);\n            setHelperTextTitle(\"Title must not be empty\")\n        } else if (book.author === undefined || book.author === \"\") {\n            setIsTitleError(false);\n            setHelperTextTitle(\"\")\n            setIsAuthorError(true);\n            setHelperTextAuthor(\"Author must not be empty\")\n        } else {\n            setIsTitleError(false);\n            setIsAuthorError(false);\n            setHelperTextTitle(\"\")\n            setHelperTextAuthor(\"\")\n            const today = new Date();\n            const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n            const dateTime = date + ' ' + time;\n\n            book.createdAt = dateTime;\n            book.updatedAt = dateTime;\n\n            bookService.addBook(book).then(\n                (res) => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage('Add new book Success');\n                    setSnackBarStatus('success');\n                    window.setTimeout(function () {\n                        reload();\n                    }, 1000);\n                },\n                (error) => {\n                    setActiveSnackBar(!activeSnackBar);\n                    setSnackBarMessage(error.response.data.message);\n                    setSnackBarStatus('error');\n                }\n            );\n        }\n    };\n\n    return (\n        <form className={classes.root} onSubmit={onSubmit} noValidate>\n            <div>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        required\n                        id=\"standard-basic\"\n                        error={isTitleError}\n                        helperText={helperTextTitle}\n                        autoComplete='off'\n                        label=\"Title\"\n                        name=\"title\"\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        required\n                        error={isAuthorError}\n                        helperText={helperTextAuthor}\n                        autoComplete='off'\n                        id=\"standard-basic\"\n                        label=\"Author\"\n                        name=\"author\"\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        id=\"outlined-multiline-static\"\n                        name=\"description\"\n                        label=\"Description\"\n                        multiline\n                        rows={10}\n                        variant=\"outlined\"\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <FormControl className={classes.formControl}>\n                    <TextField\n                        autoComplete='off'\n                        id=\"standard-basic\"\n                        label=\"Link image\"\n                        name=\"image\"\n                        onChange={onChange}\n                    />\n                </FormControl>\n                <br />\n                <br />\n                <Button\n                    className={classes.buttonSubmit}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    type='submit'\n                >\n                    Add\n                </Button>\n            </div>\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\n        </form>\n    );\n};","import React from 'react';\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport IconButton from '@material-ui/core/IconButton';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { Backdrop, Fade, Modal } from '@material-ui/core';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport AddBook from '../common/AddBook';\nimport Typography from '@material-ui/core/Typography';\nimport bookService from '../../services/book.service';\nimport EditBook from '../common/EditBook';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n    createStyles({\n        head: {\n            backgroundColor: '#333333',\n            color: theme.palette.common.white,\n        },\n        body: {\n            fontSize: 14,\n            wordWrap: 'break-word'\n        },\n    }),\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '&:nth-of-type(odd)': {\n                backgroundColor: theme.palette.action.hover,\n            },\n        },\n    }),\n)(TableRow);\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        table: {\n            minWidth: 800,\n        },\n        tableContainer: {\n            borderRadius: 0,\n        },\n        fab: {\n            margin: theme.spacing(2),\n        },\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            [theme.breakpoints.down('sm')]: {\n                width: '90%',\n            },\n            width: '70%',\n            overflowY: \"auto\",\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #333333',\n            borderRadius: 8,\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n            '&::-webkit-scrollbar': {\n                width: '0.4em'\n            },\n            '&::-webkit-scrollbar-track': {\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: 'rgba(0,0,0,.1)',\n                outline: '1px solid slategrey'\n            }\n        },\n        buttonDialog: {\n            '&:focus': {\n                backgroundColor: '#e0dede96',\n            },\n        },\n    }),\n);\n\nexport default function MyBooksList() {\n    const classes = useStyles();\n    const [isModalAddBookOpen, setIsModalAddBookOpen] = React.useState(false);\n    const [isModalEditBookOpen, setIsModalEditBookOpen] = React.useState(false);\n    const [bookId, setBookId] = React.useState(-1);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const [totalRows, setTotalRows] = React.useState(0);\n    const [books, setBooks] = React.useState<Book[]>([]);\n    const param = useLocation().search.substr(1);\n    const [change, setChange] = React.useState(false);\n\n    React.useEffect(() => {\n        bookService.getBooksByUserId(page, rowsPerPage, param).then(\n            (res) => {\n                setBooks(res.items);\n                setTotalRows(res.totalResults);\n            },\n            (error) => {\n                alert(error.response.data.message)\n            }\n        );\n        console.log('my book list');\n    }, [page, rowsPerPage, param, change]);\n\n    const handleChangePage = (event: unknown, newPage: number) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    const openModalAddBook = () => {\n        setIsModalAddBookOpen(true);\n    };\n\n    const closeModalAddBook = () => {\n        setIsModalAddBookOpen(false);\n    };\n\n    const openModalEditBook = (bookId: number) => {\n        setBookId(bookId);\n        setIsModalEditBookOpen(true);\n    };\n\n    const closeModalEditBook = () => {\n        setIsModalEditBookOpen(false);\n    };\n\n    const deleteBook = (bookId: any) => {\n        setBookId(bookId);\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n    }\n\n    const handleSure = () => {\n        bookService.deleteBook(bookId).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(error.message)\n            }\n        );\n        setOpenDialog(false);\n    }\n\n    const handleNotSure = () => {\n        setOpenDialog(false);\n    }\n\n    const reload: Reload = () => {\n        setChange(!change);\n        closeModalAddBook();\n        closeModalEditBook();\n    };\n\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, totalRows - page * rowsPerPage);\n\n    return (\n        <>\n            <TableContainer component={Paper} className={classes.tableContainer}>\n                <Table\n                    aria-label=\"sticky table\"\n                >\n                    <TableHead>\n                        <TableRow>\n                            <StyledTableCell align=\"left\">\n                                <Typography variant=\"h5\" noWrap>\n                                    My Book List\n                                    <Button\n                                        style={{ textTransform: 'none', float: 'right' }}\n                                        variant=\"outlined\"\n                                        color=\"inherit\"\n                                        onClick={openModalAddBook}\n                                    >\n                                        <AddIcon />\n                                        Add Book\n                                    </Button>\n                                </Typography>\n                            </StyledTableCell>\n                        </TableRow>\n                    </TableHead>\n                </Table>\n            </TableContainer>\n            <TableContainer component={Paper} className={classes.tableContainer}>\n                <Table\n                    className={classes.table}\n                    stickyHeader\n                    aria-label=\"sticky table\"\n                    size=\"small\"\n                >\n                    <TableHead>\n                        <TableRow>\n                            <StyledTableCell>Title</StyledTableCell>\n                            <StyledTableCell align=\"right\">Author </StyledTableCell>\n                            <StyledTableCell align=\"right\">Status </StyledTableCell>\n                            <StyledTableCell align=\"right\">View <span>&emsp;</span></StyledTableCell>\n                            <StyledTableCell align=\"right\">Edit <span>&emsp;</span></StyledTableCell>\n                            <StyledTableCell align=\"right\">Delete <span>&emsp;</span></StyledTableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {books.length === 0 && (\n                            <StyledTableRow>\n                                <StyledTableCell align=\"center\" colSpan={6}>Empty</StyledTableCell>\n                            </StyledTableRow>\n                        )}\n                        {books.map((book) => (\n                            <StyledTableRow key={book.id}>\n                                <StyledTableCell component=\"th\" scope=\"row\">{book.title}</StyledTableCell>\n                                <StyledTableCell align=\"right\">{book.author}</StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                    <Typography\n                                        color={book.enabled ? \"primary\" : \"secondary\"}\n                                        variant=\"subtitle1\"\n                                        component=\"h2\"\n                                    >\n                                        {book.enabled ? 'Enabled' : 'Disabled'}\n                                    </Typography>\n                                </StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                    <Tooltip title=\"View\">\n                                        <IconButton\n                                            aria-label=\"view\"\n                                            component={NavLink}\n                                            to={`/book/${book.id}`}\n                                        >\n                                            <VisibilityIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                    <Tooltip title=\"Edit\">\n                                        <IconButton\n                                            onClick={() => openModalEditBook(Number(book.id))}\n                                            aria-label=\"edit\"\n                                        >\n                                            <EditIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </StyledTableCell>\n                                <StyledTableCell align=\"right\">\n                                    <Tooltip title=\"Delete\">\n                                        <IconButton\n                                            onClick={() => deleteBook(book.id)}\n                                            aria-label=\"delete\"\n                                        >\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                    <span>&emsp;</span>\n                                </StyledTableCell>\n                            </StyledTableRow>\n                        ))}\n                        {emptyRows > 0 && (\n                            <TableRow style={{ height: 62 * emptyRows }}>\n                                <TableCell colSpan={7} />\n                            </TableRow>\n                        )}\n                    </TableBody>\n                </Table>\n                <TablePagination\n                    rowsPerPageOptions={[10, 20, 50]}\n                    component=\"div\"\n                    count={totalRows}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    onPageChange={handleChangePage}\n                    onRowsPerPageChange={handleChangeRowsPerPage}\n                />\n            </TableContainer>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={isModalAddBookOpen}\n                onClose={closeModalAddBook}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={isModalAddBookOpen}>\n                    <div className={classes.paper}>\n                        <Typography variant=\"h5\" noWrap>\n                            Add Book\n                            <IconButton\n                                style={{ float: 'right' }}\n                                color=\"inherit\"\n                                onClick={closeModalAddBook}\n                            >\n                                <CloseIcon />\n                            </IconButton>\n                        </Typography>\n                        <AddBook reload={reload} />\n                    </div>\n                </Fade>\n            </Modal>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={isModalEditBookOpen}\n                onClose={closeModalEditBook}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={isModalEditBookOpen}>\n                    <div className={classes.paper}>\n                        <Typography variant=\"h5\" noWrap>\n                            Edit Book\n                            <IconButton\n                                style={{ float: 'right' }}\n                                color=\"inherit\"\n                                onClick={closeModalEditBook}\n                            >\n                                <CloseIcon />\n                            </IconButton>\n                        </Typography>\n                        <EditBook reload={reload} bookId={bookId} />\n                    </div>\n                </Fade>\n            </Modal>\n            <Dialog\n                open={openDialog}\n                onClose={handleCloseDialog}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{\"Delete book\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        Do you want to delete this book?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\n                        No\n                    </Button>\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"secondary\" autoFocus>\n                        Yes\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\n","import React from 'react';\n\nexport default function NotFound() {\n    return (\n        <>\n            <h1>Notfound</h1>\n        </>\n    )\n}","import React, { useReducer, useEffect } from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Button from '@material-ui/core/Button';\nimport authService from '../../services/auth.service';\nimport CustomizedSnackbars from '../common/CustomizedSnackbars';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            width: 400,\n            maxWidth: '100%',\n            margin: `${theme.spacing(0)} auto`\n        },\n        loginBtn: {\n            marginTop: theme.spacing(2),\n            flexGrow: 1,\n            color: '#333333',\n            backgroundColor: '#d2bba6',\n            '&:hover': {\n                backgroundColor: '#d2bba6',\n            },\n        },\n        header: {\n            textAlign: 'center',\n            backgroundColor: '#d2bba6',\n            color: '#333333'\n        },\n        card: {\n            marginTop: theme.spacing(10),\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\n        },\n    })\n);\n\n//state type\n\ntype State = {\n    firstName: string\n    lastName: string\n    avata: string\n    email: string\n    password: string\n    isButtonDisabled: boolean\n    message: string\n    activeSnackBar: boolean\n    status: string\n};\n\nconst initialState: State = {\n    firstName: '',\n    lastName: '',\n    avata: '',\n    email: '',\n    password: '',\n    isButtonDisabled: true,\n    message: '',\n    activeSnackBar: false,\n    status: ''\n};\n\ntype Action = { type: 'setFirstName', payload: string }\n    | { type: 'setLastName', payload: string }\n    | { type: 'setAvata', payload: string }\n    | { type: 'setEmail', payload: string }\n    | { type: 'setPassword', payload: string }\n    | { type: 'setIsButtonDisabled', payload: boolean }\n    | { type: 'registerFailed', payload: string }\n    | { type: 'registerSuccess', payload: string }\n\nconst reducer = (state: State, action: Action): State => {\n    switch (action.type) {\n        case 'setFirstName':\n            return {\n                ...state,\n                firstName: action.payload\n            };\n        case 'setLastName':\n            return {\n                ...state,\n                lastName: action.payload\n            };\n        case 'setAvata':\n            return {\n                ...state,\n                avata: action.payload\n            };\n        case 'setEmail':\n            return {\n                ...state,\n                email: action.payload\n            };\n        case 'setPassword':\n            return {\n                ...state,\n                password: action.payload\n            };\n        case 'setIsButtonDisabled':\n            return {\n                ...state,\n                isButtonDisabled: action.payload\n            };\n        case 'registerFailed':\n            return {\n                ...state,\n                message: action.payload,\n                activeSnackBar: !state.activeSnackBar,\n                status: 'error'\n            };\n        case 'registerSuccess':\n            return {\n                ...state,\n                message: action.payload,\n                activeSnackBar: !state.activeSnackBar,\n                status: 'success'\n            };\n\n    }\n}\n\nexport default function Register() {\n    const classes = useStyles();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const [helperText, setHelperText] = React.useState<String>(\"\");\n    const [isError, setIsError] = React.useState<boolean>(false);\n    const history = useHistory();\n\n    useEffect(() => {\n        if (state.email.trim() && state.password.trim()) {\n            dispatch({\n                type: 'setIsButtonDisabled',\n                payload: false\n            });\n        } else {\n            dispatch({\n                type: 'setIsButtonDisabled',\n                payload: true\n            });\n        }\n    }, [state.email, state.password, state.firstName, state.lastName]);\n\n    const handleRegister = () => {\n        const userRegister = {\n            firstName: state.firstName,\n            lastName: state.lastName,\n            email: state.email,\n            password: state.password\n        }\n\n        authService.register(userRegister).then(\n            () => {\n                dispatch({\n                    type: 'registerSuccess',\n                    payload: 'Register success'\n                });\n                window.setTimeout(function () {\n                    history.push('/login');\n                }, 1000);\n            },\n            (error) => {\n                if (String(error.response.data.message) === \"This email address is already being used\") {\n                    setIsError(true);\n                    setHelperText(\"This email address is already being used\")\n                } else {\n                    dispatch({\n                        type: 'registerFailed',\n                        payload: error.response.data.message\n                    });\n                }\n            }\n        );\n    };\n\n    const handleKeyPress = (event: React.KeyboardEvent) => {\n        if (event.keyCode === 13 || event.which === 13) {\n            state.isButtonDisabled || handleRegister();\n        }\n    };\n\n    const handleFirstNameChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            dispatch({\n                type: 'setFirstName',\n                payload: event.target.value\n            });\n        };\n\n    const handleAvataChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            dispatch({\n                type: 'setAvata',\n                payload: event.target.value\n            });\n        };\n\n    const handleLastNameChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            dispatch({\n                type: 'setLastName',\n                payload: event.target.value\n            });\n        };\n\n    const handleEmailChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            if (validateEmail(event.target.value)) {\n                dispatch({\n                    type: 'setEmail',\n                    payload: event.target.value\n                });\n\n                setIsError(false);\n                setHelperText(\"\");\n            } else {\n                setIsError(true);\n                setHelperText(\"Email is not valid\");\n                dispatch({\n                    type: 'setIsButtonDisabled',\n                    payload: true\n                });\n            }\n        };\n\n    const handlePasswordChange: React.ChangeEventHandler<HTMLInputElement> =\n        (event) => {\n            dispatch({\n                type: 'setPassword',\n                payload: event.target.value\n            });\n        }\n\n    const validateEmail = (email: string) => {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n    }\n    return (\n        <>\n            <form className={classes.container} noValidate>\n                <Card className={classes.card}>\n                    <CardHeader className={classes.header} title=\"Register\" />\n                    <CardContent>\n                        <div>\n                            <TextField\n                                autoComplete='off'\n                                fullWidth\n                                id=\"firstName\"\n                                type=\"text\"\n                                label=\"First name\"\n                                placeholder=\"First name\"\n                                margin=\"normal\"\n                                onChange={handleFirstNameChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                            <TextField\n                                autoComplete='off'\n                                fullWidth\n                                id=\"lastName\"\n                                type=\"text\"\n                                label=\"Last name\"\n                                placeholder=\"Last name\"\n                                margin=\"normal\"\n                                onChange={handleLastNameChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                            <TextField\n                                autoComplete='off'\n                                fullWidth\n                                id=\"avata\"\n                                type=\"text\"\n                                label=\"Avata\"\n                                placeholder=\"Avata link\"\n                                margin=\"normal\"\n                                onChange={handleAvataChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                            <TextField\n                                autoComplete='off'\n                                required\n                                error={isError}\n                                helperText={helperText}\n                                fullWidth\n                                id=\"email\"\n                                type=\"email\"\n                                label=\"Email\"\n                                placeholder=\"Email\"\n                                margin=\"normal\"\n                                onChange={handleEmailChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                            <TextField\n                                autoComplete='off'\n                                required\n                                fullWidth\n                                id=\"password\"\n                                type=\"password\"\n                                label=\"Password\"\n                                placeholder=\"Password\"\n                                margin=\"normal\"\n                                onChange={handlePasswordChange}\n                                onKeyPress={handleKeyPress}\n                            />\n                        </div>\n                    </CardContent>\n                    <CardActions>\n                        <Button\n                            variant=\"contained\"\n                            size=\"large\"\n                            color=\"secondary\"\n                            className={classes.loginBtn}\n                            onClick={handleRegister}\n                            disabled={state.isButtonDisabled}>\n                            Register\n                        </Button>\n                    </CardActions>\n                </Card>\n            </form>\n            <CustomizedSnackbars active={state.activeSnackBar} status={state.status} autoHideDuration={4000} message={state.message} />\n        </>\n    );\n}","import axios from \"axios\";\nimport { API_URL } from \"../const\";\nimport authHeader from \"./auth-header\";\n\nconst getUsers = async () => {\n  const response = await axios.get(API_URL + '/users', { headers: authHeader() });\n  return response.data;\n};\n\nconst getUsersByKeyword = async (param: string) => {\n  const response = await axios.get(API_URL + `/users/search?${param}`);\n  return response.data;\n};\n\nconst updateUser = async (user: User, userId: number) => {\n  const response = await axios.put(API_URL + `/users/${userId}`, JSON.stringify(user), { headers: authHeader() });\n  return response.data;\n};\n\nconst setRoleUser = async (userId: number, roleId: number) => {\n  const response = await axios.put(API_URL + `/users/${userId}/roles/${roleId}`, JSON.stringify(`{}`), { headers: authHeader() });\n  return response.data;\n};\n\nconst userService = {\n  setRoleUser,\n  updateUser,\n  getUsers,\n  getUsersByKeyword\n};\n\nexport default userService;\n","import React from 'react';\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport userService from '../../services/user.service';\nimport getCurrentUser from '../../services/user-info';\nimport Typography from '@material-ui/core/Typography';\nimport { useLocation } from 'react-router-dom';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n    createStyles({\n        head: {\n            backgroundColor: '#333333',\n            color: theme.palette.common.white,\n        },\n        body: {\n            fontSize: 14,\n            wordWrap: 'break-word',\n            backgroundColor: '#ffffff'\n        },\n    }),\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '&:nth-of-type(odd)': {\n                backgroundColor: theme.palette.action.hover,\n            },\n        },\n    }),\n)(TableRow);\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        table: {\n            minWidth: 700,\n        },\n        buttonDialog: {\n            '&:focus': {\n                backgroundColor: '#e0dede96',\n            },\n        },\n    }),\n);\n\nexport default function UserManagement() {\n    const classes = useStyles();\n    const [users, setUsers] = React.useState<User[]>([]);\n    const [change, setChange] = React.useState(false);\n    const [openDialog, setOpenDialog] = React.useState(false);\n    const [userId, setUserId] = React.useState(0);\n    const [roleId, setRoleId] = React.useState(0);\n    const param = useLocation().search.substr(1);\n\n    React.useEffect(() => {\n        if (param) {\n            userService.getUsersByKeyword(param).then(\n                (res) => {\n                    setUsers(res);\n                },\n                (error) => {\n                    alert(error.response.data.messagee)\n                }\n            )\n        } else {\n            userService.getUsers().then(\n                (res) => {\n                    setUsers(res);\n                },\n                (error) => {\n                    alert(error.response.data.message)\n                }\n            );\n        }\n\n        console.log('edit post list');\n    }, [change, param]);\n\n    const reload = () => {\n        setChange(!change);\n    }\n\n    const setRole = (userId: number, roleId: number) => {\n        setUserId(userId);\n        setRoleId(roleId === 1 ? 2 : 1);\n        setOpenDialog(true);\n    }\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n    }\n\n    const handleSure = () => {\n        userService.setRoleUser(userId, roleId).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(JSON.stringify(error))\n            }\n        );\n        setOpenDialog(false);\n    }\n\n    const handleNotSure = () => {\n        setOpenDialog(false);\n    }\n\n    const enabledUser = (user: User, userId: number) => {\n        user.enabled = !user.enabled;\n        userService.updateUser(user, userId).then(\n            (res) => {\n                reload();\n            },\n            (error) => {\n                alert(JSON.stringify(error))\n            }\n        );\n    }\n\n    return (\n        <>\n            <TableContainer>\n                <Table className={classes.table} aria-label=\"customized table\">\n                    <TableHead>\n                        <TableRow>\n                            <StyledTableCell>Name</StyledTableCell>\n                            <StyledTableCell align=\"right\">Email <span>&emsp;</span></StyledTableCell>\n                            <StyledTableCell align=\"right\">Status <span>&emsp;</span></StyledTableCell>\n                            <StyledTableCell align=\"right\">Role <span>&emsp;</span></StyledTableCell>\n                            <StyledTableCell align=\"right\">Set Role <span>&emsp;</span></StyledTableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {users.length === 0 && (\n                            <StyledTableRow>\n                                <StyledTableCell align=\"center\" colSpan={5}>Empty</StyledTableCell>\n                            </StyledTableRow>\n                        )}\n                        {users.map((user) => (\n                            getCurrentUser().userId !== user.id ? (\n                                <StyledTableRow key={user.id}>\n                                    <StyledTableCell component=\"th\" scope=\"row\">{`${user.firstName} ${user.lastName}`}</StyledTableCell>\n                                    <StyledTableCell align=\"right\">{user.email}</StyledTableCell>\n                                    <StyledTableCell align=\"right\">\n                                        <Tooltip title={user.enabled ? 'Disable User' : 'Enable User'}>\n                                            <Button\n                                                style={{ textTransform: 'none' }}\n                                                onClick={() => enabledUser(user, Number(user.id))}\n                                            >\n                                                <Typography\n                                                    color={user.enabled ? \"primary\" : \"secondary\"}\n                                                    variant=\"subtitle1\"\n                                                    component=\"h2\"\n                                                >\n                                                    {user.enabled ? 'Enabled' : 'Disabled'}\n                                                </Typography>\n                                            </Button>\n                                        </Tooltip>\n                                    </StyledTableCell>\n                                    <StyledTableCell align=\"right\">{user.role?.name}</StyledTableCell>\n                                    <StyledTableCell align=\"right\">\n                                        <Tooltip title={user.role?.id === 1 ? 'Set role admin' : 'Set role user'}>\n                                            <Button\n                                                onClick={() => setRole(Number(user.id), Number(user.role?.id))}\n                                                aria-label=\"set-role\"\n                                                size=\"small\"\n                                            >\n                                                {user.role?.id === 1 ? 'Set role admin' : 'Set role user'}\n                                            </Button>\n                                        </Tooltip>\n                                    </StyledTableCell>\n                                </StyledTableRow>\n                            ) : null\n                        ))}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <Dialog\n                open={openDialog}\n                onClose={handleCloseDialog}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">Set role</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        Do you want to set role?\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\n                        No\n                    </Button>\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"primary\" autoFocus>\n                        Yes\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport BookDetail from './pages/BookDeatails';\nimport BooksList from './pages/BooksList';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport MyBooksList from './pages/MyBooksList';\nimport NotFound from './pages/NotFound';\nimport Register from './pages/Register';\nimport UserManagement from './pages/UserManagement';\n\nexport default function Main() {\n  return (\n    <>\n      <Switch>\n        <Route path='/' exact>\n          <Redirect to='/home' />\n        </Route>\n        <Route path='/home'>\n          <Home />\n        </Route>\n        <Route path='/register'>\n          <Register />\n        </Route>\n        <Route path='/login'>\n          <Login />\n        </Route>\n        <Route exact path='/books-list'>\n          <BooksList />\n        </Route>\n        <Route path='/my-books-list'>\n          <MyBooksList />\n        </Route>\n        <Route path='/user-management'>\n          <UserManagement />\n        </Route>\n        <Route exact path=\"/book/:bookId\">\n          <BookDetail />\n        </Route>\n        <Route path='/profile'>\n          <h1>profile</h1>\n        </Route>\n        <Route>\n          <NotFound />\n        </Route>\n      </Switch>\n    </>\n  )\n}","import React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Header from './components/Header';\nimport Main from './components/Main';\n\nconst headerHeight = 60;\nconst bodyHeight = window.innerHeight - 60;\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      background: 'url(https://www.teahub.io/photos/full/190-1905219_vintage-wallpaper-hd-books.jpg) no-repeat center center fixed',\n      backgroundSize: 'cover'\n    },\n    header: {\n      height: headerHeight,\n      textAlign: 'center',\n      borderRadius: 0,\n      backgroundColor: 'rgba(255, 255, 255, 0.06)'\n    },\n    main: {\n\n      textAlign: 'center',\n      minHeight: bodyHeight,\n      maxWidth: '100%',\n      borderRadius: 0,\n      backgroundColor: 'rgba(255, 255, 255, 0.06)'\n    },\n  }),\n);\n\nexport default function App() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={0}>\n        <Grid item xs={12} className={classes.header}>\n          <Paper className={classes.header}>\n            <Header />\n          </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper className={classes.main}>\n            <Main />\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}