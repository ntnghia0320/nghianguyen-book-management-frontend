(this["webpackJsonpnghianguyen-book-management-frontend"]=this["webpackJsonpnghianguyen-book-management-frontend"]||[]).push([[0],{174:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=a(210),s=a(248),l=a(94),d=a(223),u=a(7),b=a(8),j=a(15),h=a(216),m=a(217),p=a(218),O=a(64),g=a(134),x=a(249),f=a(131),v=a(125),k=a.n(v),y=a(126),w=a.n(y),C=a(127),N=a.n(C);function S(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}var B=a(124),D=a.n(B),E=a(20),I=a(17),A=a(10),P=a.n(A),T=a(18),F=a(21),R=a.n(F),L="https://nghianguyen-bookmanagement.herokuapp.com/api/auth/",M={"Content-Type":"application/json"},W={register:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(L+"register",JSON.stringify(t),{headers:M});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(L+"login",JSON.stringify(t),{headers:M});case 2:return(a=e.sent).data.token&&localStorage.setItem("user",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("user")}},z=a(1),U=Object(o.a)((function(e){return Object(s.a)({grow:{flexGrow:1,height:"8vh"},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(j.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(j.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),highlighted:{color:"#F2B97E"}})}));function H(){var e=U(),t=r.a.useState(null),a=Object(u.a)(t,2),n=a[0],c=a[1],i=r.a.useState(null),o=Object(u.a)(i,2),s=o[0],l=o[1],d=r.a.useState(!1),b=Object(u.a)(d,2),j=b[0],v=b[1],y=r.a.useState(!1),C=Object(u.a)(y,2),B=C[0],A=C[1],P=r.a.useState(""),T=Object(u.a)(P,2),F=T[0],R=T[1],L=S(),M=Object(E.g)(),H=Object(E.h)().pathname;r.a.useEffect((function(){L?(A(L.role.includes("ROLE_ADMIN")),v(L.role.includes("ROLE_USER"))):(A(!1),v(!1)),console.log("header")}),[L]);var J=Boolean(n),Y=Boolean(s),q=function(){l(null)},K=function(){c(null),q()},G=function(){K(),W.logout(),M.push("/home")},V="primary-search-account-menu",_=Object(z.jsxs)(f.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:V,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:J,onClose:K,children:[Object(z.jsx)(x.a,{color:"inherit",onClick:K,component:I.b,activeClassName:e.highlighted,to:"/profile",children:"Profile"}),Object(z.jsx)(x.a,{color:"inherit",onClick:G,children:"Logout"})]}),$="primary-search-account-menu-mobile",Q=Object(z.jsxs)(f.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Y,onClose:q,children:[(j||B)&&Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/my-books-list",children:Object(z.jsx)("p",{children:"My Books List"})}),B&&Object(z.jsxs)("div",{children:[Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/books-list",children:Object(z.jsx)("p",{children:"Books List"})}),Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/user-management",children:Object(z.jsx)("p",{children:"User Management"})})]}),L?Object(z.jsxs)("div",{children:[Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/profile",children:Object(z.jsx)("p",{children:"Profile"})}),Object(z.jsx)(x.a,{color:"inherit",onClick:G,children:Object(z.jsx)("p",{children:"Logout"})})]}):Object(z.jsxs)("div",{children:[Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/login",children:Object(z.jsx)("p",{children:"Login"})}),Object(z.jsx)(x.a,{color:"inherit",onClick:q,component:I.b,activeClassName:e.highlighted,to:"/register",children:Object(z.jsx)("p",{children:"Register"})})]})]});return Object(z.jsxs)("div",{className:e.grow,children:[Object(z.jsx)(h.a,{position:"static",children:Object(z.jsxs)(m.a,{children:[Object(z.jsx)(p.a,{color:"inherit",edge:"start",className:e.menuButton,"aria-label":"open drawer",component:I.b,activeClassName:e.highlighted,to:"/home",children:Object(z.jsx)(D.a,{})}),Object(z.jsx)(O.a,{className:e.title,variant:"h6",noWrap:!0,children:"Book Management"}),Object(z.jsx)(E.b,{path:["/home","/my-books-list","/books-list","/user-management"],children:Object(z.jsxs)("div",{className:e.search,children:[Object(z.jsx)("div",{className:e.searchIcon,children:Object(z.jsx)(k.a,{})}),Object(z.jsx)(g.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onKeyDown:function(e){"Enter"===e.key&&M.push(H+"?keyword="+F)},onChange:function(e){R(e.target.value)}})]})}),Object(z.jsx)("div",{className:e.grow}),Object(z.jsxs)("div",{className:e.sectionDesktop,children:[(j||B)&&Object(z.jsx)(x.a,{color:"inherit",component:I.b,activeClassName:e.highlighted,to:"/my-books-list",children:Object(z.jsx)("p",{children:"My Books List"})}),B&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{color:"inherit",component:I.b,activeClassName:e.highlighted,to:"/books-list",children:Object(z.jsx)("p",{children:"Books List"})}),Object(z.jsx)(x.a,{color:"inherit",component:I.b,activeClassName:e.highlighted,to:"/user-management",children:Object(z.jsx)("p",{children:"User Management"})})]}),L?Object(z.jsx)("div",{children:Object(z.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":V,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(z.jsx)(w.a,{})})}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{color:"inherit",component:I.b,activeClassName:e.highlighted,to:"/login",children:Object(z.jsx)("p",{children:"Login"})}),Object(z.jsx)(x.a,{color:"inherit",component:I.b,activeClassName:e.highlighted,to:"/register",children:Object(z.jsx)("p",{children:"Register"})})]})]}),Object(z.jsx)("div",{className:e.sectionMobile,children:Object(z.jsx)(p.a,{"aria-label":"show more","aria-controls":$,"aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(z.jsx)(N.a,{})})})]})}),Q,_]})}var J=a(224);function Y(){return S()&&S().token?{"Content-Type":"application/json",Authorization:"Bearer ".concat(S().token)}:{}}var q="https://nghianguyen-bookmanagement.herokuapp.com/api/books",K=function(){var e=Object(T.a)(P.a.mark((function e(t,a,n,r,c){var i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(q+"?orderBy=".concat(t,"&order=").concat(a,"&page=").concat(n,"&size=").concat(r,"&").concat(c));case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),G=function(){var e=Object(T.a)(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(q+"/enabled?&page=".concat(t,"&size=8&").concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(q+"/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(T.a)(P.a.mark((function e(t,a,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(q+"/user/".concat(S().userId,"?page=").concat(t,"&size=").concat(a,"&").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),$={getAllBook:K,getAllBookEnabled:G,addBook:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(q+"/".concat(S().userId),JSON.stringify(t),{headers:Y()});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBooksByUserId:_,updateBook:function(){var e=Object(T.a)(P.a.mark((function e(t,a,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(q+"/".concat(a,"/").concat(n),JSON.stringify(t),{headers:Y()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete(q+"/".concat(t),{headers:Y()});case 2:return a=e.sent,e.abrupt("return",a.headers);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookById:V},Q="https://nghianguyen-bookmanagement.herokuapp.com/api/comments",X=function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(Q+"/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z={getCommentByBookId:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(Q+"/book/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addComment:function(){var e=Object(T.a)(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(Q+"/".concat(S().userId,"/").concat(a),JSON.stringify(t),{headers:Y()});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateComment:function(){var e=Object(T.a)(P.a.mark((function e(t,a,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(Q+"/".concat(a,"/").concat(n),JSON.stringify(t),{headers:Y()});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteComment:function(){var e=Object(T.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete(Q+"/".concat(t),{headers:Y()});case 2:return a=e.sent,e.abrupt("return",a.headers);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCommentById:X},ee=a(11),te=a(222),ae=a(219),ne=a(245),re=Object(o.a)((function(e){return Object(s.a)({root:{"& > *":{width:"100%",margin:"auto"},width:"88%"},formControlTextField:{width:"100%"},formControlBtnSubmit:{float:"right",width:200,textTransform:"none",marginTop:e.spacing(1),marginLeft:e.spacing(2)}})}));function ce(e){var t=e.addComment,a=re(),n=r.a.useState({}),c=Object(u.a)(n,2),i=c[0],o=c[1];return Object(z.jsxs)("form",{className:a.root,children:[Object(z.jsx)(ae.a,{className:a.formControlTextField,children:Object(z.jsx)(ne.a,{id:"multiline",label:"Add comment",multiline:!0,rows:4,variant:"outlined",value:i.message,placeholder:"Add comment",onChange:function(e){return function(e){o(Object(ee.a)(Object(ee.a)({},i),{},{message:e.target.value}))}(e)}})}),Object(z.jsx)(ae.a,{className:a.formControlBtnSubmit,children:Object(z.jsx)(te.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(e){return function(e){e.preventDefault();var a=new Date,n=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();i.createdAt=n,i.updatedAt=n,t(i),o(Object(ee.a)(Object(ee.a)({},i),{},{message:"",createdAt:"",updatedAt:""}))}(e)},children:"Add Comment"})})]})}var ie=a(225),oe=a(226),se=a(227),le=a(228),de=a(229),ue=a(128),be=a.n(ue),je=a(54),he=a.n(je),me=a(177),pe=a(133),Oe=a(175),ge=a(247),xe=a(243);function fe(e){return Object(z.jsx)(xe.a,Object(ee.a)({elevation:6,variant:"filled"},e))}function ve(e){var t=e.active,a=e.status,n=e.autoHideDuration,c=e.message,i=r.a.useState(!1),o=Object(u.a)(i,2),s=o[0],l=o[1];r.a.useEffect((function(){""!==c&&l(!0)}),[t,c]);var d=function(e,t){"clickaway"!==t&&l(!1)};return Object(z.jsx)(ge.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:s,autoHideDuration:n,onClose:d,children:Object(z.jsx)(fe,{onClose:d,severity:a,children:c})})}var ke=Object(o.a)((function(e){return Object(s.a)({root:{"& > *":{width:"100%",margin:"auto"},width:"88%"},formControlTextField:{width:"100%"},formControlBtnSubmit:{float:"right",width:200,textTransform:"none",marginTop:e.spacing(1),marginLeft:e.spacing(2)}})}));function ye(e){e.reload;var t=e.commentId,a=ke(),n=r.a.useState({}),c=Object(u.a)(n,2),i=c[0],o=c[1],s=r.a.useState(!1),l=Object(u.a)(s,2),d=l[0],b=(l[1],r.a.useState("")),j=Object(u.a)(b,2),h=j[0],m=(j[1],r.a.useState("")),p=Object(u.a)(m,2),O=p[0];p[1];r.a.useEffect((function(){Z.getCommentById(t).then((function(e){o(e)}),(function(){}))}),[]);return Object(z.jsxs)("form",{className:a.root,children:[Object(z.jsx)(ae.a,{className:a.formControlTextField,children:Object(z.jsx)(ne.a,{focused:!0,id:"multiline",label:"Edit comment",multiline:!0,rows:4,variant:"outlined",value:i.message,placeholder:"Edit comment",onChange:function(e){return function(e){o(Object(ee.a)(Object(ee.a)({},i),{},{message:e.target.value}))}(e)}})}),Object(z.jsx)(ae.a,{className:a.formControlBtnSubmit,children:Object(z.jsx)(te.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(e){return function(e){e.preventDefault();var t=new Date,a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();i.updatedAt=a}(e)},children:"Update"})}),Object(z.jsx)(ve,{active:d,status:O,autoHideDuration:4e3,message:h})]})}var we=Object(o.a)((function(e){var t;return Object(s.a)({root:{flexGrow:1,width:"100%",display:"block"},paper:{flexGrow:1,width:"80%",margin:"auto",padding:e.spacing(3),backgroundColor:"transparent",border:"none",boxShadow:"none",textAlign:"center"},image:{maxWidth:"100%"},username:{display:"flex",paddingRight:20,justifyContent:"flex-end"},addComment:{margin:e.spacing(1),display:"flex",justifyContent:"center",width:"100%"},listComment:{display:"block",textAlign:"left",marginLeft:4,borderRadius:4,padding:3,marginTop:4},buttonDialog:{"&:focus":{backgroundColor:"#b2b8e1"}},modal:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%"},paperModal:(t={},Object(b.a)(t,e.breakpoints.down("sm"),{width:"70%"}),Object(b.a)(t,"width","70%"),Object(b.a)(t,"overflowY","auto"),Object(b.a)(t,"backgroundColor",e.palette.background.paper),Object(b.a)(t,"border","2px solid #333333"),Object(b.a)(t,"borderRadius",8),Object(b.a)(t,"boxShadow",e.shadows[5]),Object(b.a)(t,"padding",e.spacing(2,4,3)),Object(b.a)(t,"&::-webkit-scrollbar",{width:"0.4em"}),Object(b.a)(t,"&::-webkit-scrollbar-track",{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"}),Object(b.a)(t,"&::-webkit-scrollbar-thumb",{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}),t)})}));function Ce(){var e,t,a=we(),n=Object(E.i)().bookId,c=r.a.useState({}),i=Object(u.a)(c,2),o=i[0],s=i[1],b=r.a.useState([]),j=Object(u.a)(b,2),h=j[0],m=j[1],g=r.a.useState(!1),v=Object(u.a)(g,2),k=v[0],y=v[1],w=r.a.useState(!1),C=Object(u.a)(w,2),N=C[0],B=C[1],D=r.a.useState(0),I=Object(u.a)(D,2),A=I[0],P=I[1],T=r.a.useState(null),F=Object(u.a)(T,2),R=F[0],L=F[1],M=r.a.useState(!1),W=Object(u.a)(M,2),U=W[0],H=W[1];r.a.useEffect((function(){$.getBookById(Number(n)).then((function(e){s(e)}),(function(e){alert(e.message)})),Z.getCommentByBookId(Number(n)).then((function(e){m(e)}),(function(e){alert(e.message)})),console.log("book detail")}),[n,k]);var Y=function(){y(!k),G(),K()},q=function(e){L(e.currentTarget)},K=function(){L(null)},G=function(){H(!1)},V=function(e){P(e),H(!0)};return Object(z.jsxs)("div",{className:a.root,children:[Object(z.jsx)(d.a,{item:!0,xs:12,md:12,children:Object(z.jsxs)(l.a,{className:a.paper,children:[Object(z.jsx)(O.a,{variant:"h4",gutterBottom:!0,children:"".concat(o.title," - ").concat(o.author)}),Object(z.jsx)(O.a,{variant:"subtitle1",gutterBottom:!0,children:new Date(o.createdAt).toLocaleString()}),Object(z.jsx)("img",{className:a.image,src:o.image,alt:""}),Object(z.jsx)(O.a,{align:"justify",variant:"subtitle1",gutterBottom:!0,children:o.description}),Object(z.jsx)("div",{className:a.username,children:Object(z.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"".concat(null===(e=o.user)||void 0===e?void 0:e.firstName," ").concat(null===(t=o.user)||void 0===t?void 0:t.lastName)})}),Object(z.jsx)(J.a,{}),Object(z.jsx)("br",{}),Object(z.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Comment"}),S()&&Object(z.jsx)("div",{className:a.addComment,children:Object(z.jsx)(ce,{addComment:function(e){Z.addComment(e,Number(n)).then((function(e){Y()}),(function(e){alert(e.message)}))}})}),Object(z.jsx)("div",{children:h&&h.map((function(e){var t,n,r,c;return Object(z.jsxs)("div",{className:a.listComment,children:[Object(z.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:null===(t=e.user)||void 0===t?void 0:t.email}),Object(z.jsx)(O.a,{variant:"caption",gutterBottom:!0,children:e.createdAt}),Object(z.jsxs)(O.a,{variant:"subtitle1",gutterBottom:!0,children:[e.message,(S()&&(null===(n=e.user)||void 0===n?void 0:n.id)===S().userId||"ROLE_ADMIN"===(null===(r=e.user)||void 0===r||null===(c=r.role)||void 0===c?void 0:c.name))&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(p.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:q,children:Object(z.jsx)(be.a,{})}),Object(z.jsxs)(f.a,{id:"simple-menu",anchorEl:R,keepMounted:!0,open:Boolean(R),onClose:K,children:[Object(z.jsx)(x.a,{onClick:function(){return function(e){P(e),K(),B(!0)}(e.id)},children:"Delete"}),Object(z.jsx)(x.a,{onClick:function(){return V(e.id)},children:"Edit"})]})]})]}),Object(z.jsx)(J.a,{})]})}))})]})}),Object(z.jsx)(me.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:U,onClose:G,closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(z.jsx)(pe.a,{in:U,children:Object(z.jsxs)("div",{className:a.paperModal,children:[Object(z.jsxs)(O.a,{variant:"h5",noWrap:!0,children:["Edit Comment",Object(z.jsx)(p.a,{style:{float:"right"},color:"inherit",onClick:G,children:Object(z.jsx)(he.a,{})})]}),Object(z.jsx)(ye,{reload:Y,commentId:A})]})})}),Object(z.jsxs)(ie.a,{open:N,onClose:function(){B(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsx)(oe.a,{id:"alert-dialog-title",children:"Delete comment"}),Object(z.jsx)(se.a,{children:Object(z.jsx)(le.a,{id:"alert-dialog-description",children:"Do you want to delete this comment?"})}),Object(z.jsxs)(de.a,{children:[Object(z.jsx)(te.a,{className:a.buttonDialog,onClick:function(){B(!1)},color:"primary",children:"No"}),Object(z.jsx)(te.a,{className:a.buttonDialog,onClick:function(){Z.deleteComment(A).then((function(e){Y()}),(function(e){alert(e.message)})),B(!1)},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}var Ne=a(5),Se=a(234),Be=a(235),De=a(230),Ee=a(233),Ie=a(232),Ae=a(246),Pe=a(231),Te=a(250),Fe=a(251),Re=a(80),Le=a.n(Re),Me=a(79),We=a.n(Me),ze=a(78),Ue=a.n(ze),He=Object(o.a)((function(e){return Object(s.a)({root:{"& > *":{width:"90%",margin:"auto"}},formControl:{margin:e.spacing(1),width:"100%"},buttonSubmit:{textTransform:"none",float:"right"}})}));function Je(e){var t=e.bookId,a=e.reload,n=He(),c=r.a.useState(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],l=r.a.useState(""),d=Object(u.a)(l,2),j=d[0],h=d[1],m=r.a.useState(""),p=Object(u.a)(m,2),O=p[0],g=p[1],x=r.a.useState({}),f=Object(u.a)(x,2),v=f[0],k=f[1];r.a.useEffect((function(){$.getBookById(t).then((function(e){k(e)}),(function(e){alert(e.message)})),console.log("edit book")}),[]);var y=function(e){k(Object(ee.a)(Object(ee.a)({},v),{},Object(b.a)({},e.target.name,e.target.value)))},w=function(){var e=Object(T.a)(P.a.mark((function e(n){var r,c,i,l,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c=new Date,i=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),l=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds(),d=i+" "+l,v.updatedAt=d,$.updateBook(v,t,null===(r=v.user)||void 0===r?void 0:r.id).then((function(){s(!o),h("Edit book Success"),g("success"),window.setTimeout((function(){a()}),1e3)}),(function(e){s(!o),h(e.response.data.message),g("error")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("form",{className:n.root,onSubmit:w,children:[Object(z.jsxs)("div",{children:[Object(z.jsx)(ae.a,{className:n.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Title",name:"title",value:v.title,onChange:y})}),Object(z.jsx)(ae.a,{className:n.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Author",name:"author",value:v.author,onChange:y})}),Object(z.jsx)(ae.a,{className:n.formControl,children:Object(z.jsx)(ne.a,{id:"outlined-multiline-static",name:"description",label:"Description",value:v.description,multiline:!0,rows:10,variant:"outlined",onChange:y})}),Object(z.jsx)(ae.a,{className:n.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Link image",name:"image",value:v.image,onChange:y})}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)(te.a,{className:n.buttonSubmit,variant:"outlined",color:"primary",type:"submit",children:"Update"})]}),Object(z.jsx)(ve,{active:o,status:O,autoHideDuration:4e3,message:j})]})}var Ye=Object(Ne.a)((function(e){return Object(s.a)({head:{backgroundColor:"#333333",color:e.palette.common.white},body:{fontSize:14,wordWrap:"break-word"}})}))(De.a),qe=Object(Ne.a)((function(e){return Object(s.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Pe.a),Ke=[{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"author",numeric:!0,disablePadding:!1,label:"Author"},{id:"createdAt",numeric:!0,disablePadding:!1,label:"CreatedAt"},{id:"enabled",numeric:!0,disablePadding:!1,label:"Status"}];function Ge(e){var t=e.classes,a=e.order,n=e.orderBy,r=e.onRequestSort;return Object(z.jsx)(Ie.a,{children:Object(z.jsxs)(qe,{children:[Ke.map((function(e){return Object(z.jsx)(Ye,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&a,children:Object(z.jsxs)(Te.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(c=e.id,function(e){r(e,c)}),classes:{root:t.inActive,active:t.active,icon:t.icon},children:[e.label,n===e.id?Object(z.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(z.jsx)(Ye,{align:"right",children:"View"}),Object(z.jsx)(Ye,{align:"right",children:"Edit"}),Object(z.jsx)(Ye,{align:"right",children:"Delete"})]})})}var Ve=Object(o.a)((function(e){var t;return Object(s.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paperModal:(t={},Object(b.a)(t,e.breakpoints.down("sm"),{width:"90%"}),Object(b.a)(t,"width","70%"),Object(b.a)(t,"overflowY","auto"),Object(b.a)(t,"backgroundColor",e.palette.background.paper),Object(b.a)(t,"border","2px solid #333333"),Object(b.a)(t,"borderRadius",8),Object(b.a)(t,"boxShadow",e.shadows[5]),Object(b.a)(t,"padding",e.spacing(2,4,3)),Object(b.a)(t,"&::-webkit-scrollbar",{width:"0.4em"}),Object(b.a)(t,"&::-webkit-scrollbar-track",{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"}),Object(b.a)(t,"&::-webkit-scrollbar-thumb",{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}),t),buttonDialog:{"&:focus":{backgroundColor:"#b2b8e1"}},inActive:{color:"white","&:hover":{color:"red"},"&$active":{color:"red"}},active:{color:"red"},icon:{color:"red !important"},search:{borderRadius:e.shape.borderRadius,backgroundColor:Object(j.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(j.a)(e.palette.common.white,.25)},width:"50%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})})}));function _e(){var e=Ve(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=r.a.useState(-1),o=Object(u.a)(i,2),s=o[0],d=o[1],b=r.a.useState(!1),j=Object(u.a)(b,2),h=j[0],m=j[1],g=r.a.useState("desc"),x=Object(u.a)(g,2),f=x[0],v=x[1],k=r.a.useState("createdAt"),y=Object(u.a)(k,2),w=y[0],C=y[1],N=r.a.useState(0),S=Object(u.a)(N,2),B=S[0],D=S[1],A=r.a.useState(10),P=Object(u.a)(A,2),T=P[0],F=P[1],R=r.a.useState(0),L=Object(u.a)(R,2),M=L[0],W=L[1],U=r.a.useState([]),H=Object(u.a)(U,2),J=H[0],Y=H[1],q=Object(E.h)().search.substr(1),K=r.a.useState(!1),G=Object(u.a)(K,2),V=G[0],_=G[1];r.a.useEffect((function(){$.getAllBook(w,f,B,T,q).then((function(e){Y(e.items),W(e.totalItems)}),(function(e){alert(e.message)})),console.log("book list")}),[f,w,B,T,q,V]);var Q=function(){c(!1)},X=function(){_(!V),Q()},Z=T-Math.min(T,M-B*T);return Object(z.jsxs)("div",{className:e.root,children:[Object(z.jsxs)(l.a,{className:e.paper,children:[Object(z.jsx)(Ee.a,{children:Object(z.jsxs)(Se.a,{"aria-label":"sticky table",className:e.table,"aria-labelledby":"tableTitle",size:"small",children:[Object(z.jsx)(Ge,{classes:e,order:f,orderBy:w,onRequestSort:function(e,t){v(w===t&&"asc"===f?"desc":"asc"),C(t)}}),Object(z.jsxs)(Be.a,{children:[0===J.length&&Object(z.jsx)(qe,{children:Object(z.jsx)(Ye,{align:"center",colSpan:7,children:"Empty"})}),J.map((function(e,t){return Object(z.jsxs)(qe,{children:[Object(z.jsx)(De.a,{align:"left",children:e.title}),Object(z.jsx)(De.a,{align:"right",children:e.author}),Object(z.jsx)(De.a,{align:"right",children:e.createdAt}),Object(z.jsx)(Ye,{align:"right",children:Object(z.jsx)(Fe.a,{title:e.enabled?"Disable Book":"Enable Book",children:Object(z.jsx)(te.a,{style:{textTransform:"none"},onClick:function(){return function(e,t){var a;e.enabled=!e.enabled,$.updateBook(e,t,null===(a=e.user)||void 0===a?void 0:a.id).then((function(e){X(),console.log("enabledBook")}),(function(e){alert(e.message)}))}(e,Number(e.id))},children:Object(z.jsx)(O.a,{color:e.enabled?"primary":"secondary",variant:"subtitle1",component:"h2",children:e.enabled?"Enabled":"Disabled"})})})}),Object(z.jsx)(Ye,{align:"right",children:Object(z.jsx)(Fe.a,{title:"View",children:Object(z.jsx)(p.a,{"aria-label":"view",component:I.b,to:"/book/".concat(e.id),children:Object(z.jsx)(Ue.a,{})})})}),Object(z.jsx)(Ye,{align:"right",children:Object(z.jsx)(Fe.a,{title:"Edit",children:Object(z.jsx)(p.a,{onClick:function(){return function(e){d(e),c(!0)}(Number(e.id))},"aria-label":"edit",children:Object(z.jsx)(We.a,{})})})}),Object(z.jsxs)(Ye,{align:"right",children:[Object(z.jsx)(Fe.a,{title:"Delete",children:Object(z.jsx)(p.a,{onClick:function(){return function(e){d(e),m(!0)}(e.id)},"aria-label":"delete",children:Object(z.jsx)(Le.a,{})})}),Object(z.jsx)("span",{children:"\u2003"})]})]},"".concat(e.title).concat(e.author))})),Z>0&&Object(z.jsx)(qe,{style:{height:62*Z},children:Object(z.jsx)(De.a,{colSpan:7})})]})]})}),Object(z.jsx)(Ae.a,{rowsPerPageOptions:[10,20,50],component:"div",count:M,rowsPerPage:T,page:B,onPageChange:function(e,t){D(t)},onRowsPerPageChange:function(e){F(parseInt(e.target.value,10)),D(0)}})]}),Object(z.jsx)(me.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:Q,closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(z.jsx)(pe.a,{in:n,children:Object(z.jsxs)("div",{className:e.paperModal,children:[Object(z.jsxs)(O.a,{variant:"h5",noWrap:!0,children:["Edit Book",Object(z.jsx)(p.a,{style:{float:"right"},color:"inherit",onClick:Q,children:Object(z.jsx)(he.a,{})})]}),Object(z.jsx)(Je,{reload:X,bookId:s})]})})}),Object(z.jsxs)(ie.a,{open:h,onClose:function(){m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsx)(oe.a,{id:"alert-dialog-title",children:"Delete book"}),Object(z.jsx)(se.a,{children:Object(z.jsx)(le.a,{id:"alert-dialog-description",children:"Do you want to delete this book?"})}),Object(z.jsxs)(de.a,{children:[Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){m(!1)},color:"primary",children:"No"}),Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){$.deleteBook(s).then((function(e){X()}),(function(e){alert(e.message)})),m(!1)},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}var $e=a(242),Qe=a(236),Xe=a(237),Ze=a(240),et=a(239),tt=a(238),at=Object(o.a)({root:{margin:"auto",height:500,marginTop:10,width:345,backgroundColor:"rgba(76, 175, 80, 0.2)"},media:{height:350,objectFit:"contain"},cardButton:{textTransform:"none",marginLeft:"auto",color:"rgb(114 137 198 / 1)"},cardContent:{height:70}});function nt(e){var t=e.book,a=at();return Object(z.jsxs)(Qe.a,{className:a.root,children:[Object(z.jsxs)(Xe.a,{children:[Object(z.jsx)(tt.a,{component:"img",className:a.media,image:t.image,title:"Contemplative Reptile"}),Object(z.jsxs)(et.a,{className:a.cardContent,children:[Object(z.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(z.jsx)(O.a,{variant:"body2",color:"textSecondary",component:"p",children:t.author})]})]}),Object(z.jsx)(Ze.a,{children:Object(z.jsx)(te.a,{size:"small",color:"primary",component:I.b,to:"/book/".concat(t.id),className:a.cardButton,children:"Learn More"})})]})}var rt=Object(o.a)((function(e){return Object(s.a)({root:{flexGrow:1},paper:{padding:e.spacing(0),height:500,maxWidth:"100%",display:"inline",textAlign:"center",color:e.palette.text.secondary},container:{alignItems:"center",padding:e.spacing(2),paddingTop:e.spacing(0),paddingBottom:e.spacing(8)},pagination:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}})}));function ct(){var e=rt(),t=r.a.useState(1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=r.a.useState(0),o=Object(u.a)(i,2),s=o[0],b=o[1],j=Object(E.h)().search.substr(1),h=r.a.useState([]),m=Object(u.a)(h,2),p=m[0],O=m[1];r.a.useEffect((function(){$.getAllBookEnabled(n-1,j).then((function(e){O(e.items),b(Math.ceil(e.totalItems/8))}),(function(e){alert(e.message)})),console.log("Home")}),[n,s]),r.a.useEffect((function(){$.getAllBookEnabled(n-1,j).then((function(e){O(e.items),b(Math.ceil(e.totalItems/8))}),(function(e){alert(e.message)})),c(1),console.log("Home")}),[j]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:e.root,children:Object(z.jsx)(d.a,{container:!0,className:e.container,children:p.map((function(t){return Object(z.jsx)(d.a,{item:!0,xs:12,sm:6,md:3,children:Object(z.jsx)(l.a,{className:e.paper,children:Object(z.jsx)(nt,{book:t})})},t.title+t.author)}))})}),Object(z.jsx)("div",{className:e.pagination,children:Object(z.jsx)($e.a,{count:s,variant:"outlined",shape:"rounded",page:n,onChange:function(e,t){c(t)}})})]})}var it=a(241),ot=Object(o.a)((function(e){return Object(s.a)({container:{display:"flex",flexWrap:"wrap",width:400,maxWidth:"100%",margin:"".concat(e.spacing(0)," auto")},loginBtn:{marginTop:e.spacing(2),flexGrow:1,color:"#333333",background:"linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)"},header:{textAlign:"center",background:"linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)",color:"#333333"},card:{marginTop:e.spacing(10)}})})),st={username:"",password:"",isButtonDisabled:!0,message:"",activeSnackBar:!1},lt=function(e,t){switch(t.type){case"setUsername":return Object(ee.a)(Object(ee.a)({},e),{},{username:t.payload});case"setPassword":return Object(ee.a)(Object(ee.a)({},e),{},{password:t.payload});case"setIsButtonDisabled":return Object(ee.a)(Object(ee.a)({},e),{},{isButtonDisabled:t.payload});case"loginFailed":return Object(ee.a)(Object(ee.a)({},e),{},{message:t.payload,activeSnackBar:!e.activeSnackBar})}};function dt(){var e=ot(),t=Object(n.useReducer)(lt,st),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(E.g)();Object(n.useEffect)((function(){r.username.trim()&&r.password.trim()?c({type:"setIsButtonDisabled",payload:!1}):c({type:"setIsButtonDisabled",payload:!0})}),[r.username,r.password]);var o=function(){var e={email:r.username,password:r.password};W.login(e).then((function(){window.setTimeout((function(){i.push("/home")}),1e3)}),(function(e){c({type:"loginFailed",payload:"Email or password incorect"})}))},s=function(e){13!==e.keyCode&&13!==e.which||r.isButtonDisabled||o()};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("form",{className:e.container,noValidate:!0,children:Object(z.jsxs)(Qe.a,{className:e.card,children:[Object(z.jsx)(it.a,{className:e.header,title:"Login App"}),Object(z.jsx)(et.a,{children:Object(z.jsxs)("div",{children:[Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"username",type:"email",label:"Username",placeholder:"Username",margin:"normal",onChange:function(e){c({type:"setUsername",payload:e.target.value})},onKeyPress:s}),Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"password",type:"password",label:"Password",placeholder:"Password",margin:"normal",onChange:function(e){c({type:"setPassword",payload:e.target.value})},onKeyPress:s})]})}),Object(z.jsx)(Ze.a,{children:Object(z.jsx)(te.a,{variant:"contained",size:"large",color:"secondary",className:e.loginBtn,onClick:o,disabled:r.isButtonDisabled,children:"Login"})})]})}),Object(z.jsx)(ve,{active:r.activeSnackBar,status:"error",autoHideDuration:4e3,message:r.message})]})}var ut=a(130),bt=a.n(ut),jt=Object(o.a)((function(e){return Object(s.a)({root:{"& > *":{width:"90%",margin:"auto"}},formControl:{margin:e.spacing(1),width:"100%"},buttonSubmit:{textTransform:"none",float:"right"}})}));function ht(e){var t=e.reload,a=jt(),n=r.a.useState(!1),c=Object(u.a)(n,2),i=c[0],o=c[1],s=r.a.useState(""),l=Object(u.a)(s,2),d=l[0],j=l[1],h=r.a.useState(""),m=Object(u.a)(h,2),p=m[0],O=m[1],g=r.a.useState({}),x=Object(u.a)(g,2),f=x[0],v=x[1],k=function(e){v(Object(ee.a)(Object(ee.a)({},f),{},Object(b.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(T.a)(P.a.mark((function e(a){var n,r,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=new Date,r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),c=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),s=r+" "+c,f.createdAt=s,f.updatedAt=s,$.addBook(f).then((function(e){o(!i),j("Add new book Success"),O("success"),window.setTimeout((function(){t()}),1e3)}),(function(e){o(!i),j(e.response.data.message),O("error")}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("form",{className:a.root,onSubmit:y,children:[Object(z.jsxs)("div",{children:[Object(z.jsx)(ae.a,{className:a.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Title",name:"title",onChange:k})}),Object(z.jsx)(ae.a,{className:a.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Author",name:"author",onChange:k})}),Object(z.jsx)(ae.a,{className:a.formControl,children:Object(z.jsx)(ne.a,{id:"outlined-multiline-static",name:"description",label:"Description",multiline:!0,rows:10,variant:"outlined",onChange:k})}),Object(z.jsx)(ae.a,{className:a.formControl,children:Object(z.jsx)(ne.a,{id:"standard-basic",label:"Link image",name:"image",onChange:k})}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)(te.a,{className:a.buttonSubmit,variant:"outlined",color:"primary",type:"submit",children:"Add"})]}),Object(z.jsx)(ve,{active:i,status:p,autoHideDuration:4e3,message:d})]})}var mt=Object(Ne.a)((function(e){return Object(s.a)({head:{backgroundColor:"#333333",color:e.palette.common.white},body:{fontSize:14,wordWrap:"break-word"}})}))(De.a),pt=Object(Ne.a)((function(e){return Object(s.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Pe.a),Ot=Object(o.a)((function(e){var t;return Object(s.a)({table:{minWidth:800},tableContainer:{borderRadius:0},fab:{margin:e.spacing(2)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:(t={},Object(b.a)(t,e.breakpoints.down("sm"),{width:"90%"}),Object(b.a)(t,"width","70%"),Object(b.a)(t,"overflowY","auto"),Object(b.a)(t,"backgroundColor",e.palette.background.paper),Object(b.a)(t,"border","2px solid #333333"),Object(b.a)(t,"borderRadius",8),Object(b.a)(t,"boxShadow",e.shadows[5]),Object(b.a)(t,"padding",e.spacing(2,4,3)),Object(b.a)(t,"&::-webkit-scrollbar",{width:"0.4em"}),Object(b.a)(t,"&::-webkit-scrollbar-track",{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"}),Object(b.a)(t,"&::-webkit-scrollbar-thumb",{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}),t),buttonDialog:{"&:focus":{backgroundColor:"#b2b8e1"}}})}));function gt(){var e=Ot(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),o=Object(u.a)(i,2),s=o[0],d=o[1],b=r.a.useState(-1),j=Object(u.a)(b,2),h=j[0],m=j[1],g=r.a.useState(!1),x=Object(u.a)(g,2),f=x[0],v=x[1],k=r.a.useState(0),y=Object(u.a)(k,2),w=y[0],C=y[1],N=r.a.useState(10),S=Object(u.a)(N,2),B=S[0],D=S[1],A=r.a.useState(0),P=Object(u.a)(A,2),T=P[0],F=P[1],R=r.a.useState([]),L=Object(u.a)(R,2),M=L[0],W=L[1],U=Object(E.h)().search.substr(1),H=r.a.useState(!1),J=Object(u.a)(H,2),Y=J[0],q=J[1];r.a.useEffect((function(){$.getBooksByUserId(w,B,U).then((function(e){W(e.items),F(e.totalItems)}),(function(e){alert(e.message)})),console.log("my book list")}),[w,B,U,Y]);var K=function(){c(!1)},G=function(){d(!1)},V=function(){q(!Y),K(),G()},_=B-Math.min(B,T-w*B);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Ee.a,{component:l.a,className:e.tableContainer,children:Object(z.jsx)(Se.a,{"aria-label":"sticky table",children:Object(z.jsx)(Ie.a,{children:Object(z.jsx)(Pe.a,{children:Object(z.jsx)(mt,{align:"left",children:Object(z.jsxs)(O.a,{variant:"h5",noWrap:!0,children:["My Book List",Object(z.jsxs)(te.a,{style:{textTransform:"none",float:"right"},variant:"outlined",color:"inherit",onClick:function(){c(!0)},children:[Object(z.jsx)(bt.a,{}),"Add Book"]})]})})})})})}),Object(z.jsxs)(Ee.a,{component:l.a,className:e.tableContainer,children:[Object(z.jsxs)(Se.a,{className:e.table,stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(z.jsx)(Ie.a,{children:Object(z.jsxs)(Pe.a,{children:[Object(z.jsx)(mt,{children:"Title"}),Object(z.jsx)(mt,{align:"right",children:"Author "}),Object(z.jsx)(mt,{align:"right",children:"Status "}),Object(z.jsxs)(mt,{align:"right",children:["View ",Object(z.jsx)("span",{children:"\u2003"})]}),Object(z.jsxs)(mt,{align:"right",children:["Edit ",Object(z.jsx)("span",{children:"\u2003"})]}),Object(z.jsxs)(mt,{align:"right",children:["Delete ",Object(z.jsx)("span",{children:"\u2003"})]})]})}),Object(z.jsxs)(Be.a,{children:[0===M.length&&Object(z.jsx)(pt,{children:Object(z.jsx)(mt,{align:"center",colSpan:6,children:"Empty"})}),M.map((function(e){return Object(z.jsxs)(pt,{children:[Object(z.jsx)(mt,{component:"th",scope:"row",children:e.title}),Object(z.jsx)(mt,{align:"right",children:e.author}),Object(z.jsx)(mt,{align:"right",children:Object(z.jsx)(O.a,{color:e.enabled?"primary":"secondary",variant:"subtitle1",component:"h2",children:e.enabled?"Enabled":"Disabled"})}),Object(z.jsx)(mt,{align:"right",children:Object(z.jsx)(Fe.a,{title:"View",children:Object(z.jsx)(p.a,{"aria-label":"view",component:I.b,to:"/book/".concat(e.id),children:Object(z.jsx)(Ue.a,{})})})}),Object(z.jsx)(mt,{align:"right",children:Object(z.jsx)(Fe.a,{title:"Edit",children:Object(z.jsx)(p.a,{onClick:function(){return function(e){m(e),d(!0)}(Number(e.id))},"aria-label":"edit",children:Object(z.jsx)(We.a,{})})})}),Object(z.jsxs)(mt,{align:"right",children:[Object(z.jsx)(Fe.a,{title:"Delete",children:Object(z.jsx)(p.a,{onClick:function(){return function(e){m(e),v(!0)}(e.id)},"aria-label":"delete",children:Object(z.jsx)(Le.a,{})})}),Object(z.jsx)("span",{children:"\u2003"})]})]},e.id)})),_>0&&Object(z.jsx)(Pe.a,{style:{height:62*_},children:Object(z.jsx)(De.a,{colSpan:7})})]})]}),Object(z.jsx)(Ae.a,{rowsPerPageOptions:[10,20,50],component:"div",count:T,rowsPerPage:B,page:w,onPageChange:function(e,t){C(t)},onRowsPerPageChange:function(e){D(parseInt(e.target.value,10)),C(0)}})]}),Object(z.jsx)(me.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:K,closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(z.jsx)(pe.a,{in:n,children:Object(z.jsxs)("div",{className:e.paper,children:[Object(z.jsxs)(O.a,{variant:"h5",noWrap:!0,children:["Add Book",Object(z.jsx)(p.a,{style:{float:"right"},color:"inherit",onClick:K,children:Object(z.jsx)(he.a,{})})]}),Object(z.jsx)(ht,{reload:V})]})})}),Object(z.jsx)(me.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:s,onClose:G,closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(z.jsx)(pe.a,{in:s,children:Object(z.jsxs)("div",{className:e.paper,children:[Object(z.jsxs)(O.a,{variant:"h5",noWrap:!0,children:["Edit Book",Object(z.jsx)(p.a,{style:{float:"right"},color:"inherit",onClick:G,children:Object(z.jsx)(he.a,{})})]}),Object(z.jsx)(Je,{reload:V,bookId:h})]})})}),Object(z.jsxs)(ie.a,{open:f,onClose:function(){v(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsx)(oe.a,{id:"alert-dialog-title",children:"Delete book"}),Object(z.jsx)(se.a,{children:Object(z.jsx)(le.a,{id:"alert-dialog-description",children:"Do you want to delete this book?"})}),Object(z.jsxs)(de.a,{children:[Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){v(!1)},color:"primary",children:"No"}),Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){$.deleteBook(h).then((function(e){V()}),(function(e){alert(e.message)})),v(!1)},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}function xt(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("h1",{children:"Notfound"})})}var ft=Object(o.a)((function(e){return Object(s.a)({container:{display:"flex",flexWrap:"wrap",width:400,maxWidth:"100%",margin:"".concat(e.spacing(0)," auto")},loginBtn:{marginTop:e.spacing(2),flexGrow:1,color:"#333333",background:"linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)"},header:{textAlign:"center",background:"linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)",color:"#333333"},card:{marginTop:e.spacing(10)}})})),vt={firstName:"",lastName:"",avata:"",email:"",password:"",isButtonDisabled:!0,message:"",activeSnackBar:!1},kt=function(e,t){switch(t.type){case"setFirstName":return Object(ee.a)(Object(ee.a)({},e),{},{firstName:t.payload});case"setLastName":return Object(ee.a)(Object(ee.a)({},e),{},{lastName:t.payload});case"setAvata":return Object(ee.a)(Object(ee.a)({},e),{},{avata:t.payload});case"setEmail":return Object(ee.a)(Object(ee.a)({},e),{},{email:t.payload});case"setPassword":return Object(ee.a)(Object(ee.a)({},e),{},{password:t.payload});case"setIsButtonDisabled":return Object(ee.a)(Object(ee.a)({},e),{},{isButtonDisabled:t.payload});case"registerFailed":return Object(ee.a)(Object(ee.a)({},e),{},{message:t.payload,activeSnackBar:!e.activeSnackBar})}};function yt(){var e=ft(),t=Object(n.useReducer)(kt,vt),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(E.g)();Object(n.useEffect)((function(){r.email.trim()&&r.password.trim()&&r.firstName.trim()&&r.lastName.trim()?c({type:"setIsButtonDisabled",payload:!1}):c({type:"setIsButtonDisabled",payload:!0})}),[r.email,r.password,r.firstName,r.lastName]);var o=function(){var e={firstName:r.firstName,lastName:r.lastName,email:r.email,password:r.password};W.register(e).then((function(){window.setTimeout((function(){i.push("/login")}),1e3)}),(function(e){c({type:"registerFailed",payload:e.response.data.message})}))},s=function(e){13!==e.keyCode&&13!==e.which||r.isButtonDisabled||o()};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("form",{className:e.container,noValidate:!0,children:Object(z.jsxs)(Qe.a,{className:e.card,children:[Object(z.jsx)(it.a,{className:e.header,title:"Register"}),Object(z.jsx)(et.a,{children:Object(z.jsxs)("div",{children:[Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"firstName",type:"text",label:"First name",placeholder:"First name",margin:"normal",onChange:function(e){c({type:"setFirstName",payload:e.target.value})},onKeyPress:s}),Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"lastName",type:"text",label:"Last name",placeholder:"Last name",margin:"normal",onChange:function(e){c({type:"setLastName",payload:e.target.value})},onKeyPress:s}),Object(z.jsx)(ne.a,{fullWidth:!0,id:"avata",type:"text",label:"Avata",placeholder:"Avata link",margin:"normal",onChange:function(e){c({type:"setAvata",payload:e.target.value})},onKeyPress:s}),Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"email",type:"email",label:"Email",placeholder:"Email",margin:"normal",onChange:function(e){c({type:"setEmail",payload:e.target.value})},onKeyPress:s}),Object(z.jsx)(ne.a,{required:!0,fullWidth:!0,id:"password",type:"password",label:"Password",placeholder:"Password",margin:"normal",onChange:function(e){c({type:"setPassword",payload:e.target.value})},onKeyPress:s})]})}),Object(z.jsx)(Ze.a,{children:Object(z.jsx)(te.a,{variant:"contained",size:"large",color:"secondary",className:e.loginBtn,onClick:o,disabled:r.isButtonDisabled,children:"Register"})})]})}),Object(z.jsx)(ve,{active:r.activeSnackBar,status:"error",autoHideDuration:4e3,message:r.message})]})}var wt="https://nghianguyen-bookmanagement.herokuapp.com/api/users",Ct=function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(wt,{headers:Y()});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(T.a)(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(wt+"/".concat(a),JSON.stringify(t),{headers:Y()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),St={setRoleUser:function(){var e=Object(T.a)(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(wt+"/".concat(t,"/roles/").concat(a),JSON.stringify("{}"),{headers:Y()});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateUser:Nt,getUsers:Ct},Bt=Object(Ne.a)((function(e){return Object(s.a)({head:{backgroundColor:"#333333",color:e.palette.common.white},body:{fontSize:14,wordWrap:"break-word"}})}))(De.a),Dt=Object(Ne.a)((function(e){return Object(s.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(Pe.a),Et=Object(o.a)((function(e){return Object(s.a)({table:{minWidth:700},buttonDialog:{"&:focus":{backgroundColor:"#b2b8e1"}}})}));function It(){var e=Et(),t=r.a.useState([]),a=Object(u.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!1),o=Object(u.a)(i,2),s=o[0],l=o[1],d=r.a.useState(!1),b=Object(u.a)(d,2),j=b[0],h=b[1],m=r.a.useState(0),p=Object(u.a)(m,2),g=p[0],x=p[1],f=r.a.useState(0),v=Object(u.a)(f,2),k=v[0],y=v[1];r.a.useEffect((function(){St.getUsers().then((function(e){c(e)}),(function(e){alert(e.message)})),console.log("edit post list")}),[s]);var w=function(){l(!s)};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Ee.a,{children:Object(z.jsxs)(Se.a,{className:e.table,"aria-label":"customized table",children:[Object(z.jsx)(Ie.a,{children:Object(z.jsxs)(Pe.a,{children:[Object(z.jsx)(Bt,{children:"Name"}),Object(z.jsxs)(Bt,{align:"right",children:["Email ",Object(z.jsx)("span",{children:"\u2003"})]}),Object(z.jsxs)(Bt,{align:"right",children:["Status ",Object(z.jsx)("span",{children:"\u2003"})]}),Object(z.jsxs)(Bt,{align:"right",children:["Role ",Object(z.jsx)("span",{children:"\u2003"})]}),Object(z.jsxs)(Bt,{align:"right",children:["Set Role ",Object(z.jsx)("span",{children:"\u2003"})]})]})}),Object(z.jsxs)(Be.a,{children:[0===n.length&&Object(z.jsx)(Dt,{children:Object(z.jsx)(Bt,{align:"center",colSpan:5,children:"Empty"})}),n.map((function(e){var t,a,n;return S().userId!==e.id?Object(z.jsxs)(Dt,{children:[Object(z.jsx)(Bt,{component:"th",scope:"row",children:"".concat(e.firstName," ").concat(e.lastName)}),Object(z.jsx)(Bt,{align:"right",children:e.email}),Object(z.jsx)(Bt,{align:"right",children:Object(z.jsx)(Fe.a,{title:e.enabled?"Disable User":"Enable User",children:Object(z.jsx)(te.a,{style:{textTransform:"none"},onClick:function(){return function(e,t){e.enabled=!e.enabled,St.updateUser(e,t).then((function(e){w()}),(function(e){alert(JSON.stringify(e))}))}(e,Number(e.id))},children:Object(z.jsx)(O.a,{color:e.enabled?"primary":"secondary",variant:"subtitle1",component:"h2",children:e.enabled?"Enabled":"Disabled"})})})}),Object(z.jsx)(Bt,{align:"right",children:null===(t=e.role)||void 0===t?void 0:t.name}),Object(z.jsx)(Bt,{align:"right",children:Object(z.jsx)(Fe.a,{title:1===(null===(a=e.role)||void 0===a?void 0:a.id)?"Set role admin":"Set role user",children:Object(z.jsx)(te.a,{onClick:function(){var t;return function(e,t){x(e),y(1===t?2:1),h(!0)}(Number(e.id),Number(null===(t=e.role)||void 0===t?void 0:t.id))},"aria-label":"set-role",size:"small",children:1===(null===(n=e.role)||void 0===n?void 0:n.id)?"Set role admin":"Set role user"})})})]},e.id):null}))]})]})}),Object(z.jsxs)(ie.a,{open:j,onClose:function(){h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsx)(oe.a,{id:"alert-dialog-title",children:"Set role"}),Object(z.jsx)(se.a,{children:Object(z.jsx)(le.a,{id:"alert-dialog-description",children:"Do you want to set role?"})}),Object(z.jsxs)(de.a,{children:[Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){h(!1)},color:"primary",children:"No"}),Object(z.jsx)(te.a,{className:e.buttonDialog,onClick:function(){St.setRoleUser(g,k).then((function(e){w()}),(function(e){alert(JSON.stringify(e))})),h(!1)},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}function At(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(E.d,{children:[Object(z.jsx)(E.b,{path:"/",exact:!0,children:Object(z.jsx)(E.a,{to:"/home"})}),Object(z.jsx)(E.b,{path:"/home",children:Object(z.jsx)(ct,{})}),Object(z.jsx)(E.b,{path:"/register",children:Object(z.jsx)(yt,{})}),Object(z.jsx)(E.b,{path:"/login",children:Object(z.jsx)(dt,{})}),Object(z.jsx)(E.b,{exact:!0,path:"/books-list",children:Object(z.jsx)(_e,{})}),Object(z.jsx)(E.b,{path:"/my-books-list",children:Object(z.jsx)(gt,{})}),Object(z.jsx)(E.b,{path:"/user-management",children:Object(z.jsx)(It,{})}),Object(z.jsx)(E.b,{exact:!0,path:"/book/:bookId",children:Object(z.jsx)(Ce,{})}),Object(z.jsx)(E.b,{path:"/profile",children:Object(z.jsx)("h1",{children:"profile"})}),Object(z.jsx)(E.b,{children:Object(z.jsx)(xt,{})})]})})}var Pt=Object(o.a)((function(e){return Object(s.a)({root:{flexGrow:1},header:{textAlign:"center",borderRadius:0},main:{textAlign:"center",minHeight:"92vh",maxWidth:"100%",borderRadius:0}})}));function Tt(){var e=Pt();return Object(z.jsx)("div",{className:e.root,children:Object(z.jsxs)(d.a,{container:!0,spacing:0,children:[Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(l.a,{className:e.header,children:Object(z.jsx)(H,{})})}),Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(l.a,{className:e.main,children:Object(z.jsx)(At,{})})})]})})}var Ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,253)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(z.jsx)(I.a,{children:Object(z.jsx)(Tt,{})}),document.getElementById("root")),Ft()}},[[174,1,2]]]);
//# sourceMappingURL=main.750d4ba5.chunk.js.map