{"version":3,"sources":["services/user-info.ts","services/auth.service.ts","components/Header.tsx","services/auth-header.ts","services/book.service.ts","services/comment.service.ts","components/common/AddComment.tsx","components/common/CustomizedSnackbars.tsx","components/common/EditComment.tsx","components/pages/BookDeatails.tsx","components/common/EditBook.tsx","components/pages/BooksList.tsx","components/common/CardBook.tsx","components/pages/Home.tsx","components/pages/Login.tsx","components/common/AddBook.tsx","components/pages/MyBooksList.tsx","components/pages/NotFound.tsx","components/pages/Register.tsx","services/user.service.ts","components/pages/UserManagement.tsx","components/Main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getCurrentUser","userFromLocalStorage","localStorage","getItem","JSON","parse","API_URL","headers","authService","register","userRegister","a","axios","post","stringify","response","data","login","userLogin","token","setItem","logout","removeItem","useStyles","makeStyles","theme","createStyles","grow","flexGrow","height","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginLeft","width","searchIcon","padding","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","highlighted","Header","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isUser","setIsUser","isAdmin","setIsAdmin","keyword","setKeyword","currentUser","history","useHistory","path","useLocation","pathname","useEffect","role","includes","console","log","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","logOut","push","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","component","NavLink","activeClassName","to","mobileMenuId","renderMobileMenu","className","AppBar","Toolbar","IconButton","edge","Typography","variant","noWrap","InputBase","placeholder","root","input","inputProps","onKeyDown","event","key","onChange","target","value","currentTarget","authHeader","Authorization","getAllBook","orderBy","order","page","size","param","get","getAllBookEnabled","getBookById","bookId","getBooksByUserId","userId","bookService","addBook","book","updateBook","put","deleteBook","delete","getCommentById","commentId","commentService","getCommentByBookId","addComment","comment","updateComment","deleteComment","margin","formControlTextField","formControlBtnSubmit","float","textTransform","marginTop","AddComment","setComment","FormControl","TextField","label","multiline","rows","message","onChangeTagName","Button","type","preventDefault","today","Date","dateTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","createdAt","updatedAt","submit","Alert","props","elevation","CustomizedSnackbars","active","status","autoHideDuration","setOpen","handleClose","reason","Snackbar","severity","EditComment","reload","activeSnackBar","snackBarMessage","snackBarStatus","then","res","focused","paper","border","boxShadow","textAlign","image","maxWidth","username","paddingRight","listComment","buttonDialog","modal","paperModal","down","background","shadows","webkitBoxShadow","outline","BookDetail","useParams","setBook","comments","setComments","change","setChange","openDialog","setOpenDialog","setCommentId","isModalEditCommentOpen","setIsModalEditCommentOpen","Number","error","alert","closeModalEditComment","handleClick","editComment","Grid","item","xs","md","Paper","gutterBottom","author","toLocaleString","src","alt","align","description","user","firstName","lastName","Divider","map","email","name","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","style","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","formControl","buttonSubmit","EditBook","setActiveSnackBar","setSnackBarMessage","setSnackBarStatus","onSubmit","date","time","window","setTimeout","StyledTableCell","withStyles","head","body","fontSize","wordWrap","TableCell","StyledTableRow","action","hover","TableRow","headCells","numeric","disablePadding","EnhancedTableHead","onRequestSort","TableHead","headCell","sortDirection","TableSortLabel","direction","property","inActive","icon","visuallyHidden","marginBottom","table","minWidth","clip","overflow","top","BooksList","isModalEditBookOpen","setIsModalEditBookOpen","setBookId","setOrder","setOrderBy","setPage","rowsPerPage","setRowsPerPage","totalRows","setTotalRows","books","setBooks","substr","items","totalItems","closeModalEditBook","emptyRows","Math","min","TableContainer","Table","TableBody","length","colSpan","index","Tooltip","enabled","enabledBook","openModalEditBook","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","media","objectFit","cardButton","cardContent","CardBook","Card","CardActionArea","CardMedia","CardContent","CardActions","text","secondary","container","paddingTop","paddingBottom","pagination","right","bottom","Home","totalPage","setTotalPage","ceil","sm","Pagination","flexWrap","loginBtn","header","card","initialState","password","isButtonDisabled","reducer","state","payload","Login","useReducer","dispatch","trim","handleLogin","handleKeyPress","keyCode","which","noValidate","CardHeader","required","fullWidth","onKeyPress","disabled","AddBook","tableContainer","fab","MyBooksList","isModalAddBookOpen","setIsModalAddBookOpen","closeModalAddBook","stickyHeader","scope","NotFound","avata","Register","handleRegister","getUsers","updateUser","userService","setRoleUser","roleId","UserManagement","users","setUsers","setUserId","setRoleId","enabledUser","setRole","Main","exact","main","minHeight","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"6XAAe,SAASA,IACpB,IAAMC,EAAuBC,aAAaC,QAAQ,QAElD,OAD8BF,EAAuBG,KAAKC,MAAMJ,GAAwB,K,gFCAtFK,EAAU,6DAEVC,EAAU,CACd,eAAgB,oBA2BHC,EANK,CAClBC,SAnBY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACQC,IAAMC,KAAKP,EAAU,WAAYF,KAAKU,UAAUJ,GAAe,CAAEH,QAASA,IADlF,cACTQ,EADS,yBAERA,EAASC,MAFD,2CAAH,sDAoBZC,MAfS,uCAAG,WAAOC,GAAP,eAAAP,EAAA,sEACWC,IAAMC,KAAKP,EAAU,QAASF,KAAKU,UAAUI,GAAY,CAAEX,QAASA,IAD/E,cACNQ,EADM,QAECC,KAAKG,OAChBjB,aAAakB,QAAQ,OAAQhB,KAAKU,UAAUC,EAASC,OAH3C,kBAMLD,EAASC,MANJ,2CAAH,sDAgBTK,OAPa,WACbnB,aAAaoB,WAAW,U,OCNpBC,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,SAAU,EACVC,OAAQ,OAEVC,WAAY,CACVC,YAAaN,EAAMO,QAAQ,IAE7BC,MAAM,aACJC,QAAS,QACRT,EAAMU,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,UAGbG,OAAO,aACLC,SAAU,WACVC,aAAcd,EAAMe,MAAMD,aAC1BE,gBAAiBC,YAAMjB,EAAMkB,QAAQC,OAAOC,MAAO,KACnD,UAAW,CACTJ,gBAAiBC,YAAMjB,EAAMkB,QAAQC,OAAOC,MAAO,MAErDd,YAAaN,EAAMO,QAAQ,GAC3Bc,WAAY,EACZC,MAAO,QACNtB,EAAMU,YAAYC,GAAG,MAAQ,CAC5BU,WAAYrB,EAAMO,QAAQ,GAC1Be,MAAO,SAGXC,WAAY,CACVC,QAASxB,EAAMO,QAAQ,EAAG,GAC1BH,OAAQ,OACRS,SAAU,WACVY,cAAe,OACfhB,QAAS,OACTiB,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTC,MAAO,WAETC,WAAW,aACTN,QAASxB,EAAMO,QAAQ,EAAG,EAAG,EAAG,GAEhCwB,YAAY,cAAD,OAAgB/B,EAAMO,QAAQ,GAA9B,OACXyB,WAAYhC,EAAMiC,YAAYC,OAAO,SACrCZ,MAAO,QACNtB,EAAMU,YAAYC,GAAG,MAAQ,CAC5BW,MAAO,SAGXa,eAAe,aACb1B,QAAS,QACRT,EAAMU,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGb2B,cAAc,aACZ3B,QAAS,QACRT,EAAMU,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGb4B,YAAa,CACXR,MAAO,gBAKE,SAASS,IACtB,IAAMC,EAAUzC,IAChB,EAAgC0C,IAAMC,SAA6B,MAAnE,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAoDH,IAAMC,SAA6B,MAAvF,mBAAOG,EAAP,KAA2BC,EAA3B,KACA,EAA4BL,IAAMC,UAAS,GAA3C,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA8BP,IAAMC,UAAS,GAA7C,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAA8BT,IAAMC,SAAS,IAA7C,mBAAOS,EAAP,KAAgBC,EAAhB,KACMC,EAAc7E,IACd8E,EAAUC,cACVC,EAAOC,cAAcC,SAE3BjB,IAAMkB,WAAU,WACVN,GACFH,EAAWG,EAAYO,KAAKC,SAAS,eACrCb,EAAUK,EAAYO,KAAKC,SAAS,gBAEpCX,GAAW,GACXF,GAAU,IAEZc,QAAQC,IAAI,YACX,CAACV,IAEJ,IAAMW,EAAaC,QAAQtB,GACrBuB,EAAmBD,QAAQpB,GAM3BsB,EAAwB,WAC5BrB,EAAsB,OAGlBsB,EAAkB,WACtBxB,EAAY,MACZuB,KAOIE,EAAS,WACbD,IACApF,EAAYa,SACZyD,EAAQgB,KAAK,UAaTC,EAAS,8BACTC,EACJ,eAACC,EAAA,EAAD,CACE9B,SAAUA,EACV+B,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,GAAIN,EACJO,aAAW,EACXC,gBAAiB,CAAEJ,SAAU,MAAOC,WAAY,SAChDI,KAAMhB,EACNiB,QAASb,EAPX,UASE,cAACc,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAASf,EACTgB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,WALL,qBASA,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAASd,EAFX,uBASEmB,EAAe,qCACfC,EACJ,eAAChB,EAAA,EAAD,CACE9B,SAAUE,EACV6B,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CC,GAAIW,EACJV,aAAW,EACXC,gBAAiB,CAAEJ,SAAU,MAAOC,WAAY,SAChDI,KAAMd,EACNe,QAASd,EAPX,WASIpB,GAAUE,IACV,cAACiC,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,iBALL,SAOE,gDAGHtC,GACC,gCACE,cAACiC,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,cALL,SAOE,6CAEF,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,mBALL,SAOE,qDAILlC,EAEG,gCACE,cAAC6B,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,WALL,SAOE,0CAEF,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAASd,EAFX,SAIE,4CAKJ,gCACE,cAACa,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,SALL,SAOE,wCAEF,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNqD,QAAShB,EACTiB,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,YALL,SAOE,iDAQZ,OACE,sBAAKG,UAAWlD,EAAQrC,KAAxB,UACE,cAACwF,EAAA,EAAD,CAAQ7E,SAAS,SAAjB,SACE,eAAC8E,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACE/D,MAAM,UACNgE,KAAK,QACLJ,UAAWlD,EAAQlC,WACnB,aAAW,cACX8E,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,QAPL,SASE,cAAC,IAAD,MAEF,cAACQ,EAAA,EAAD,CAAYL,UAAWlD,EAAQ/B,MAAOuF,QAAQ,KAAKC,QAAM,EAAzD,6BAGA,cAAC,IAAD,CAAOzC,KAAM,CAAC,QAAS,iBAAkB,cAAe,oBAAxD,SACE,sBAAKkC,UAAWlD,EAAQ3B,OAAxB,UACE,qBAAK6E,UAAWlD,EAAQhB,WAAxB,SACE,cAAC,IAAD,MAEF,cAAC0E,EAAA,EAAD,CACEC,YAAY,eACZ3D,QAAS,CACP4D,KAAM5D,EAAQX,UACdwE,MAAO7D,EAAQT,YAEjBuE,WAAY,CAAE,aAAc,UAC5BC,UA/JQ,SAACC,GACH,UAAdA,EAAMC,KACRnD,EAAQgB,KAAKd,EAAO,YAAcL,IA8JxBuD,SA1JG,SAACF,GAChBpD,EAAWoD,EAAMG,OAAOC,eA6JlB,qBAAKlB,UAAWlD,EAAQrC,OACxB,sBAAKuF,UAAWlD,EAAQJ,eAAxB,WACIW,GAAUE,IACV,cAACiC,EAAA,EAAD,CACEpD,MAAM,UACNsD,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,iBAJL,SAME,gDAGHtC,GACC,qCACE,cAACiC,EAAA,EAAD,CACEpD,MAAM,UACNsD,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,cAJL,SAME,6CAEF,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNsD,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,mBAJL,SAME,qDAILlC,EAEG,8BACE,cAACwC,EAAA,EAAD,CACEC,KAAK,MACL,aAAW,0BACX,gBAAevB,EACf,gBAAc,OACdY,QAnOY,SAACqB,GAC7B5D,EAAY4D,EAAMK,gBAmOF/E,MAAM,UANR,SAQE,cAAC,IAAD,QAKJ,qCACE,cAACoD,EAAA,EAAD,CACEpD,MAAM,UACNsD,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,SAJL,SAME,wCAEF,cAACL,EAAA,EAAD,CACEpD,MAAM,UACNsD,UAAWC,IACXC,gBAAiB9C,EAAQF,YACzBiD,GAAG,YAJL,SAME,iDAMV,qBAAKG,UAAWlD,EAAQH,cAAxB,SACE,cAACwD,EAAA,EAAD,CACE,aAAW,YACX,gBAAeL,EACf,gBAAc,OACdL,QAxPiB,SAACqB,GAC5B1D,EAAsB0D,EAAMK,gBAwPlB/E,MAAM,UALR,SAOE,cAAC,IAAD,aAKP2D,EACAjB,K,aC5XQ,SAASsC,IACtB,OAAIzD,KAAiBA,IAAc1D,MAC1B,CACL,eAAgB,mBAChBoH,cAAc,UAAD,OAAY1D,IAAc1D,QAGlC,GCLX,IAAMb,EAAU,6DAEVkI,EAAU,uCAAG,WAAOC,EAAiBC,EAAeC,EAAcC,EAAcC,GAAnE,eAAAlI,EAAA,sEACQC,IAAMkI,IAAIxI,EAAO,mBAAemI,EAAf,kBAAgCC,EAAhC,iBAA8CC,EAA9C,iBAA2DC,EAA3D,YAAmEC,IAD5F,cACT9H,EADS,yBAERA,EAASC,MAFD,2CAAH,8DAKV+H,EAAiB,uCAAG,WAAOJ,EAAcE,GAArB,eAAAlI,EAAA,sEACCC,IAAMkI,IAAIxI,EAAO,yBAAqBqI,EAArB,mBAAoCE,IADtD,cAChB9H,EADgB,yBAEfA,EAASC,MAFM,2CAAH,wDAKjBgI,EAAW,uCAAG,WAAOC,GAAP,eAAAtI,EAAA,sEACOC,IAAMkI,IAAIxI,EAAO,WAAO2I,IAD/B,cACVlI,EADU,yBAETA,EAASC,MAFA,2CAAH,sDAKXkI,EAAgB,uCAAG,WAAOP,EAAcC,EAAcC,GAAnC,eAAAlI,EAAA,sEACEC,IAAMkI,IAAIxI,EAAO,gBAAYuE,IAAcsE,OAA1B,iBAAyCR,EAAzC,iBAAsDC,EAAtD,YAA8DC,IADjF,cACf9H,EADe,yBAEdA,EAASC,MAFK,2CAAH,0DA0CPoI,EAZK,CAChBZ,aACAO,oBAEAM,QAnBS,uCAAG,WAAOC,GAAP,eAAA3I,EAAA,sEACWC,IAAMC,KAAKP,EAAO,WAAOuE,IAAcsE,QAAU/I,KAAKU,UAAUwI,GAAO,CAAE/I,QAAS+H,MAD7F,cACNvH,EADM,yBAELA,EAASC,MAFJ,2CAAH,sDAoBTkI,mBACAK,WAhBY,uCAAG,WAAOD,EAAYL,EAAgBE,GAAnC,eAAAxI,EAAA,sEACQC,IAAM4I,IAAIlJ,EAAO,WAAO2I,EAAP,YAAiBE,GAAU/I,KAAKU,UAAUwI,GAAO,CAAE/I,QAAS+H,MADrF,cACTvH,EADS,yBAERA,EAASC,MAFD,2CAAH,0DAiBZyI,WAZY,uCAAG,WAAOR,GAAP,eAAAtI,EAAA,sEACQC,IAAM8I,OAAOpJ,EAAO,WAAO2I,GAAU,CAAE1I,QAAS+H,MADxD,cACTvH,EADS,yBAERA,EAASR,SAFD,2CAAH,sDAcZyI,eCxDE1I,EAAU,gEAYVqJ,EAAc,uCAAG,WAAOC,GAAP,eAAAjJ,EAAA,sEACIC,IAAMkI,IAAIxI,EAAO,WAAOsJ,IAD5B,cACb7I,EADa,yBAEZA,EAASC,MAFG,2CAAH,sDA+CL6I,EAZQ,CACnBC,mBA/BoB,uCAAG,WAAOb,GAAP,eAAAtI,EAAA,sEACAC,IAAMkI,IAAIxI,EAAO,gBAAY2I,IAD7B,cACjBlI,EADiB,yBAEhBA,EAASC,MAFO,2CAAH,sDAkCpB+I,WAnBY,uCAAG,WAAOC,EAAkBf,GAAzB,eAAAtI,EAAA,sEACQC,IAAMC,KAAKP,EAAO,WAAOuE,IAAcsE,OAArB,YAA+BF,GAAU7I,KAAKU,UAAUkJ,GAAU,CAAEzJ,QAAS+H,MADvG,cACTvH,EADS,yBAERA,GAFQ,2CAAH,wDAqBZkJ,cAhBe,uCAAG,WAAOD,EAAkBJ,EAAmBT,GAA5C,eAAAxI,EAAA,sEACKC,IAAM4I,IAAIlJ,EAAO,WAAOsJ,EAAP,YAAoBT,GAAU/I,KAAKU,UAAUkJ,GAAU,CAAEzJ,QAAS+H,MADxF,cACZvH,EADY,yBAEXA,EAASC,MAFE,2CAAH,0DAiBfkJ,cAZe,uCAAG,WAAON,GAAP,eAAAjJ,EAAA,sEACKC,IAAM8I,OAAOpJ,EAAO,WAAOsJ,GAAa,CAAErJ,QAAS+H,MADxD,cACZvH,EADY,yBAEXA,EAASR,SAFE,2CAAH,sDAcfoJ,kB,uCCnDEpI,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkG,KAAM,CACF,QAAS,CACL7E,MAAO,OACPoH,OAAQ,QAEZpH,MAAO,OAEXqH,qBAAsB,CAClBrH,MAAO,QAEXsH,qBAAsB,CAClBC,MAAO,QACPvH,MAAO,IACPwH,cAAe,OACfC,UAAW/I,EAAMO,QAAQ,GACzBc,WAAYrB,EAAMO,QAAQ,SAKvB,SAASyI,GAAT,GAA4C,IAAtBV,EAAqB,EAArBA,WAC3B/F,EAAUzC,KAChB,EAA8B0C,IAAMC,SAAkB,IAAtD,mBAAO8F,EAAP,KAAgBU,EAAhB,KAqBA,OACI,uBAAMxD,UAAWlD,EAAQ4D,KAAzB,UACI,cAAC+C,GAAA,EAAD,CAAazD,UAAWlD,EAAQoG,qBAAhC,SACI,cAACQ,GAAA,EAAD,CACIvE,GAAG,YACHwE,MAAM,cACNC,WAAS,EACTC,KAAM,EACNvD,QAAQ,WACRY,MAAO4B,EAAQgB,QACfrD,YAAY,cACZO,SAAU,SAACF,GAAD,OAdF,SAACA,GACrB0C,EAAW,6BAAKV,GAAN,IAAegB,QAAShD,EAAMG,OAAOC,SAad6C,CAAgBjD,QAI7C,cAAC2C,GAAA,EAAD,CAAazD,UAAWlD,EAAQqG,qBAAhC,SACI,cAACa,GAAA,EAAD,CACIC,KAAK,SACL3D,QAAQ,WACRlE,MAAM,UACNqD,QAAS,SAACqB,GAAD,OAvCV,SAACA,GACZA,EAAMoD,iBAEN,IAAMC,EAAQ,IAAIC,KAGZC,EAFOF,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UAEtD,IADXL,EAAMM,WAAa,IAAMN,EAAMO,aAAe,IAAMP,EAAMQ,aAGvE7B,EAAQ8B,UAAYP,EACpBvB,EAAQ+B,UAAYR,EAEpBxB,EAAWC,GAEXU,EAAW,6BAAKV,GAAN,IAAegB,QAAS,GAAIc,UAAW,GAAIC,UAAW,MA0BhCC,CAAOhE,IAJ/B,8B,iJClEhB,SAASiE,GAAMC,GACX,OAAO,cAAC,KAAD,cAAUC,UAAW,EAAG3E,QAAQ,UAAa0E,IAGzC,SAASE,GAAT,GAA2F,IAA5DC,EAA2D,EAA3DA,OAAQC,EAAmD,EAAnDA,OAAQC,EAA2C,EAA3CA,iBAAkBvB,EAAyB,EAAzBA,QAC5E,EAAwB/G,IAAMC,UAAS,GAAvC,mBAAOsC,EAAP,KAAagG,EAAb,KAEAvI,IAAMkB,WACF,WACoB,KAAZ6F,GACAwB,GAAQ,KAGhB,CAACH,EAAQrB,IAGb,IAAMyB,EAAc,SAACzE,EAA8B0E,GAChC,cAAXA,GAGJF,GAAQ,IAGZ,OACI,cAACG,GAAA,EAAD,CACIzG,aAAc,CAAEC,SAAU,SAAUC,WAAY,SAChDI,KAAMA,EACN+F,iBAAkBA,EAClB9F,QAASgG,EAJb,SAMI,cAAC,GAAD,CAAOhG,QAASgG,EAAaG,SAAUN,EAAvC,SACKtB,MCvBjB,IAAMzJ,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkG,KAAM,CACF,QAAS,CACL7E,MAAO,OACPoH,OAAQ,QAEZpH,MAAO,OAEXqH,qBAAsB,CAClBrH,MAAO,QAEXsH,qBAAsB,CAClBC,MAAO,QACPvH,MAAO,IACPwH,cAAe,OACfC,UAAW/I,EAAMO,QAAQ,GACzBc,WAAYrB,EAAMO,QAAQ,SAKvB,SAAS6K,GAAT,GAAmD,EAA5BC,OAA6B,IAArBlD,EAAoB,EAApBA,UACpC5F,EAAUzC,KAChB,EAA8B0C,IAAMC,SAAkB,IAAtD,mBAAO8F,EAAP,KAAgBU,EAAhB,KACA,EAA4CzG,IAAMC,UAAS,GAA3D,mBAAO6I,EAAP,KACA,GADA,KAC8C9I,IAAMC,SAAS,KAA7D,mBAAO8I,EAAP,KACA,GADA,KAC4C/I,IAAMC,SAAS,KAA3D,mBAAO+I,EAAP,UAEAhJ,IAAMkB,WAAU,WACZ0E,EAAeF,eAAeC,GAAWsD,MACrC,SAACC,GACGzC,EAAWyC,MAEf,iBAIL,IAgCH,OACI,uBAAMjG,UAAWlD,EAAQ4D,KAAzB,UACI,cAAC+C,GAAA,EAAD,CAAazD,UAAWlD,EAAQoG,qBAAhC,SACI,cAACQ,GAAA,EAAD,CACIwC,SAAO,EACP/G,GAAG,YACHwE,MAAM,eACNC,WAAS,EACTC,KAAM,EACNvD,QAAQ,WACRY,MAAO4B,EAAQgB,QACfrD,YAAY,eACZO,SAAU,SAACF,GAAD,OAfF,SAACA,GACrB0C,EAAW,6BAAKV,GAAN,IAAegB,QAAShD,EAAMG,OAAOC,SAcd6C,CAAgBjD,QAI7C,cAAC2C,GAAA,EAAD,CAAazD,UAAWlD,EAAQqG,qBAAhC,SACI,cAACa,GAAA,EAAD,CACIC,KAAK,SACL3D,QAAQ,WACRlE,MAAM,UACNqD,QAAS,SAACqB,GAAD,OAnDV,SAACA,GACZA,EAAMoD,iBAEN,IAAMC,EAAQ,IAAIC,KAGZC,EAFOF,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UAEtD,IADXL,EAAMM,WAAa,IAAMN,EAAMO,aAAe,IAAMP,EAAMQ,aAGvE7B,EAAQ+B,UAAYR,EA2CYS,CAAOhE,IAJ/B,sBASJ,cAACoE,GAAD,CAAqBC,OAAQU,EAAgBT,OAAQW,EAAgBV,iBAAkB,IAAMvB,QAASgC,OClFlH,IAAMzL,GAAYC,aAAW,SAACC,GAAD,aACzBC,YAAa,CACTkG,KAAM,CACFhG,SAAU,EACVmB,MAAO,OACPb,QAAS,SAEbmL,MAAO,CACHzL,SAAU,EACVmB,MAAO,MACPoH,OAAQ,OACRlH,QAASxB,EAAMO,QAAQ,GACvBS,gBAAiB,cACjB6K,OAAQ,OACRC,UAAW,OACXC,UAAW,UAEfC,MAAO,CACHC,SAAU,QAEdC,SAAU,CACNzL,QAAS,OACT0L,aAAc,GACdxK,eAAgB,YAGpB2G,WAAY,CACRI,OAAQ1I,EAAMO,QAAQ,GACtBE,QAAS,OACTkB,eAAgB,SAChBL,MAAO,QAEX8K,YAAa,CACT3L,QAAS,QACTsL,UAAW,OACX1K,WAAY,EACZP,aAAc,EACdU,QAAS,EACTuH,UAAW,GAEfsD,aAAc,CACV,UAAW,CACPrL,gBAAiB,YAGzBsL,MAAO,CACH7L,QAAS,OACTiB,WAAY,SACZC,eAAgB,SAChBsK,SAAU,QAEdM,YAAU,mBACLvM,EAAMU,YAAY8L,KAAK,MAAQ,CAC5BlL,MAAO,QAFL,sBAIC,OAJD,0BAKK,QALL,gCAMWtB,EAAMkB,QAAQuL,WAAWb,OANpC,uBAOE,qBAPF,6BAQQ,GARR,0BASK5L,EAAM0M,QAAQ,IATnB,wBAUG1M,EAAMO,QAAQ,EAAG,EAAG,IAVvB,cAWN,uBAAwB,CACpBe,MAAO,UAZL,cAcN,6BAA8B,CAC1BwK,UAAW,iCACXa,gBAAiB,mCAhBf,cAkBN,6BAA8B,CAC1B3L,gBAAiB,iBACjB4L,QAAS,wBApBP,QA0BH,SAASC,KAAc,IAAD,IAC3BtK,EAAUzC,KACV0H,EAAWsF,cAAXtF,OACN,EAAwBhF,IAAMC,SAAe,IAA7C,mBAAOoF,EAAP,KAAakF,EAAb,KACA,EAAgCvK,IAAMC,SAAoB,IAA1D,mBAAOuK,EAAP,KAAiBC,EAAjB,KACA,EAA4BzK,IAAMC,UAAS,GAA3C,mBAAOyK,EAAP,KAAeC,EAAf,KACA,EAAoC3K,IAAMC,UAAS,GAAnD,mBAAO2K,EAAP,KAAmBC,EAAnB,KACA,EAAkC7K,IAAMC,SAAS,GAAjD,mBAAO0F,EAAP,KAAkBmF,EAAlB,KACA,EAAgC9K,IAAMC,SAA6B,MAAnE,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4DH,IAAMC,UAAS,GAA3E,mBAAO8K,EAAP,KAA+BC,EAA/B,KAEAhL,IAAMkB,WAAU,WACZiE,EAAYJ,YAAYkG,OAAOjG,IAASiE,MACpC,SAACC,GACGqB,EAAQrB,MAEZ,SAACgC,GACGC,MAAMD,EAAMnE,YAIpBnB,EAAeC,mBAAmBoF,OAAOjG,IAASiE,MAC9C,SAACC,GACGuB,EAAYvB,MAEhB,SAACgC,GACGC,MAAMD,EAAMnE,YAGpB1F,QAAQC,IAAI,iBACb,CAAC0D,EAAQ0F,IAEZ,IAWM7B,EAAS,WACX8B,GAAWD,GACXU,IACA5C,KA6BE6C,EAAc,SAACtH,GACjB5D,EAAY4D,EAAMK,gBAGhBoE,EAAc,WAChBrI,EAAY,OAOViL,EAAwB,WAC1BJ,GAA0B,IAGxBM,EAAc,SAAC3F,GACjBmF,EAAanF,GARbqF,GAA0B,IAY9B,OACI,sBAAK/H,UAAWlD,EAAQ4D,KAAxB,UACI,cAAC4H,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAvB,SACI,eAACC,EAAA,EAAD,CAAO1I,UAAWlD,EAAQqJ,MAA1B,UACI,cAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAAKqI,cAAY,EAArC,mBAA0CvG,EAAKrH,MAA/C,cAA0DqH,EAAKwG,UAE/D,cAACvI,EAAA,EAAD,CAAYC,QAAQ,YAAYqI,cAAY,EAA5C,SACK,IAAIvE,KAAKhC,EAAKwC,WAAWiE,mBAG9B,qBAAK7I,UAAWlD,EAAQyJ,MAAOuC,IAAK1G,EAAKmE,MAAOwC,IAAI,KAEpD,cAAC1I,EAAA,EAAD,CAAY2I,MAAM,UAAU1I,QAAQ,YAAYqI,cAAY,EAA5D,SAA8DvG,EAAK6G,cAEnE,qBAAKjJ,UAAWlD,EAAQ2J,SAAxB,SACI,cAACpG,EAAA,EAAD,CAAYC,QAAQ,KAAKqI,cAAY,EAArC,6BACQvG,EAAK8G,YADb,aACQ,EAAWC,UADnB,sBACgC/G,EAAK8G,YADrC,aACgC,EAAWE,cAG/C,cAACC,EAAA,EAAD,IACA,uBACA,cAAChJ,EAAA,EAAD,CAAYC,QAAQ,KAAKqI,cAAY,EAArC,qBACC7P,KACG,qBAAKkH,UAAWlD,EAAQ+F,WAAxB,SACI,cAACU,GAAD,CAAYV,WAxFjB,SAACC,GAChBH,EAAeE,WAAWC,EAASkF,OAAOjG,IAASiE,MAC/C,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMD,EAAMnE,iBAqFR,8BACKyD,GAAYA,EAAS+B,KAAI,SAAAxG,GAAO,mBAC7B,sBAAK9C,UAAWlD,EAAQ6J,YAAxB,UACI,cAACtG,EAAA,EAAD,CAAYC,QAAQ,KAAKqI,cAAY,EAArC,mBAAuC7F,EAAQoG,YAA/C,aAAuC,EAAcK,QACrD,cAAClJ,EAAA,EAAD,CAAYC,QAAQ,UAAUqI,cAAY,EAA1C,SAA4C7F,EAAQ8B,YACpD,eAACvE,EAAA,EAAD,CAAYC,QAAQ,YAAYqI,cAAY,EAA5C,UACK7F,EAAQgB,SACNhL,MAAoB,UAAAgK,EAAQoG,YAAR,eAAc/J,MAAOrG,IAAiBmJ,QACzB,gBAA7B,UAAAa,EAAQoG,YAAR,mBAAchL,YAAd,eAAoBsL,QACnB,qCACI,cAACrJ,EAAA,EAAD,CAAY,gBAAc,cAAc,gBAAc,OAAOV,QAAS2I,EAAtE,SACI,cAAC,KAAD,MAEJ,eAACrJ,EAAA,EAAD,CACII,GAAG,cACHlC,SAAUA,EACVmC,aAAW,EACXE,KAAMf,QAAQtB,GACdsC,QAASgG,EALb,UAOI,cAAC/F,EAAA,EAAD,CAAUC,QAAS,kBA9F7C,SAACiD,GACnBmF,EAAanF,GACb6C,IACAqC,GAAc,GA2FuD5E,CAAcF,EAAQ3D,KAA/C,oBACA,cAACK,EAAA,EAAD,CAAUC,QAAS,kBAAM4I,EAAYvF,EAAQ3D,KAA7C,2BAMpB,cAACkK,EAAA,EAAD,iBAMpB,cAACI,GAAA,EAAD,CACI,kBAAgB,yBAChB,mBAAiB,+BACjBzJ,UAAWlD,EAAQ+J,MACnBvH,KAAMwI,EACNvI,QAAS4I,EACTuB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,KATjB,SAYI,cAACC,GAAA,EAAD,CAAMC,GAAIlC,EAAV,SACI,sBAAK9H,UAAWlD,EAAQgK,WAAxB,UACI,eAACzG,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,yBAEI,cAACJ,EAAA,EAAD,CACI8J,MAAO,CAAE7G,MAAO,SAChBhH,MAAM,UACNqD,QAAS0I,EAHb,SAKI,cAAC,KAAD,SAGR,cAACxC,GAAD,CAAaC,OAAQA,EAAQlD,UAAWA,WAIpD,eAACwH,GAAA,EAAD,CACI5K,KAAMqI,EACNpI,QAnIc,WACtBqI,GAAc,IAmIN,kBAAgB,qBAChB,mBAAiB,2BAJrB,UAMI,cAACuC,GAAA,EAAD,CAAahL,GAAG,qBAAhB,4BACA,cAACiL,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAmBlL,GAAG,2BAAtB,mDAIJ,eAACmL,GAAA,EAAD,WACI,cAACtG,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QA9HnC,WAClBmI,GAAc,IA6H+DxL,MAAM,UAAvE,gBAGA,cAAC4H,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QA7ItC,WACfkD,EAAeK,cAAcN,GAAWsD,MACpC,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMD,EAAMnE,YAGpB8D,GAAc,IAoI4DxL,MAAM,UAAUmO,WAAS,EAAvF,0B,kKCnSdlQ,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkG,KAAM,CACF,QAAS,CACL7E,MAAO,MACPoH,OAAQ,SAGhBuH,YAAa,CACTvH,OAAQ1I,EAAMO,QAAQ,GACtBe,MAAO,QAEX4O,aAAc,CACVpH,cAAe,OACfD,MAAO,cAKJ,SAASsH,GAAT,GAA6C,IAAzB3I,EAAwB,EAAxBA,OAAQ6D,EAAgB,EAAhBA,OACjC9I,EAAUzC,KAEhB,EAA4C0C,IAAMC,UAAS,GAA3D,mBAAO6I,EAAP,KAAuB8E,EAAvB,KACA,EAA8C5N,IAAMC,SAAS,IAA7D,mBAAO8I,EAAP,KAAwB8E,EAAxB,KACA,EAA4C7N,IAAMC,SAAS,IAA3D,mBAAO+I,EAAP,KAAuB8E,EAAvB,KACA,EAAwB9N,IAAMC,SAJJ,IAI1B,mBAAOoF,EAAP,KAAakF,EAAb,KAEAvK,IAAMkB,WAAU,WACZiE,EAAYJ,YAAYC,GAAQiE,MAC5B,SAACC,GACGqB,EAAQrB,MAEZ,SAACgC,GACGC,MAAMD,EAAMnE,YAGpB1F,QAAQC,IAAI,eAEb,IAEH,IAAM2C,EAAW,SAACF,GACdwG,EAAQ,6BAAKlF,GAAN,kBAAatB,EAAMG,OAAOuI,KAAO1I,EAAMG,OAAOC,UAGnD4J,EAAQ,uCAAG,WAAOhK,GAAP,uBAAArH,EAAA,sDACbqH,EAAMoD,iBAEAC,EAAQ,IAAIC,KACZ2G,EAAO5G,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UACxEwG,EAAO7G,EAAMM,WAAa,IAAMN,EAAMO,aAAe,IAAMP,EAAMQ,aACjEN,EAAW0G,EAAO,IAAMC,EAC9B5I,EAAKyC,UAAYR,EAEjBnC,EAAYG,WAAWD,EAAML,EAA7B,UAAqCK,EAAK8G,YAA1C,aAAqC,EAAW/J,IAAI6G,MAChD,WACI2E,GAAmB9E,GACnB+E,EAAmB,qBACnBC,EAAkB,WAClBI,OAAOC,YAAW,WACdtF,MACD,QAEP,SAACqC,GACG0C,GAAmB9E,GACnB+E,EAAmB3C,EAAMpO,SAASC,KAAKgK,SACvC+G,EAAkB,YArBb,2CAAH,sDA0Bd,OACI,uBAAM7K,UAAWlD,EAAQ4D,KAAMoK,SAAUA,EAAzC,UACI,gCACI,cAACrH,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,QACN6F,KAAK,QACLtI,MAAOkB,EAAKrH,MACZiG,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,SACN6F,KAAK,SACLtI,MAAOkB,EAAKwG,OACZ5H,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,4BACHqK,KAAK,cACL7F,MAAM,cACNzC,MAAOkB,EAAK6G,YACZrF,WAAS,EACTC,KAAM,GACNvD,QAAQ,WACRU,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,aACN6F,KAAK,QACLtI,MAAOkB,EAAKmE,MACZvF,SAAUA,MAGlB,uBACA,uBACA,cAACgD,GAAA,EAAD,CACIhE,UAAWlD,EAAQ2N,aACnBnK,QAAQ,WACRlE,MAAM,UACN6H,KAAK,SAJT,uBASJ,cAACiB,GAAD,CAAqBC,OAAQU,EAAgBT,OAAQW,EAAgBV,iBAAkB,IAAMvB,QAASgC,OCxGlH,IAAMqF,GAAkBC,cAAW,SAAC7Q,GAAD,OAC/BC,YAAa,CACT6Q,KAAM,CACF9P,gBAAiB,UACjBa,MAAO7B,EAAMkB,QAAQC,OAAOC,OAEhC2P,KAAM,CACFC,SAAU,GACVC,SAAU,kBAREJ,CAWtBK,MAEIC,GAAiBN,cAAW,SAAC7Q,GAAD,OAC9BC,YAAa,CACTkG,KAAM,CACF,qBAAsB,CAClBnF,gBAAiBhB,EAAMkB,QAAQkQ,OAAOC,YAJ/BR,CAQrBS,MAWIC,GAAwB,CAC1B,CAAE3M,GAAI,QAAS4M,SAAS,EAAOC,gBAAgB,EAAOrI,MAAO,SAC7D,CAAExE,GAAI,SAAU4M,SAAS,EAAMC,gBAAgB,EAAOrI,MAAO,UAC7D,CAAExE,GAAI,YAAa4M,SAAS,EAAMC,gBAAgB,EAAOrI,MAAO,aAChE,CAAExE,GAAI,UAAW4M,SAAS,EAAMC,gBAAgB,EAAOrI,MAAO,WAUlE,SAASsI,GAAkBjH,GACvB,IAAQlI,EAA2CkI,EAA3ClI,QAAS0E,EAAkCwD,EAAlCxD,MAAOD,EAA2ByD,EAA3BzD,QAAS2K,EAAkBlH,EAAlBkH,cAKjC,OACI,cAACC,GAAA,EAAD,UACI,eAACT,GAAD,WACKI,GAAUxC,KAAI,SAAC8C,GAAD,OACX,cAACjB,GAAD,CAEInC,MAAOoD,EAASL,QAAU,QAAU,OACpChQ,QAASqQ,EAASJ,eAAiB,OAAS,SAC5CK,cAAe9K,IAAY6K,EAASjN,IAAKqC,EAJ7C,SAMI,eAAC8K,GAAA,EAAD,CACInH,OAAQ5D,IAAY6K,EAASjN,GAC7BoN,UAAWhL,IAAY6K,EAASjN,GAAKqC,EAAQ,MAC7C/B,SAjBG+M,EAiBwBJ,EAASjN,GAjBR,SAAC2B,GACjDoL,EAAcpL,EAAO0L,KAiBD1P,QAAS,CAAE4D,KAAM5D,EAAQ2P,SAAUtH,OAAQrI,EAAQqI,OAAQuH,KAAM5P,EAAQ4P,MAJ7E,UAMKN,EAASzI,MACTpC,IAAY6K,EAASjN,GAClB,sBAAMa,UAAWlD,EAAQ6P,eAAzB,SACe,SAAVnL,EAAmB,oBAAsB,qBAE9C,SAhBH4K,EAASjN,IATR,IAACqN,KA6Bf,cAACrB,GAAD,CAAiBnC,MAAO,QAAxB,kBACA,cAACmC,GAAD,CAAiBnC,MAAO,QAAxB,kBACA,cAACmC,GAAD,CAAiBnC,MAAO,QAAxB,yBAMhB,IAAM3O,GAAYC,aAAW,SAACC,GAAD,aACzBC,YAAa,CACTkG,KAAM,CACF7E,MAAO,QAEXsK,MAAO,CACHtK,MAAO,OACP+Q,aAAcrS,EAAMO,QAAQ,IAEhC+R,MAAO,CACHC,SAAU,KAEdH,eAAgB,CACZvG,OAAQ,EACR2G,KAAM,gBACNpS,OAAQ,EACRsI,QAAS,EACT+J,SAAU,SACVjR,QAAS,EACTX,SAAU,WACV6R,IAAK,GACLpR,MAAO,GAEXgL,MAAO,CACH7L,QAAS,OACTiB,WAAY,SACZC,eAAgB,UAEpB4K,YAAU,mBACLvM,EAAMU,YAAY8L,KAAK,MAAQ,CAC5BlL,MAAO,QAFL,sBAIC,OAJD,0BAKK,QALL,gCAMWtB,EAAMkB,QAAQuL,WAAWb,OANpC,uBAOE,qBAPF,6BAQQ,GARR,0BASK5L,EAAM0M,QAAQ,IATnB,wBAUG1M,EAAMO,QAAQ,EAAG,EAAG,IAVvB,cAWN,uBAAwB,CACpBe,MAAO,UAZL,cAcN,6BAA8B,CAC1BwK,UAAW,iCACXa,gBAAiB,mCAhBf,cAkBN,6BAA8B,CAC1B3L,gBAAiB,iBACjB4L,QAAS,wBApBP,GAuBVP,aAAc,CACV,UAAW,CACPrL,gBAAiB,YAGzBkR,SAAU,CACNrQ,MAAO,QACP,UAAW,CACPA,MAAO,OAEX,WAAY,CACRA,MAAO,QAGf+I,OAAQ,CACJ/I,MAAO,OAEXsQ,KAAM,CACFtQ,MAAO,kBAEXjB,OAAQ,CACJE,aAAcd,EAAMe,MAAMD,aAC1BE,gBAAiBC,YAAMjB,EAAMkB,QAAQC,OAAOC,MAAO,KACnD,UAAW,CACPJ,gBAAiBC,YAAMjB,EAAMkB,QAAQC,OAAOC,MAAO,MAEvDE,MAAO,OAEXC,WAAY,CACRC,QAASxB,EAAMO,QAAQ,EAAG,GAC1BH,OAAQ,OACRS,SAAU,WACVY,cAAe,OACfhB,QAAS,OACTiB,WAAY,SACZC,eAAgB,UAEpBC,UAAW,CACPC,MAAO,WAEXC,WAAW,aACPN,QAASxB,EAAMO,QAAQ,EAAG,EAAG,EAAG,GAEhCwB,YAAY,cAAD,OAAgB/B,EAAMO,QAAQ,GAA9B,OACXyB,WAAYhC,EAAMiC,YAAYC,OAAO,SACrCZ,MAAO,QACNtB,EAAMU,YAAYC,GAAG,MAAQ,CAC1BW,MAAO,cAMR,SAASqR,KACpB,IAAMpQ,EAAUzC,KAChB,EAAsD0C,IAAMC,UAAS,GAArE,mBAAOmQ,EAAP,KAA4BC,EAA5B,KACA,EAA4BrQ,IAAMC,UAAU,GAA5C,mBAAO+E,EAAP,KAAesL,EAAf,KACA,EAAoCtQ,IAAMC,UAAS,GAAnD,mBAAO2K,EAAP,KAAmBC,EAAnB,KACA,EAA0B7K,IAAMC,SAAgB,QAAhD,mBAAOwE,EAAP,KAAc8L,EAAd,KACA,EAA8BvQ,IAAMC,SAAqB,aAAzD,mBAAOuE,EAAP,KAAgBgM,EAAhB,KACA,EAAwBxQ,IAAMC,SAAS,GAAvC,mBAAOyE,EAAP,KAAa+L,EAAb,KACA,EAAsCzQ,IAAMC,SAAS,IAArD,mBAAOyQ,EAAP,KAAoBC,EAApB,KACA,EAAkC3Q,IAAMC,SAAS,GAAjD,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACA,EAA0B7Q,IAAMC,SAAiB,IAAjD,mBAAO6Q,EAAP,KAAcC,EAAd,KACMnM,EAAQ5D,cAAc5C,OAAO4S,OAAO,GAC1C,EAA4BhR,IAAMC,UAAS,GAA3C,mBAAOyK,EAAP,KAAeC,EAAf,KAEA3K,IAAMkB,WAAU,WACZiE,EAAYZ,WAAWC,EAASC,EAAOC,EAAMgM,EAAa9L,GAAOqE,MAC7D,SAACC,GACG6H,EAAS7H,EAAI+H,OACbJ,EAAa3H,EAAIgI,eAErB,SAAChG,GACGC,MAAMD,EAAMnE,YAGpB1F,QAAQC,IAAI,eACb,CAACmD,EAAOD,EAASE,EAAMgM,EAAa9L,EAAO8F,IAE9C,IAoBMyG,EAAqB,WACvBd,GAAuB,IA2BrBxH,EAAiB,WACnB8B,GAAWD,GACXyG,KAGEC,EAAYV,EAAcW,KAAKC,IAAIZ,EAAaE,EAAYlM,EAAOgM,GAezE,OACI,sBAAKzN,UAAWlD,EAAQ4D,KAAxB,UACI,eAACgI,EAAA,EAAD,CAAO1I,UAAWlD,EAAQqJ,MAA1B,UACI,cAACmI,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CACI,aAAW,eACXvO,UAAWlD,EAAQ+P,MACnB,kBAAgB,aAChBnL,KAAK,QAJT,UAMI,cAACuK,GAAD,CACInP,QAASA,EACT0E,MAAOA,EACPD,QAASA,EACT2K,cAlFE,SAACpL,EAAkC0L,GAEzDc,EADc/L,IAAYiL,GAAsB,QAAVhL,EACrB,OAAS,OAC1B+L,EAAWf,MAiFK,eAACgC,GAAA,EAAD,WACsB,IAAjBX,EAAMY,QACH,cAAC/C,GAAD,UACI,cAACP,GAAD,CAAiBnC,MAAM,SAAS0F,QAAS,EAAzC,qBAGPb,EAAMvE,KAAI,SAAClH,EAAMuM,GACd,OACI,eAACjD,GAAD,WACI,cAACD,GAAA,EAAD,CAAWzC,MAAM,OAAjB,SAAyB5G,EAAKrH,QAC9B,cAAC0Q,GAAA,EAAD,CAAWzC,MAAM,QAAjB,SAA0B5G,EAAKwG,SAC/B,cAAC6C,GAAA,EAAD,CAAWzC,MAAM,QAAjB,SAA0B5G,EAAKwC,YAC/B,cAACuG,GAAD,CAAiBnC,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAOqH,EAAKyM,QAAU,eAAiB,cAAhD,SACI,cAAC7K,GAAA,EAAD,CACIiG,MAAO,CAAE5G,cAAe,QACxB5D,QAAS,kBA7CrC,SAAC2C,EAAYL,GAAoB,IAAD,EAChDK,EAAKyM,SAAWzM,EAAKyM,QACrB3M,EAAYG,WAAWD,EAAML,EAA7B,UAAqCK,EAAK8G,YAA1C,aAAqC,EAAW/J,IAAI6G,MAChD,SAACC,GACGL,IACAxH,QAAQC,IAAI,kBAEhB,SAAC4J,GACGC,MAAMD,EAAMnE,YAqCuCgL,CAAY1M,EAAM4F,OAAO5F,EAAKjD,MAFjD,SAII,cAACkB,EAAA,EAAD,CACIjE,MAAOgG,EAAKyM,QAAU,UAAY,YAClCvO,QAAQ,YACRZ,UAAU,KAHd,SAKK0C,EAAKyM,QAAU,UAAY,mBAK5C,cAAC1D,GAAD,CAAiBnC,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,OAAf,SACI,cAACoF,EAAA,EAAD,CACI,aAAW,OACXT,UAAWC,IACXE,GAAE,gBAAWuC,EAAKjD,IAHtB,SAKI,cAAC,KAAD,UAIZ,cAACgM,GAAD,CAAiBnC,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,OAAf,SACI,cAACoF,EAAA,EAAD,CACIV,QAAS,kBA/G/B,SAACsC,GACvBsL,EAAUtL,GACVqL,GAAuB,GA6GoC2B,CAAkB/G,OAAO5F,EAAKjD,MAC7C,aAAW,OAFf,SAII,cAAC,KAAD,UAIZ,eAACgM,GAAD,CAAiBnC,MAAM,QAAvB,UACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,SAAf,SACI,cAACoF,EAAA,EAAD,CACIV,QAAS,kBAhHtC,SAACsC,GAChBsL,EAAUtL,GACV6F,GAAc,GA8G6CrF,CAAWH,EAAKjD,KAC/B,aAAW,SAFf,SAII,cAAC,KAAD,QAGR,+CAlDR,UAAwBiD,EAAKrH,OAA7B,OAAqCqH,EAAKwG,YAuDjDuF,EAAY,GACT,cAACzC,GAAD,CAAgBzB,MAAO,CAAEtP,OAAQ,GAAKwT,GAAtC,SACI,cAAC1C,GAAA,EAAD,CAAWiD,QAAS,cAMxC,cAACM,GAAA,EAAD,CACIC,mBAAoB,CAAC,GAAI,GAAI,IAC7BvP,UAAU,MACVwP,MAAOvB,EACPF,YAAaA,EACbhM,KAAMA,EACN0N,aA3JS,SAACrO,EAAgBsO,GACtC5B,EAAQ4B,IA2JIC,oBAxJgB,SAACvO,GAC7B4M,EAAe4B,SAASxO,EAAMG,OAAOC,MAAO,KAC5CsM,EAAQ,SAyJJ,cAAC/D,GAAA,EAAD,CACI,kBAAgB,yBAChB,mBAAiB,+BACjBzJ,UAAWlD,EAAQ+J,MACnBvH,KAAM6N,EACN5N,QAAS2O,EACTxE,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,KATjB,SAYI,cAACC,GAAA,EAAD,CAAMC,GAAImD,EAAV,SACI,sBAAKnN,UAAWlD,EAAQgK,WAAxB,UACI,eAACzG,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,sBAEI,cAACJ,EAAA,EAAD,CACI8J,MAAO,CAAE7G,MAAO,SAChBhH,MAAM,UACNqD,QAASyO,EAHb,SAKI,cAAC,KAAD,SAGR,cAACxD,GAAD,CAAU9E,OAAQA,EAAQ7D,OAAQA,WAI9C,eAACmI,GAAA,EAAD,CACI5K,KAAMqI,EACNpI,QAvKc,WACtBqI,GAAc,IAuKN,kBAAgB,qBAChB,mBAAiB,2BAJrB,UAMI,cAACuC,GAAA,EAAD,CAAahL,GAAG,qBAAhB,SAAsC,gBACtC,cAACiL,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAmBlL,GAAG,2BAAtB,gDAIJ,eAACmL,GAAA,EAAD,WACI,cAACtG,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAlKnC,WAClBmI,GAAc,IAiK+DxL,MAAM,UAAvE,gBAGA,cAAC4H,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAjLtC,WACfyC,EAAYK,WAAWR,GAAQiE,MAC3B,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMD,EAAMnE,YAGpB8D,GAAc,IAwK4DxL,MAAM,UAAUmO,WAAS,EAAvF,0B,gEC7bdlQ,GAAYC,YAAW,CACzBoG,KAAM,CACFuC,OAAQ,OACRtI,OAAQ,IACR2I,UAAW,GACXzH,MAAO,IACPN,gBAAiB,0BAErBgU,MAAO,CACH5U,OAAQ,IACR6U,UAAW,WAEfC,WAAY,CACRpM,cAAe,OACfzH,WAAY,OACZQ,MAAO,wBAEXsT,YAAa,CACT/U,OAAQ,MAQD,SAASgV,GAAT,GAAmC,IAAfvN,EAAc,EAAdA,KACzBtF,EAAUzC,KAEhB,OACI,eAACuV,GAAA,EAAD,CAAM5P,UAAWlD,EAAQ4D,KAAzB,UACI,eAACmP,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CACIpQ,UAAU,MACVM,UAAWlD,EAAQyS,MACnBhJ,MAAOnE,EAAKmE,MACZxL,MAAM,0BAEV,eAACgV,GAAA,EAAD,CAAa/P,UAAWlD,EAAQ4S,YAAhC,UACI,cAACrP,EAAA,EAAD,CAAYsI,cAAY,EAACrI,QAAQ,KAAKZ,UAAU,KAAhD,SACK0C,EAAKrH,QAEV,cAACsF,EAAA,EAAD,CAAYC,QAAQ,QAAQlE,MAAM,gBAAgBsD,UAAU,IAA5D,SACK0C,EAAKwG,eAIlB,cAACoH,GAAA,EAAD,UACI,cAAChM,GAAA,EAAD,CACItC,KAAK,QACLtF,MAAM,UACNsD,UAAWC,IACXE,GAAE,gBAAWuC,EAAKjD,IAClBa,UAAWlD,EAAQ2S,WALvB,6BClDhB,IAAMpV,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkG,KAAM,CACFhG,SAAU,GAEdyL,MAAO,CACHpK,QAASxB,EAAMO,QAAQ,GACvBH,OAAQ,IACR6L,SAAU,OACVxL,QAAS,SACTsL,UAAW,SACXlK,MAAO7B,EAAMkB,QAAQwU,KAAKC,WAE9BC,UAAW,CACPlU,WAAY,SACZF,QAASxB,EAAMO,QAAQ,GACvBsV,WAAY7V,EAAMO,QAAQ,GAC1BuV,cAAe9V,EAAMO,QAAQ,IAEjCwV,WAAY,CACRlV,SAAU,QACVmV,MAAOhW,EAAMO,QAAQ,GACrB0V,OAAQjW,EAAMO,QAAQ,SAKnB,SAAS2V,KACpB,IAAM3T,EAAUzC,KAEhB,EAAwB0C,IAAMC,SAAS,GAAvC,mBAAOyE,EAAP,KAAa+L,EAAb,KACA,EAAkCzQ,IAAMC,SAAS,GAAjD,mBAAO0T,EAAP,KAAkBC,EAAlB,KACMhP,EAAQ5D,cAAc5C,OAAO4S,OAAO,GAC1C,EAA0BhR,IAAMC,SAJJ,IAI5B,mBAAO6Q,EAAP,KAAcC,EAAd,KAEA/Q,IAAMkB,WAAU,WACZiE,EAAYL,kBAAkBJ,EAAO,EAAGE,GAAOqE,MAC3C,SAACC,GACG6H,EAAS7H,EAAI+H,OACb2C,EAAavC,KAAKwC,KAAK3K,EAAIgI,WAAa,OAE5C,SAAChG,GACGC,MAAMD,EAAMnE,YAGpB1F,QAAQC,IAAI,UAEb,CAACoD,EAAMiP,IAEV3T,IAAMkB,WAAU,WACZiE,EAAYL,kBAAkBJ,EAAO,EAAGE,GAAOqE,MAC3C,SAACC,GACG6H,EAAS7H,EAAI+H,OACb2C,EAAavC,KAAKwC,KAAK3K,EAAIgI,WAAa,OAE5C,SAAChG,GACGC,MAAMD,EAAMnE,YAGpB0J,EAAQ,GACRpP,QAAQC,IAAI,UAEb,CAACsD,IAMJ,OACI,qCACI,qBAAK3B,UAAWlD,EAAQ4D,KAAxB,SACI,cAAC4H,EAAA,EAAD,CAAM6H,WAAS,EAACnQ,UAAWlD,EAAQqT,UAAnC,SAEQtC,EAAMvE,KAAI,SAAAlH,GAAI,OACV,cAACkG,EAAA,EAAD,CAAqCC,MAAI,EAACC,GAAI,GAAIqI,GAAI,EAAGpI,GAAI,EAA7D,SACI,cAACC,EAAA,EAAD,CAAO1I,UAAWlD,EAAQqJ,MAA1B,SACI,cAACwJ,GAAD,CAAUvN,KAAMA,OAFbA,EAAKrH,MAAQqH,EAAKwG,eAS7C,qBAAK5I,UAAWlD,EAAQwT,WAAxB,SACI,cAACQ,GAAA,EAAD,CACI5B,MAAOwB,EACPpQ,QAAQ,WACRhF,MAAM,UACNmG,KAAMA,EACNT,SAzBK,SAACF,EAAmCI,GACrDsM,EAAQtM,W,cC7DV7G,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACT2V,UAAW,CACPnV,QAAS,OACT+V,SAAU,OACVlV,MAAO,IACP2K,SAAU,OACVvD,OAAO,GAAD,OAAK1I,EAAMO,QAAQ,GAAnB,UAEVkW,SAAU,CACN1N,UAAW/I,EAAMO,QAAQ,GACzBJ,SAAU,EACV0B,MAAO,UACP4K,WAAY,oDAEhBiK,OAAQ,CACJ3K,UAAW,SACXU,WAAY,mDACZ5K,MAAO,WAEX8U,KAAM,CACF5N,UAAW/I,EAAMO,QAAQ,UAe/BqW,GAAsB,CACxB1K,SAAU,GACV2K,SAAU,GACVC,kBAAkB,EAClBvN,QAAS,GACT+B,gBAAgB,GAQdyL,GAAU,SAACC,EAAc5F,GAC3B,OAAQA,EAAO1H,MACX,IAAK,cACD,OAAO,6BACAsN,GADP,IAEI9K,SAAUkF,EAAO6F,UAEzB,IAAK,cACD,OAAO,6BACAD,GADP,IAEIH,SAAUzF,EAAO6F,UAEzB,IAAK,sBACD,OAAO,6BACAD,GADP,IAEIF,iBAAkB1F,EAAO6F,UAEjC,IAAK,cACD,OAAO,6BACAD,GADP,IAEIzN,QAAS6H,EAAO6F,QAChB3L,gBAAiB0L,EAAM1L,mBAKxB,SAAS4L,KACpB,IAAM3U,EAAUzC,KAChB,EAA0BqX,qBAAWJ,GAASH,IAA9C,mBAAOI,EAAP,KAAcI,EAAd,KACM/T,EAAUC,cAEhBI,qBAAU,WACFsT,EAAM9K,SAASmL,QAAUL,EAAMH,SAASQ,OACxCD,EAAS,CACL1N,KAAM,sBACNuN,SAAS,IAGbG,EAAS,CACL1N,KAAM,sBACNuN,SAAS,MAGlB,CAACD,EAAM9K,SAAU8K,EAAMH,WAE1B,IAAMS,EAAc,WAChB,IAAM7X,EAAY,CACduP,MAAOgI,EAAM9K,SACb2K,SAAUG,EAAMH,UAGpB9X,EAAYS,MAAMC,GAAWgM,MACzB,WACIiF,OAAOC,YAAW,WACdtN,EAAQgB,KAAK,WACd,QAEP,SAACqJ,GACG0J,EAAS,CACL1N,KAAM,cACNuN,QAAS,mCAMnBM,EAAiB,SAAChR,GACE,KAAlBA,EAAMiR,SAAkC,KAAhBjR,EAAMkR,OAC9BT,EAAMF,kBAAoBQ,KAoBlC,OACI,qCACI,sBAAM7R,UAAWlD,EAAQqT,UAAW8B,YAAU,EAA9C,SACI,eAACrC,GAAA,EAAD,CAAM5P,UAAWlD,EAAQoU,KAAzB,UACI,cAACgB,GAAA,EAAD,CAAYlS,UAAWlD,EAAQmU,OAAQlW,MAAM,cAC7C,cAACgV,GAAA,EAAD,UACI,gCACI,cAACrM,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,WACH8E,KAAK,QACLN,MAAM,WACNlD,YAAY,WACZwC,OAAO,SACPjC,SA9BxB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,cACNuN,QAAS1Q,EAAMG,OAAOC,SA4BNmR,WAAYP,IAEhB,cAACpO,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,WACH8E,KAAK,WACLN,MAAM,WACNlD,YAAY,WACZwC,OAAO,SACPjC,SAjCxB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,cACNuN,QAAS1Q,EAAMG,OAAOC,SA+BNmR,WAAYP,SAIxB,cAAC9B,GAAA,EAAD,UACI,cAAChM,GAAA,EAAD,CACI1D,QAAQ,YACRoB,KAAK,QACLtF,MAAM,YACN4D,UAAWlD,EAAQkU,SACnBvR,QAASoS,EACTS,SAAUf,EAAMF,iBANpB,0BAYZ,cAACnM,GAAD,CAAqBC,OAAQoM,EAAM1L,eAAgBT,OAAQ,QAASC,iBAAkB,IAAMvB,QAASyN,EAAMzN,a,yBC1LjHzJ,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTkG,KAAM,CACF,QAAS,CACL7E,MAAO,MACPoH,OAAQ,SAGhBuH,YAAa,CACTvH,OAAQ1I,EAAMO,QAAQ,GACtBe,MAAO,QAEX4O,aAAc,CACVpH,cAAe,OACfD,MAAO,cASJ,SAASmP,GAAT,GAAoC,IAAjB3M,EAAgB,EAAhBA,OACxB9I,EAAUzC,KAEhB,EAA4C0C,IAAMC,UAAS,GAA3D,mBAAO6I,EAAP,KAAuB8E,EAAvB,KACA,EAA8C5N,IAAMC,SAAS,IAA7D,mBAAO8I,EAAP,KAAwB8E,EAAxB,KACA,EAA4C7N,IAAMC,SAAS,IAA3D,mBAAO+I,EAAP,KAAuB8E,EAAvB,KACA,EAAwB9N,IAAMC,SAJJ,IAI1B,mBAAOoF,EAAP,KAAakF,EAAb,KAEMtG,EAAW,SAACF,GACdwG,EAAQ,6BAAKlF,GAAN,kBAAatB,EAAMG,OAAOuI,KAAO1I,EAAMG,OAAOC,UAGnD4J,EAAQ,uCAAG,WAAOhK,GAAP,qBAAArH,EAAA,sDACbqH,EAAMoD,iBAEAC,EAAQ,IAAIC,KACZ2G,EAAO5G,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UACxEwG,EAAO7G,EAAMM,WAAa,IAAMN,EAAMO,aAAe,IAAMP,EAAMQ,aACjEN,EAAW0G,EAAO,IAAMC,EAE9B5I,EAAKwC,UAAYP,EACjBjC,EAAKyC,UAAYR,EAEjBnC,EAAYC,QAAQC,GAAM4D,MACtB,SAACC,GACG0E,GAAmB9E,GACnB+E,EAAmB,wBACnBC,EAAkB,WAClBI,OAAOC,YAAW,WACdtF,MACD,QAEP,SAACqC,GACG0C,GAAmB9E,GACnB+E,EAAmB3C,EAAMpO,SAASC,KAAKgK,SACvC+G,EAAkB,YAvBb,2CAAH,sDA4Bd,OACI,uBAAM7K,UAAWlD,EAAQ4D,KAAMoK,SAAUA,EAAzC,UACI,gCACI,cAACrH,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,QACN6F,KAAK,QACLxI,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,SACN6F,KAAK,SACLxI,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,4BACHqK,KAAK,cACL7F,MAAM,cACNC,WAAS,EACTC,KAAM,GACNvD,QAAQ,WACRU,SAAUA,MAGlB,cAACyC,GAAA,EAAD,CAAazD,UAAWlD,EAAQ0N,YAAhC,SACI,cAAC9G,GAAA,EAAD,CACIvE,GAAG,iBACHwE,MAAM,aACN6F,KAAK,QACLxI,SAAUA,MAGlB,uBACA,uBACA,cAACgD,GAAA,EAAD,CACIhE,UAAWlD,EAAQ2N,aACnBnK,QAAQ,WACRlE,MAAM,UACN6H,KAAK,SAJT,oBASJ,cAACiB,GAAD,CAAqBC,OAAQU,EAAgBT,OAAQW,EAAgBV,iBAAkB,IAAMvB,QAASgC,OC1FlH,IAAMqF,GAAkBC,cAAW,SAAC7Q,GAAD,OAC/BC,YAAa,CACT6Q,KAAM,CACF9P,gBAAiB,UACjBa,MAAO7B,EAAMkB,QAAQC,OAAOC,OAEhC2P,KAAM,CACFC,SAAU,GACVC,SAAU,kBAREJ,CAWtBK,MAEIC,GAAiBN,cAAW,SAAC7Q,GAAD,OAC9BC,YAAa,CACTkG,KAAM,CACF,qBAAsB,CAClBnF,gBAAiBhB,EAAMkB,QAAQkQ,OAAOC,YAJ/BR,CAQrBS,MAEIxR,GAAYC,aAAW,SAACC,GAAD,aACzBC,YAAa,CACTqS,MAAO,CACHC,SAAU,KAEd0F,eAAgB,CACZnX,aAAc,GAElBoX,IAAK,CACDxP,OAAQ1I,EAAMO,QAAQ,IAE1B+L,MAAO,CACH7L,QAAS,OACTiB,WAAY,SACZC,eAAgB,UAEpBiK,OAAK,mBACA5L,EAAMU,YAAY8L,KAAK,MAAQ,CAC5BlL,MAAO,QAFV,sBAIM,OAJN,0BAKU,QALV,gCAMgBtB,EAAMkB,QAAQuL,WAAWb,OANzC,uBAOO,qBAPP,6BAQa,GARb,0BASU5L,EAAM0M,QAAQ,IATxB,wBAUQ1M,EAAMO,QAAQ,EAAG,EAAG,IAV5B,cAWD,uBAAwB,CACpBe,MAAO,UAZV,cAcD,6BAA8B,CAC1BwK,UAAW,iCACXa,gBAAiB,mCAhBpB,cAkBD,6BAA8B,CAC1B3L,gBAAiB,iBACjB4L,QAAS,wBApBZ,GAuBLP,aAAc,CACV,UAAW,CACPrL,gBAAiB,iBAMlB,SAASmX,KACpB,IAAM5V,EAAUzC,KAChB,EAAoD0C,IAAMC,UAAS,GAAnE,mBAAO2V,EAAP,KAA2BC,EAA3B,KACA,EAAsD7V,IAAMC,UAAS,GAArE,mBAAOmQ,EAAP,KAA4BC,EAA5B,KACA,EAA4BrQ,IAAMC,UAAU,GAA5C,mBAAO+E,EAAP,KAAesL,EAAf,KACA,EAAoCtQ,IAAMC,UAAS,GAAnD,mBAAO2K,EAAP,KAAmBC,EAAnB,KACA,EAAwB7K,IAAMC,SAAS,GAAvC,mBAAOyE,EAAP,KAAa+L,EAAb,KACA,EAAsCzQ,IAAMC,SAAS,IAArD,mBAAOyQ,EAAP,KAAoBC,EAApB,KACA,EAAkC3Q,IAAMC,SAAS,GAAjD,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACA,EAA0B7Q,IAAMC,SAAiB,IAAjD,mBAAO6Q,EAAP,KAAcC,EAAd,KACMnM,EAAQ5D,cAAc5C,OAAO4S,OAAO,GAC1C,EAA4BhR,IAAMC,UAAS,GAA3C,mBAAOyK,EAAP,KAAeC,EAAf,KAEA3K,IAAMkB,WAAU,WACZiE,EAAYF,iBAAiBP,EAAMgM,EAAa9L,GAAOqE,MACnD,SAACC,GACG6H,EAAS7H,EAAI+H,OACbJ,EAAa3H,EAAIgI,eAErB,SAAChG,GACGC,MAAMD,EAAMnE,YAGpB1F,QAAQC,IAAI,kBACb,CAACoD,EAAMgM,EAAa9L,EAAO8F,IAE9B,IAaMoL,EAAoB,WACtBD,GAAsB,IAQpB1E,EAAqB,WACvBd,GAAuB,IA4BrBxH,EAAiB,WACnB8B,GAAWD,GACXoL,IACA3E,KAGEC,EAAYV,EAAcW,KAAKC,IAAIZ,EAAaE,EAAYlM,EAAOgM,GAEzE,OACI,qCACI,cAACa,GAAA,EAAD,CAAgB5O,UAAWgJ,IAAO1I,UAAWlD,EAAQ0V,eAArD,SACI,cAACjE,GAAA,EAAD,CACI,aAAW,eADf,SAGI,cAACpC,GAAA,EAAD,UACI,cAACN,GAAA,EAAD,UACI,cAAC,GAAD,CAAiB7C,MAAM,OAAvB,SACI,eAAC3I,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,yBAEI,eAACyD,GAAA,EAAD,CACIiG,MAAO,CAAE5G,cAAe,OAAQD,MAAO,SACvC9C,QAAQ,WACRlE,MAAM,UACNqD,QAjEX,WACrBmT,GAAsB,IA4DM,UAMI,cAAC,KAAD,IANJ,2BAexB,eAACtE,GAAA,EAAD,CAAgB5O,UAAWgJ,IAAO1I,UAAWlD,EAAQ0V,eAArD,UACI,eAACjE,GAAA,EAAD,CACIvO,UAAWlD,EAAQ+P,MACnBiG,cAAY,EACZ,aAAW,eACXpR,KAAK,QAJT,UAMI,cAACyK,GAAA,EAAD,UACI,eAACN,GAAA,EAAD,WACI,cAAC,GAAD,oBACA,cAAC,GAAD,CAAiB7C,MAAM,QAAvB,qBACA,cAAC,GAAD,CAAiBA,MAAM,QAAvB,qBACA,eAAC,GAAD,CAAiBA,MAAM,QAAvB,kBAAoC,6CACpC,eAAC,GAAD,CAAiBA,MAAM,QAAvB,kBAAoC,6CACpC,eAAC,GAAD,CAAiBA,MAAM,QAAvB,oBAAsC,kDAG9C,eAACwF,GAAA,EAAD,WACsB,IAAjBX,EAAMY,QACH,cAAC,GAAD,UACI,cAAC,GAAD,CAAiBzF,MAAM,SAAS0F,QAAS,EAAzC,qBAGPb,EAAMvE,KAAI,SAAClH,GAAD,OACP,eAAC,GAAD,WACI,cAAC,GAAD,CAAiB1C,UAAU,KAAKqT,MAAM,MAAtC,SAA6C3Q,EAAKrH,QAClD,cAAC,GAAD,CAAiBiO,MAAM,QAAvB,SAAgC5G,EAAKwG,SACrC,cAAC,GAAD,CAAiBI,MAAM,QAAvB,SACI,cAAC3I,EAAA,EAAD,CACIjE,MAAOgG,EAAKyM,QAAU,UAAY,YAClCvO,QAAQ,YACRZ,UAAU,KAHd,SAKK0C,EAAKyM,QAAU,UAAY,eAGpC,cAAC,GAAD,CAAiB7F,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,OAAf,SACI,cAACoF,EAAA,EAAD,CACI,aAAW,OACXT,UAAWC,IACXE,GAAE,gBAAWuC,EAAKjD,IAHtB,SAKI,cAAC,KAAD,UAIZ,cAAC,GAAD,CAAiB6J,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,OAAf,SACI,cAACoF,EAAA,EAAD,CACIV,QAAS,kBAtHvB,SAACsC,GACvBsL,EAAUtL,GACVqL,GAAuB,GAoH4B2B,CAAkB/G,OAAO5F,EAAKjD,MAC7C,aAAW,OAFf,SAII,cAAC,KAAD,UAIZ,eAAC,GAAD,CAAiB6J,MAAM,QAAvB,UACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAM,SAAf,SACI,cAACoF,EAAA,EAAD,CACIV,QAAS,kBAvH9B,SAACsC,GAChBsL,EAAUtL,GACV6F,GAAc,GAqHqCrF,CAAWH,EAAKjD,KAC/B,aAAW,SAFf,SAII,cAAC,KAAD,QAGR,+CA1CaiD,EAAKjD,OA8C7BgP,EAAY,GACT,cAACtC,GAAA,EAAD,CAAU5B,MAAO,CAAEtP,OAAQ,GAAKwT,GAAhC,SACI,cAAC1C,GAAA,EAAD,CAAWiD,QAAS,YAKpC,cAACM,GAAA,EAAD,CACIC,mBAAoB,CAAC,GAAI,GAAI,IAC7BvP,UAAU,MACVwP,MAAOvB,EACPF,YAAaA,EACbhM,KAAMA,EACN0N,aAxKS,SAACrO,EAAgBsO,GACtC5B,EAAQ4B,IAwKIC,oBArKgB,SAACvO,GAC7B4M,EAAe4B,SAASxO,EAAMG,OAAOC,MAAO,KAC5CsM,EAAQ,SAsKJ,cAAC/D,GAAA,EAAD,CACI,kBAAgB,yBAChB,mBAAiB,+BACjBzJ,UAAWlD,EAAQ+J,MACnBvH,KAAMqT,EACNpT,QAASsT,EACTnJ,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,KATjB,SAYI,cAACC,GAAA,EAAD,CAAMC,GAAI2I,EAAV,SACI,sBAAK3S,UAAWlD,EAAQqJ,MAAxB,UACI,eAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,qBAEI,cAACJ,EAAA,EAAD,CACI8J,MAAO,CAAE7G,MAAO,SAChBhH,MAAM,UACNqD,QAASoT,EAHb,SAKI,cAAC,KAAD,SAGR,cAACN,GAAD,CAAS3M,OAAQA,WAI7B,cAAC6D,GAAA,EAAD,CACI,kBAAgB,yBAChB,mBAAiB,+BACjBzJ,UAAWlD,EAAQ+J,MACnBvH,KAAM6N,EACN5N,QAAS2O,EACTxE,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACXC,QAAS,KATjB,SAYI,cAACC,GAAA,EAAD,CAAMC,GAAImD,EAAV,SACI,sBAAKnN,UAAWlD,EAAQqJ,MAAxB,UACI,eAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAAKC,QAAM,EAA/B,sBAEI,cAACJ,EAAA,EAAD,CACI8J,MAAO,CAAE7G,MAAO,SAChBhH,MAAM,UACNqD,QAASyO,EAHb,SAKI,cAAC,KAAD,SAGR,cAACxD,GAAD,CAAU9E,OAAQA,EAAQ7D,OAAQA,WAI9C,eAACmI,GAAA,EAAD,CACI5K,KAAMqI,EACNpI,QAvMc,WACtBqI,GAAc,IAuMN,kBAAgB,qBAChB,mBAAiB,2BAJrB,UAMI,cAACuC,GAAA,EAAD,CAAahL,GAAG,qBAAhB,SAAsC,gBACtC,cAACiL,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAmBlL,GAAG,2BAAtB,gDAIJ,eAACmL,GAAA,EAAD,WACI,cAACtG,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAlMnC,WAClBmI,GAAc,IAiM+DxL,MAAM,UAAvE,gBAGA,cAAC4H,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAjNtC,WACfyC,EAAYK,WAAWR,GAAQiE,MAC3B,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMD,EAAMnE,YAGpB8D,GAAc,IAwM4DxL,MAAM,UAAUmO,WAAS,EAAvF,0BChXL,SAASyI,KACpB,OACI,mCACI,4CCQZ,IAAM3Y,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACT2V,UAAW,CACPnV,QAAS,OACT+V,SAAU,OACVlV,MAAO,IACP2K,SAAU,OACVvD,OAAO,GAAD,OAAK1I,EAAMO,QAAQ,GAAnB,UAEVkW,SAAU,CACN1N,UAAW/I,EAAMO,QAAQ,GACzBJ,SAAU,EACV0B,MAAO,UACP4K,WAAY,oDAEhBiK,OAAQ,CACJ3K,UAAW,SACXU,WAAY,mDACZ5K,MAAO,WAEX8U,KAAM,CACF5N,UAAW/I,EAAMO,QAAQ,UAkB/BqW,GAAsB,CACxBhI,UAAW,GACXC,SAAU,GACV6J,MAAO,GACP1J,MAAO,GACP6H,SAAU,GACVC,kBAAkB,EAClBvN,QAAS,GACT+B,gBAAgB,GAWdyL,GAAU,SAACC,EAAc5F,GAC3B,OAAQA,EAAO1H,MACX,IAAK,eACD,OAAO,6BACAsN,GADP,IAEIpI,UAAWwC,EAAO6F,UAE1B,IAAK,cACD,OAAO,6BACAD,GADP,IAEInI,SAAUuC,EAAO6F,UAEzB,IAAK,WACD,OAAO,6BACAD,GADP,IAEI0B,MAAOtH,EAAO6F,UAEtB,IAAK,WACD,OAAO,6BACAD,GADP,IAEIhI,MAAOoC,EAAO6F,UAEtB,IAAK,cACD,OAAO,6BACAD,GADP,IAEIH,SAAUzF,EAAO6F,UAEzB,IAAK,sBACD,OAAO,6BACAD,GADP,IAEIF,iBAAkB1F,EAAO6F,UAEjC,IAAK,iBACD,OAAO,6BACAD,GADP,IAEIzN,QAAS6H,EAAO6F,QAChB3L,gBAAiB0L,EAAM1L,mBAKxB,SAASqN,KACpB,IAAMpW,EAAUzC,KAChB,EAA0BqX,qBAAWJ,GAASH,IAA9C,mBAAOI,EAAP,KAAcI,EAAd,KACM/T,EAAUC,cAEhBI,qBAAU,WACFsT,EAAMhI,MAAMqI,QAAUL,EAAMH,SAASQ,QAAUL,EAAMpI,UAAUyI,QAAUL,EAAMnI,SAASwI,OACxFD,EAAS,CACL1N,KAAM,sBACNuN,SAAS,IAGbG,EAAS,CACL1N,KAAM,sBACNuN,SAAS,MAGlB,CAACD,EAAMhI,MAAOgI,EAAMH,SAAUG,EAAMpI,UAAWoI,EAAMnI,WAExD,IAAM+J,EAAiB,WACnB,IAAM3Z,EAAe,CACjB2P,UAAWoI,EAAMpI,UACjBC,SAAUmI,EAAMnI,SAChBG,MAAOgI,EAAMhI,MACb6H,SAAUG,EAAMH,UAGpB9X,EAAYC,SAASC,GAAcwM,MAC/B,WACIiF,OAAOC,YAAW,WACdtN,EAAQgB,KAAK,YACd,QAEP,SAACqJ,GACG0J,EAAS,CACL1N,KAAM,iBACNuN,QAASvJ,EAAMpO,SAASC,KAAKgK,cAMvCgO,EAAiB,SAAChR,GACE,KAAlBA,EAAMiR,SAAkC,KAAhBjR,EAAMkR,OAC9BT,EAAMF,kBAAoB8B,KA4ClC,OACI,qCACI,sBAAMnT,UAAWlD,EAAQqT,UAAW8B,YAAU,EAA9C,SACI,eAACrC,GAAA,EAAD,CAAM5P,UAAWlD,EAAQoU,KAAzB,UACI,cAACgB,GAAA,EAAD,CAAYlS,UAAWlD,EAAQmU,OAAQlW,MAAM,aAC7C,cAACgV,GAAA,EAAD,UACI,gCACI,cAACrM,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,YACH8E,KAAK,OACLN,MAAM,aACNlD,YAAY,aACZwC,OAAO,SACPjC,SAtDxB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,eACNuN,QAAS1Q,EAAMG,OAAOC,SAoDNmR,WAAYP,IAEhB,cAACpO,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,WACH8E,KAAK,OACLN,MAAM,YACNlD,YAAY,YACZwC,OAAO,SACPjC,SAjDxB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,cACNuN,QAAS1Q,EAAMG,OAAOC,SA+CNmR,WAAYP,IAEhB,cAACpO,GAAA,EAAD,CACI0O,WAAS,EACTjT,GAAG,QACH8E,KAAK,OACLN,MAAM,QACNlD,YAAY,aACZwC,OAAO,SACPjC,SAnExB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,WACNuN,QAAS1Q,EAAMG,OAAOC,SAiENmR,WAAYP,IAEhB,cAACpO,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,QACH8E,KAAK,QACLN,MAAM,QACNlD,YAAY,QACZwC,OAAO,SACPjC,SA9DxB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,WACNuN,QAAS1Q,EAAMG,OAAOC,SA4DNmR,WAAYP,IAEhB,cAACpO,GAAA,EAAD,CACIyO,UAAQ,EACRC,WAAS,EACTjT,GAAG,WACH8E,KAAK,WACLN,MAAM,WACNlD,YAAY,WACZwC,OAAO,SACPjC,SAjExB,SAACF,GACG6Q,EAAS,CACL1N,KAAM,cACNuN,QAAS1Q,EAAMG,OAAOC,SA+DNmR,WAAYP,SAIxB,cAAC9B,GAAA,EAAD,UACI,cAAChM,GAAA,EAAD,CACI1D,QAAQ,YACRoB,KAAK,QACLtF,MAAM,YACN4D,UAAWlD,EAAQkU,SACnBvR,QAAS0T,EACTb,SAAUf,EAAMF,iBANpB,6BAYZ,cAACnM,GAAD,CAAqBC,OAAQoM,EAAM1L,eAAgBT,OAAQ,QAASC,iBAAkB,IAAMvB,QAASyN,EAAMzN,aCjRvH,IAAM1K,GAAU,6DAEVga,GAAQ,uCAAG,4BAAA3Z,EAAA,sEACQC,IAAMkI,IAAIxI,GAAS,CAAEC,QAAS+H,MADtC,cACTvH,EADS,yBAERA,EAASC,MAFD,2CAAH,qDAKRuZ,GAAU,uCAAG,WAAOnK,EAAYjH,GAAnB,eAAAxI,EAAA,sEACMC,IAAM4I,IAAIlJ,GAAO,WAAO6I,GAAU/I,KAAKU,UAAUsP,GAAO,CAAE7P,QAAS+H,MADzE,cACXvH,EADW,yBAEVA,EAASC,MAFC,2CAAH,wDAgBDwZ,GANK,CAClBC,YANe,uCAAG,WAAOtR,EAAgBuR,GAAvB,eAAA/Z,EAAA,sEACKC,IAAM4I,IAAIlJ,GAAO,WAAO6I,EAAP,kBAAuBuR,GAAUta,KAAKU,UAAL,MAAsB,CAAEP,QAAS+H,MADxF,cACZvH,EADY,yBAEXA,EAASC,MAFE,2CAAH,wDAOfuZ,cACAD,aCJIjI,GAAkBC,cAAW,SAAC7Q,GAAD,OAC/BC,YAAa,CACT6Q,KAAM,CACF9P,gBAAiB,UACjBa,MAAO7B,EAAMkB,QAAQC,OAAOC,OAEhC2P,KAAM,CACFC,SAAU,GACVC,SAAU,kBAREJ,CAWtBK,MAEIC,GAAiBN,cAAW,SAAC7Q,GAAD,OAC9BC,YAAa,CACTkG,KAAM,CACF,qBAAsB,CAClBnF,gBAAiBhB,EAAMkB,QAAQkQ,OAAOC,YAJ/BR,CAQrBS,MAEIxR,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTqS,MAAO,CACHC,SAAU,KAEdlG,aAAc,CACV,UAAW,CACPrL,gBAAiB,iBAMlB,SAASkY,KACpB,IAAM3W,EAAUzC,KAChB,EAA0B0C,IAAMC,SAAiB,IAAjD,mBAAO0W,EAAP,KAAcC,EAAd,KACA,EAA4B5W,IAAMC,UAAS,GAA3C,mBAAOyK,EAAP,KAAeC,EAAf,KACA,EAAoC3K,IAAMC,UAAS,GAAnD,mBAAO2K,EAAP,KAAmBC,EAAnB,KACA,EAA4B7K,IAAMC,SAAS,GAA3C,mBAAOiF,EAAP,KAAe2R,EAAf,KACA,EAA4B7W,IAAMC,SAAS,GAA3C,mBAAOwW,EAAP,KAAeK,EAAf,KAEA9W,IAAMkB,WAAU,WACZqV,GAAYF,WAAWpN,MACnB,SAACC,GACG0N,EAAS1N,MAEb,SAACgC,GACGC,MAAMD,EAAMnE,YAIpB1F,QAAQC,IAAI,oBACb,CAACoJ,IAEJ,IAAM7B,EAAS,WACX8B,GAAWD,IAyCf,OACI,qCACI,cAAC6G,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAOvO,UAAWlD,EAAQ+P,MAAO,aAAW,mBAA5C,UACI,cAACV,GAAA,EAAD,UACI,eAACN,GAAA,EAAD,WACI,cAAC,GAAD,mBACA,eAAC,GAAD,CAAiB7C,MAAM,QAAvB,mBAAqC,6CACrC,eAAC,GAAD,CAAiBA,MAAM,QAAvB,oBAAsC,6CACtC,eAAC,GAAD,CAAiBA,MAAM,QAAvB,kBAAoC,6CACpC,eAAC,GAAD,CAAiBA,MAAM,QAAvB,sBAAwC,kDAGhD,eAACwF,GAAA,EAAD,WACsB,IAAjBkF,EAAMjF,QACH,cAAC,GAAD,UACI,cAAC,GAAD,CAAiBzF,MAAM,SAAS0F,QAAS,EAAzC,qBAGPgF,EAAMpK,KAAI,SAACJ,GAAD,iBACPpQ,IAAiBmJ,SAAWiH,EAAK/J,GAC7B,eAAC,GAAD,WACI,cAAC,GAAD,CAAiBO,UAAU,KAAKqT,MAAM,MAAtC,mBAAgD7J,EAAKC,UAArD,YAAkED,EAAKE,YACvE,cAAC,GAAD,CAAiBJ,MAAM,QAAvB,SAAgCE,EAAKK,QACrC,cAAC,GAAD,CAAiBP,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAOmO,EAAK2F,QAAU,eAAiB,cAAhD,SACI,cAAC7K,GAAA,EAAD,CACIiG,MAAO,CAAE5G,cAAe,QACxB5D,QAAS,kBAxCjC,SAACyJ,EAAYjH,GAC7BiH,EAAK2F,SAAW3F,EAAK2F,QACrByE,GAAYD,WAAWnK,EAAMjH,GAAQ+D,MACjC,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMhP,KAAKU,UAAUqO,OAiC0B6L,CAAY5K,EAAMlB,OAAOkB,EAAK/J,MAFjD,SAII,cAACkB,EAAA,EAAD,CACIjE,MAAO8M,EAAK2F,QAAU,UAAY,YAClCvO,QAAQ,YACRZ,UAAU,KAHd,SAKKwJ,EAAK2F,QAAU,UAAY,mBAK5C,cAAC,GAAD,CAAiB7F,MAAM,QAAvB,mBAAgCE,EAAKhL,YAArC,aAAgC,EAAWsL,OAC3C,cAAC,GAAD,CAAiBR,MAAM,QAAvB,SACI,cAAC4F,GAAA,EAAD,CAAS7T,MAAyB,KAAlB,UAAAmO,EAAKhL,YAAL,eAAWiB,IAAW,iBAAmB,gBAAzD,SACI,cAAC6E,GAAA,EAAD,CACIvE,QAAS,wBAlFrC,SAACwC,EAAgBuR,GAC7BI,EAAU3R,GACV4R,EAAqB,IAAXL,EAAe,EAAI,GAC7B5L,GAAc,GA+EyCmM,CAAQ/L,OAAOkB,EAAK/J,IAAK6I,OAAM,UAACkB,EAAKhL,YAAN,aAAC,EAAWiB,MAC1D,aAAW,WACXuC,KAAK,QAHT,SAKuB,KAAlB,UAAAwH,EAAKhL,YAAL,eAAWiB,IAAW,iBAAmB,wBA3BrC+J,EAAK/J,IAgC1B,gBAKpB,eAAC+K,GAAA,EAAD,CACI5K,KAAMqI,EACNpI,QA5Fc,WACtBqI,GAAc,IA4FN,kBAAgB,qBAChB,mBAAiB,2BAJrB,UAMI,cAACuC,GAAA,EAAD,CAAahL,GAAG,qBAAhB,sBACA,cAACiL,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAmBlL,GAAG,2BAAtB,wCAIJ,eAACmL,GAAA,EAAD,WACI,cAACtG,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAvFnC,WAClBmI,GAAc,IAsF+DxL,MAAM,UAAvE,gBAGA,cAAC4H,GAAA,EAAD,CAAQhE,UAAWlD,EAAQ8J,aAAcnH,QAtGtC,WACf6T,GAAYC,YAAYtR,EAAQuR,GAAQxN,MACpC,SAACC,GACGL,OAEJ,SAACqC,GACGC,MAAMhP,KAAKU,UAAUqO,OAG7BL,GAAc,IA6F4DxL,MAAM,UAAUmO,WAAS,EAAvF,0BCrLL,SAASyJ,KACtB,OACE,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOlW,KAAK,IAAImW,OAAK,EAArB,SACE,cAAC,IAAD,CAAUpU,GAAG,YAEf,cAAC,IAAD,CAAO/B,KAAK,QAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,YAAZ,SACE,cAACoV,GAAD,MAEF,cAAC,IAAD,CAAOpV,KAAK,SAAZ,SACE,cAAC2T,GAAD,MAEF,cAAC,IAAD,CAAOwC,OAAK,EAACnW,KAAK,cAAlB,SACE,cAACoP,GAAD,MAEF,cAAC,IAAD,CAAOpP,KAAK,iBAAZ,SACE,cAAC4U,GAAD,MAEF,cAAC,IAAD,CAAO5U,KAAK,mBAAZ,SACE,cAAC2V,GAAD,MAEF,cAAC,IAAD,CAAOQ,OAAK,EAACnW,KAAK,gBAAlB,SACE,cAACsJ,GAAD,MAEF,cAAC,IAAD,CAAOtJ,KAAK,WAAZ,SACE,2CAEF,cAAC,IAAD,UACE,cAACkV,GAAD,WCpCV,IAAM3Y,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXkG,KAAM,CACJhG,SAAU,GAEZuW,OAAQ,CACN3K,UAAW,SACXjL,aAAc,GAEhB6Y,KAAM,CACJ5N,UAAW,SACX6N,UAAW,OACX3N,SAAU,OACVnL,aAAc,QAKL,SAAS+Y,KACtB,IAAMtX,EAAUzC,KAEhB,OACE,qBAAK2F,UAAWlD,EAAQ4D,KAAxB,SACE,eAAC4H,EAAA,EAAD,CAAM6H,WAAS,EAACrV,QAAS,EAAzB,UACE,cAACwN,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,EAAA,EAAD,CAAO1I,UAAWlD,EAAQmU,OAA1B,SACE,cAACpU,EAAD,QAGJ,cAACyL,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,SACE,cAACE,EAAA,EAAD,CAAO1I,UAAWlD,EAAQoX,KAA1B,SACE,cAACF,GAAD,aCpCZ,IAYeK,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBvO,MAAK,YAAkD,IAA/CwO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAD,UACE,cAACV,GAAD,MAEFW,SAASC,eAAe,SAE1BX,O","file":"static/js/main.750d4ba5.chunk.js","sourcesContent":["export default function getCurrentUser() {\r\n    const userFromLocalStorage = localStorage.getItem('user');\r\n    const currentUser: UserInfo = userFromLocalStorage ? JSON.parse(userFromLocalStorage) : null;\r\n    return currentUser;\r\n}","import axios from \"axios\";\r\n\r\nconst API_URL = \"https://nghianguyen-bookmanagement.herokuapp.com/api/auth/\";\r\n\r\nconst headers = {\r\n  'Content-Type': 'application/json',\r\n}\r\n\r\nconst register = async (userRegister: User) => {\r\n  const response = await axios.post(API_URL + \"register\", JSON.stringify(userRegister), { headers: headers });\r\n  return response.data;\r\n};\r\n\r\nconst login = async (userLogin: UserLogin) => {\r\n  const response = await axios.post(API_URL + \"login\", JSON.stringify(userLogin), { headers: headers });\r\n  if (response.data.token) {\r\n    localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n  }\r\n\r\n  return response.data;\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst authService = {\r\n  register,\r\n  login,\r\n  logout\r\n}\r\n\r\nexport default authService;","import React from 'react';\r\nimport { alpha, makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport getCurrentUser from '../services/user-info';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { NavLink, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport authService from '../services/auth.service';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n      height: '8vh',\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n    highlighted: {\r\n      color: '#F2B97E'\r\n    },\r\n  }),\r\n);\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const [isUser, setIsUser] = React.useState(false);\r\n  const [isAdmin, setIsAdmin] = React.useState(false);\r\n  const [keyword, setKeyword] = React.useState('');\r\n  const currentUser = getCurrentUser();\r\n  const history = useHistory();\r\n  const path = useLocation().pathname;\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      setIsAdmin(currentUser.role.includes(\"ROLE_ADMIN\"));\r\n      setIsUser(currentUser.role.includes(\"ROLE_USER\"));\r\n    } else {\r\n      setIsAdmin(false);\r\n      setIsUser(false);\r\n    }\r\n    console.log(\"header\");\r\n  }, [currentUser]);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const logOut = () => {\r\n    handleMenuClose();\r\n    authService.logout();\r\n    history.push('/home');\r\n  }\r\n\r\n  const handleKeyDown = (event: any) => {\r\n    if (event.key === 'Enter') {\r\n      history.push(path + \"?keyword=\" + keyword);\r\n    }\r\n  }\r\n\r\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setKeyword(event.target.value);\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem\r\n        color=\"inherit\"\r\n        onClick={handleMenuClose}\r\n        component={NavLink}\r\n        activeClassName={classes.highlighted}\r\n        to=\"/profile\"\r\n      >\r\n        Profile\r\n      </MenuItem>\r\n      <MenuItem\r\n        color=\"inherit\"\r\n        onClick={logOut}\r\n      >\r\n        Logout\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      {(isUser || isAdmin) &&\r\n        <MenuItem\r\n          color=\"inherit\"\r\n          onClick={handleMobileMenuClose}\r\n          component={NavLink}\r\n          activeClassName={classes.highlighted}\r\n          to=\"/my-books-list\"\r\n        >\r\n          <p>My Books List</p>\r\n        </MenuItem>\r\n      }\r\n      {isAdmin &&\r\n        <div>\r\n          <MenuItem\r\n            color=\"inherit\"\r\n            onClick={handleMobileMenuClose}\r\n            component={NavLink}\r\n            activeClassName={classes.highlighted}\r\n            to=\"/books-list\"\r\n          >\r\n            <p>Books List</p>\r\n          </MenuItem>\r\n          <MenuItem\r\n            color=\"inherit\"\r\n            onClick={handleMobileMenuClose}\r\n            component={NavLink}\r\n            activeClassName={classes.highlighted}\r\n            to=\"/user-management\"\r\n          >\r\n            <p>User Management</p>\r\n          </MenuItem>\r\n        </div>\r\n      }\r\n      {currentUser\r\n        ? (\r\n          <div>\r\n            <MenuItem\r\n              color=\"inherit\"\r\n              onClick={handleMobileMenuClose}\r\n              component={NavLink}\r\n              activeClassName={classes.highlighted}\r\n              to=\"/profile\"\r\n            >\r\n              <p>Profile</p>\r\n            </MenuItem>\r\n            <MenuItem\r\n              color=\"inherit\"\r\n              onClick={logOut}\r\n            >\r\n              <p>Logout</p>\r\n            </MenuItem>\r\n          </div>\r\n        )\r\n        : (\r\n          <div>\r\n            <MenuItem\r\n              color=\"inherit\"\r\n              onClick={handleMobileMenuClose}\r\n              component={NavLink}\r\n              activeClassName={classes.highlighted}\r\n              to=\"/login\"\r\n            >\r\n              <p>Login</p>\r\n            </MenuItem>\r\n            <MenuItem\r\n              color=\"inherit\"\r\n              onClick={handleMobileMenuClose}\r\n              component={NavLink}\r\n              activeClassName={classes.highlighted}\r\n              to=\"/register\"\r\n            >\r\n              <p>Register</p>\r\n            </MenuItem>\r\n          </div>\r\n        )\r\n      }\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            aria-label=\"open drawer\"\r\n            component={NavLink}\r\n            activeClassName={classes.highlighted}\r\n            to=\"/home\"\r\n          >\r\n            <HomeIcon />\r\n          </IconButton>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            Book Management\r\n          </Typography>\r\n          <Route path={['/home', '/my-books-list', '/books-list', '/user-management']}>\r\n            <div className={classes.search}>\r\n              <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n              </div>\r\n              <InputBase\r\n                placeholder=\"Search…\"\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                onKeyDown={handleKeyDown}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n          </Route>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            {(isUser || isAdmin) &&\r\n              <MenuItem\r\n                color=\"inherit\"\r\n                component={NavLink}\r\n                activeClassName={classes.highlighted}\r\n                to=\"/my-books-list\"\r\n              >\r\n                <p>My Books List</p>\r\n              </MenuItem>\r\n            }\r\n            {isAdmin &&\r\n              <>\r\n                <MenuItem\r\n                  color=\"inherit\"\r\n                  component={NavLink}\r\n                  activeClassName={classes.highlighted}\r\n                  to=\"/books-list\"\r\n                >\r\n                  <p>Books List</p>\r\n                </MenuItem>\r\n                <MenuItem\r\n                  color=\"inherit\"\r\n                  component={NavLink}\r\n                  activeClassName={classes.highlighted}\r\n                  to=\"/user-management\"\r\n                >\r\n                  <p>User Management</p>\r\n                </MenuItem>\r\n              </>\r\n            }\r\n            {currentUser\r\n              ? (\r\n                <div>\r\n                  <IconButton\r\n                    edge=\"end\"\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls={menuId}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleProfileMenuOpen}\r\n                    color=\"inherit\"\r\n                  >\r\n                    <AccountCircle />\r\n                  </IconButton>\r\n                </div>\r\n              )\r\n              : (\r\n                <>\r\n                  <MenuItem\r\n                    color=\"inherit\"\r\n                    component={NavLink}\r\n                    activeClassName={classes.highlighted}\r\n                    to=\"/login\"\r\n                  >\r\n                    <p>Login</p>\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    color=\"inherit\"\r\n                    component={NavLink}\r\n                    activeClassName={classes.highlighted}\r\n                    to=\"/register\"\r\n                  >\r\n                    <p>Register</p>\r\n                  </MenuItem>\r\n                </>\r\n              )\r\n            }\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n}\r\n","import currentUser from \"./user-info\";\r\n\r\nexport default function authHeader() {\r\n  if (currentUser() && currentUser().token) {\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${currentUser().token}`\r\n    };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\nimport currentUser from \"./user-info\";\r\n\r\nconst API_URL = \"https://nghianguyen-bookmanagement.herokuapp.com/api/books\";\r\n\r\nconst getAllBook = async (orderBy: string, order: string, page: number, size: number, param: string) => {\r\n    const response = await axios.get(API_URL + `?orderBy=${orderBy}&order=${order}&page=${page}&size=${size}&${param}`);\r\n    return response.data;\r\n};\r\n\r\nconst getAllBookEnabled = async (page: number, param: string) => {\r\n    const response = await axios.get(API_URL + `/enabled?&page=${page}&size=8&${param}`);\r\n    return response.data;\r\n};\r\n\r\nconst getBookById = async (bookId: number) => {\r\n    const response = await axios.get(API_URL + `/${bookId}`);\r\n    return response.data;\r\n};\r\n\r\nconst getBooksByUserId = async (page: number, size: number, param: string) => {\r\n    const response = await axios.get(API_URL + `/user/${currentUser().userId}?page=${page}&size=${size}&${param}`);\r\n    return response.data;\r\n};\r\n\r\n// const getBooksByCategoryId = async (categoryId: number) => {\r\n//   const response = await axios.get(API_URL + `/category/${categoryId}`);\r\n//   return response.data;\r\n// };\r\n\r\n// const getBooksByKeyword = async (keyword: string) => {\r\n//   const response = await axios.get(API_URL + `/search?keyword=${keyword}`);\r\n//   return response.data;\r\n// }\r\n\r\nconst addBook = async (book: Book) => {\r\n    const response = await axios.post(API_URL + `/${currentUser().userId}`, JSON.stringify(book), { headers: authHeader() });\r\n    return response.data;\r\n};\r\n\r\nconst updateBook = async (book: Book, bookId: number, userId: number | undefined) => {\r\n    const response = await axios.put(API_URL + `/${bookId}/${userId}`, JSON.stringify(book), { headers: authHeader() });\r\n    return response.data;\r\n};\r\n\r\nconst deleteBook = async (bookId: number) => {\r\n    const response = await axios.delete(API_URL + `/${bookId}`, { headers: authHeader() });\r\n    return response.headers;\r\n};\r\n\r\nconst bookService = {\r\n    getAllBook,\r\n    getAllBookEnabled,\r\n    // getBooksByKeyword,\r\n    addBook,\r\n    getBooksByUserId,\r\n    updateBook,\r\n    deleteBook,\r\n    // getBooksByCategoryId,\r\n    getBookById\r\n};\r\n\r\nexport default bookService;\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\nimport currentUser from \"./user-info\";\r\n\r\nconst API_URL = \"https://nghianguyen-bookmanagement.herokuapp.com/api/comments\";\r\n\r\n// const getAllBook = async (orderBy: string, order: string, page: number, size: number, param: string) => {\r\n//     const response = await axios.get(API_URL + `?orderBy=${orderBy}&order=${order}&page=${page}&size=${size}&${param}`);\r\n//     return response.data;\r\n// };\r\n\r\n// const getAllBookEnabled = async (page: number, param: string) => {\r\n//     const response = await axios.get(API_URL + `/enabled-book?&page=${page}&size=8&${param}`);\r\n//     return response.data;\r\n// };\r\n\r\nconst getCommentById = async (commentId: number) => {\r\n    const response = await axios.get(API_URL + `/${commentId}`);\r\n    return response.data;\r\n};\r\n\r\nconst getCommentByBookId = async (bookId: number) => {\r\n    const response = await axios.get(API_URL + `/book/${bookId}`);\r\n    return response.data;\r\n};\r\n\r\n// const getBooksByCategoryId = async (categoryId: number) => {\r\n//   const response = await axios.get(API_URL + `/category/${categoryId}`);\r\n//   return response.data;\r\n// };\r\n\r\n// const getBooksByKeyword = async (keyword: string) => {\r\n//   const response = await axios.get(API_URL + `/search?keyword=${keyword}`);\r\n//   return response.data;\r\n// }\r\n\r\nconst addComment = async (comment: Comment, bookId: number) => {\r\n    const response = await axios.post(API_URL + `/${currentUser().userId}/${bookId}`, JSON.stringify(comment), { headers: authHeader() });\r\n    return response;\r\n};\r\n\r\nconst updateComment = async (comment: Comment, commentId: number, userId: number | undefined) => {\r\n    const response = await axios.put(API_URL + `/${commentId}/${userId}`, JSON.stringify(comment), { headers: authHeader() });\r\n    return response.data;\r\n};\r\n\r\nconst deleteComment = async (commentId: number) => {\r\n    const response = await axios.delete(API_URL + `/${commentId}`, { headers: authHeader() });\r\n    return response.headers;\r\n};\r\n\r\nconst commentService = {\r\n    getCommentByBookId,\r\n    // getAllBookEnabled,\r\n    // getBooksByKeyword,\r\n    addComment,\r\n    // getBooksByUserId,\r\n    updateComment,\r\n    deleteComment,\r\n    // getBooksByCategoryId,\r\n    getCommentById\r\n};\r\n\r\nexport default commentService;","import { Button, createStyles, makeStyles, Theme } from '@material-ui/core';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport React from 'react';\r\n\r\ninterface Props {\r\n    addComment: AddComment;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '& > *': {\r\n                width: '100%',\r\n                margin: 'auto',\r\n            },\r\n            width: '88%',\r\n        },\r\n        formControlTextField: {\r\n            width: '100%',\r\n        },\r\n        formControlBtnSubmit: {\r\n            float: 'right',\r\n            width: 200,\r\n            textTransform: 'none',\r\n            marginTop: theme.spacing(1),\r\n            marginLeft: theme.spacing(2),\r\n        }\r\n    }),\r\n);\r\n\r\nexport default function AddComment({ addComment }: Props) {\r\n    const classes = useStyles();\r\n    const [comment, setComment] = React.useState<Comment>({} as Comment);\r\n\r\n    const submit = (event: any) => {\r\n        event.preventDefault();\r\n\r\n        const today = new Date();\r\n        const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        const dateTime = date + ' ' + time;\r\n\r\n        comment.createdAt = dateTime;\r\n        comment.updatedAt = dateTime;\r\n\r\n        addComment(comment);\r\n\r\n        setComment({ ...comment, message: '', createdAt: '', updatedAt: '' });\r\n    }\r\n\r\n    const onChangeTagName = (event: any) => {\r\n        setComment({ ...comment, message: event.target.value });\r\n    }\r\n    return (\r\n        <form className={classes.root}>\r\n            <FormControl className={classes.formControlTextField}>\r\n                <TextField\r\n                    id=\"multiline\"\r\n                    label=\"Add comment\"\r\n                    multiline\r\n                    rows={4}\r\n                    variant=\"outlined\"\r\n                    value={comment.message}\r\n                    placeholder=\"Add comment\"\r\n                    onChange={(event) => onChangeTagName(event)}\r\n                />\r\n\r\n            </FormControl>\r\n            <FormControl className={classes.formControlBtnSubmit}>\r\n                <Button\r\n                    type=\"submit\"\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    onClick={(event) => submit(event)}\r\n                >\r\n                    Add Comment\r\n                </Button>\r\n            </FormControl>\r\n        </form>\r\n    );\r\n};","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props: AlertProps) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default function CustomizedSnackbars({ active, status, autoHideDuration, message }: PropSnackBar) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    React.useEffect(\r\n        () => {\r\n            if (message !== '') {\r\n                setOpen(true);\r\n            }\r\n        },\r\n        [active, message]\r\n    );\r\n\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n            open={open}\r\n            autoHideDuration={autoHideDuration}\r\n            onClose={handleClose}\r\n        >\r\n            <Alert onClose={handleClose} severity={status}>\r\n                {message}\r\n            </Alert>\r\n        </Snackbar>\r\n    );\r\n}\r\n","import { Button, createStyles, makeStyles, Theme } from '@material-ui/core';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport React from 'react';\r\nimport commentService from '../../services/comment.service';\r\nimport CustomizedSnackbars from './CustomizedSnackbars';\r\n\r\ninterface Props {\r\n    commentId: number,\r\n    reload: Reload\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '& > *': {\r\n                width: '100%',\r\n                margin: 'auto',\r\n            },\r\n            width: '88%',\r\n        },\r\n        formControlTextField: {\r\n            width: '100%',\r\n        },\r\n        formControlBtnSubmit: {\r\n            float: 'right',\r\n            width: 200,\r\n            textTransform: 'none',\r\n            marginTop: theme.spacing(1),\r\n            marginLeft: theme.spacing(2),\r\n        }\r\n    }),\r\n);\r\n\r\nexport default function EditComment({ reload, commentId }: Props) {\r\n    const classes = useStyles();\r\n    const [comment, setComment] = React.useState<Comment>({} as Comment);\r\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\r\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\r\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        commentService.getCommentById(commentId).then(\r\n            (res) => {\r\n                setComment(res);\r\n            },\r\n            () => {\r\n\r\n            }\r\n        )\r\n    }, []);\r\n\r\n    const submit = (event: any) => {\r\n        event.preventDefault();\r\n\r\n        const today = new Date();\r\n        const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        const dateTime = date + ' ' + time;\r\n\r\n        comment.updatedAt = dateTime;\r\n\r\n        // commentService.updateBook(book, bookId, book.user?.id).then(\r\n        //     () => {\r\n        //         setActiveSnackBar(!activeSnackBar);\r\n        //         setSnackBarMessage('Edit book Success');\r\n        //         setSnackBarStatus('success');\r\n        //         window.setTimeout(function () {\r\n        //             reload();\r\n        //         }, 1000);\r\n        //     },\r\n        //     (error) => {\r\n        //         setActiveSnackBar(!activeSnackBar);\r\n        //         setSnackBarMessage(error.response.data.message);\r\n        //         setSnackBarStatus('error');\r\n        //     }\r\n        // );\r\n    }\r\n\r\n    const onChangeTagName = (event: any) => {\r\n        setComment({ ...comment, message: event.target.value });\r\n    }\r\n    return (\r\n        <form className={classes.root}>\r\n            <FormControl className={classes.formControlTextField}>\r\n                <TextField\r\n                    focused\r\n                    id=\"multiline\"\r\n                    label=\"Edit comment\"\r\n                    multiline\r\n                    rows={4}\r\n                    variant=\"outlined\"\r\n                    value={comment.message}\r\n                    placeholder=\"Edit comment\"\r\n                    onChange={(event) => onChangeTagName(event)}\r\n                />\r\n\r\n            </FormControl>\r\n            <FormControl className={classes.formControlBtnSubmit}>\r\n                <Button\r\n                    type=\"submit\"\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    onClick={(event) => submit(event)}\r\n                >\r\n                    Update\r\n                </Button>\r\n            </FormControl>\r\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\r\n        </form>\r\n    );\r\n};","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Divider, IconButton } from \"@material-ui/core\";\r\nimport bookService from \"../../services/book.service\";\r\nimport commentService from \"../../services/comment.service\";\r\nimport AddComment from \"../common/AddComment\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport getCurrentUser from \"../../services/user-info\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport EditComment from \"../common/EditComment\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1,\r\n            width: '100%',\r\n            display: 'block',\r\n        },\r\n        paper: {\r\n            flexGrow: 1,\r\n            width: '80%',\r\n            margin: 'auto',\r\n            padding: theme.spacing(3),\r\n            backgroundColor: 'transparent',\r\n            border: 'none',\r\n            boxShadow: 'none',\r\n            textAlign: 'center'\r\n        },\r\n        image: {\r\n            maxWidth: '100%'\r\n        },\r\n        username: {\r\n            display: 'flex',\r\n            paddingRight: 20,\r\n            justifyContent: 'flex-end'\r\n        }\r\n        ,\r\n        addComment: {\r\n            margin: theme.spacing(1),\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            width: \"100%\",\r\n        },\r\n        listComment: {\r\n            display: 'block',\r\n            textAlign: 'left',\r\n            marginLeft: 4,\r\n            borderRadius: 4,\r\n            padding: 3,\r\n            marginTop: 4,\r\n        },\r\n        buttonDialog: {\r\n            '&:focus': {\r\n                backgroundColor: '#b2b8e1',\r\n            },\r\n        },\r\n        modal: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            maxWidth: '100%',\r\n        },\r\n        paperModal: {\r\n            [theme.breakpoints.down('sm')]: {\r\n                width: '70%',\r\n            },\r\n            width: '70%',\r\n            overflowY: \"auto\",\r\n            backgroundColor: theme.palette.background.paper,\r\n            border: '2px solid #333333',\r\n            borderRadius: 8,\r\n            boxShadow: theme.shadows[5],\r\n            padding: theme.spacing(2, 4, 3),\r\n            '&::-webkit-scrollbar': {\r\n                width: '0.4em'\r\n            },\r\n            '&::-webkit-scrollbar-track': {\r\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: 'rgba(0,0,0,.1)',\r\n                outline: '1px solid slategrey'\r\n            }\r\n        },\r\n    }),\r\n);\r\n\r\nexport default function BookDetail() {\r\n    const classes = useStyles();\r\n    let { bookId } = useParams<{ bookId: string }>();\r\n    const [book, setBook] = React.useState<Book>({} as Book);\r\n    const [comments, setComments] = React.useState<Comment[]>([]);\r\n    const [change, setChange] = React.useState(false);\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n    const [commentId, setCommentId] = React.useState(0);\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const [isModalEditCommentOpen, setIsModalEditCommentOpen] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getBookById(Number(bookId)).then(\r\n            (res) => {\r\n                setBook(res);\r\n            },\r\n            (error) => {\r\n                alert(error.message);\r\n            }\r\n        );\r\n\r\n        commentService.getCommentByBookId(Number(bookId)).then(\r\n            (res) => {\r\n                setComments(res);\r\n            },\r\n            (error) => {\r\n                alert(error.message);\r\n            }\r\n        );\r\n        console.log('book detail');\r\n    }, [bookId, change]);\r\n\r\n    const addComment = (comment: Comment) => {\r\n        commentService.addComment(comment, Number(bookId)).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(error.message);\r\n            }\r\n        )\r\n    }\r\n\r\n    const reload = () => {\r\n        setChange(!change);\r\n        closeModalEditComment();\r\n        handleClose();\r\n    }\r\n\r\n    const deleteComment = (commentId: any) => {\r\n        setCommentId(commentId);\r\n        handleClose();\r\n        setOpenDialog(true);\r\n    }\r\n\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleSure = () => {\r\n        commentService.deleteComment(commentId).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleNotSure = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const openModalEditComment = () => {\r\n        setIsModalEditCommentOpen(true);\r\n    };\r\n\r\n    const closeModalEditComment = () => {\r\n        setIsModalEditCommentOpen(false);\r\n    };\r\n\r\n    const editComment = (commentId: any) => {\r\n        setCommentId(commentId);\r\n        openModalEditComment();\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid item xs={12} md={12}>\r\n                <Paper className={classes.paper}>\r\n                    <Typography variant=\"h4\" gutterBottom>{`${book.title} - ${book.author}`}</Typography>\r\n\r\n                    <Typography variant=\"subtitle1\" gutterBottom>\r\n                        {new Date(book.createdAt).toLocaleString()}\r\n                    </Typography>\r\n\r\n                    <img className={classes.image} src={book.image} alt=\"\" />\r\n\r\n                    <Typography align='justify' variant=\"subtitle1\" gutterBottom>{book.description}</Typography>\r\n\r\n                    <div className={classes.username}>\r\n                        <Typography variant=\"h6\" gutterBottom>\r\n                            {`${book.user?.firstName} ${book.user?.lastName}`}\r\n                        </Typography>\r\n                    </div>\r\n                    <Divider />\r\n                    <br />\r\n                    <Typography variant=\"h5\" gutterBottom>Comment</Typography>\r\n                    {getCurrentUser() && (\r\n                        <div className={classes.addComment}>\r\n                            <AddComment addComment={addComment}></AddComment>\r\n                        </div>\r\n                    )}\r\n                    <div>\r\n                        {comments && comments.map(comment => (\r\n                            <div className={classes.listComment}>\r\n                                <Typography variant=\"h6\" gutterBottom>{comment.user?.email}</Typography>\r\n                                <Typography variant=\"caption\" gutterBottom>{comment.createdAt}</Typography>\r\n                                <Typography variant=\"subtitle1\" gutterBottom>\r\n                                    {comment.message}\r\n                                    {((getCurrentUser() && comment.user?.id === getCurrentUser().userId)\r\n                                        || comment.user?.role?.name === \"ROLE_ADMIN\") && (\r\n                                            <>\r\n                                                <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                                                    <MoreHorizIcon />\r\n                                                </IconButton>\r\n                                                <Menu\r\n                                                    id=\"simple-menu\"\r\n                                                    anchorEl={anchorEl}\r\n                                                    keepMounted\r\n                                                    open={Boolean(anchorEl)}\r\n                                                    onClose={handleClose}\r\n                                                >\r\n                                                    <MenuItem onClick={() => deleteComment(comment.id)}>Delete</MenuItem>\r\n                                                    <MenuItem onClick={() => editComment(comment.id)}>Edit</MenuItem>\r\n                                                </Menu>\r\n                                            </>\r\n                                        )\r\n                                    }\r\n                                </Typography>\r\n                                <Divider />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </Paper>\r\n            </Grid>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={isModalEditCommentOpen}\r\n                onClose={closeModalEditComment}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={isModalEditCommentOpen}>\r\n                    <div className={classes.paperModal}>\r\n                        <Typography variant=\"h5\" noWrap>\r\n                            Edit Comment\r\n                            <IconButton\r\n                                style={{ float: 'right' }}\r\n                                color=\"inherit\"\r\n                                onClick={closeModalEditComment}\r\n                            >\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Typography>\r\n                        <EditComment reload={reload} commentId={commentId} />\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n            <Dialog\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">Delete comment</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Do you want to delete this comment?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"primary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport bookService from \"../../services/book.service\";\r\n\r\ninterface Prop {\r\n    bookId: number,\r\n    reload: Reload\r\n}\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '& > *': {\r\n                width: '90%',\r\n                margin: 'auto',\r\n            },\r\n        },\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            width: \"100%\",\r\n        },\r\n        buttonSubmit: {\r\n            textTransform: 'none',\r\n            float: 'right'\r\n        }\r\n    }),\r\n);\r\n\r\nexport default function EditBook({ bookId, reload }: Prop) {\r\n    const classes = useStyles();\r\n    const bookDefault: Book = {} as Book;\r\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\r\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\r\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\r\n    const [book, setBook] = React.useState(bookDefault);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getBookById(bookId).then(\r\n            (res) => {\r\n                setBook(res);\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        console.log('edit book');\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setBook({ ...book, [event.target.name]: event.target.value });\r\n    };\r\n\r\n    const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n\r\n        const today = new Date();\r\n        const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        const dateTime = date + ' ' + time;\r\n        book.updatedAt = dateTime;\r\n\r\n        bookService.updateBook(book, bookId, book.user?.id).then(\r\n            () => {\r\n                setActiveSnackBar(!activeSnackBar);\r\n                setSnackBarMessage('Edit book Success');\r\n                setSnackBarStatus('success');\r\n                window.setTimeout(function () {\r\n                    reload();\r\n                }, 1000);\r\n            },\r\n            (error) => {\r\n                setActiveSnackBar(!activeSnackBar);\r\n                setSnackBarMessage(error.response.data.message);\r\n                setSnackBarStatus('error');\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <form className={classes.root} onSubmit={onSubmit}>\r\n            <div>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Title\"\r\n                        name=\"title\"\r\n                        value={book.title}\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Author\"\r\n                        name=\"author\"\r\n                        value={book.author}\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"outlined-multiline-static\"\r\n                        name=\"description\"\r\n                        label=\"Description\"\r\n                        value={book.description}\r\n                        multiline\r\n                        rows={10}\r\n                        variant=\"outlined\"\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Link image\"\r\n                        name=\"image\"\r\n                        value={book.image}\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <br />\r\n                <br />\r\n                <Button\r\n                    className={classes.buttonSubmit}\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    type='submit'\r\n                >\r\n                    Update\r\n                </Button>\r\n            </div>\r\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\r\n        </form>\r\n    );\r\n};","import React from 'react';\r\nimport { alpha, createStyles, makeStyles, Theme, withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport bookService from '../../services/book.service';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport EditBook from '../common/EditBook';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        head: {\r\n            backgroundColor: '#333333',\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n            wordWrap: 'break-word'\r\n        },\r\n    }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n                backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }),\r\n)(TableRow);\r\n\r\ntype Order = 'asc' | 'desc';\r\n\r\ninterface HeadCell {\r\n    disablePadding: boolean;\r\n    id: keyof Book;\r\n    label: string;\r\n    numeric: boolean;\r\n}\r\n\r\nconst headCells: HeadCell[] = [\r\n    { id: 'title', numeric: false, disablePadding: false, label: 'Title' },\r\n    { id: 'author', numeric: true, disablePadding: false, label: 'Author' },\r\n    { id: 'createdAt', numeric: true, disablePadding: false, label: 'CreatedAt' },\r\n    { id: 'enabled', numeric: true, disablePadding: false, label: 'Status' },\r\n];\r\n\r\ninterface EnhancedTableProps {\r\n    classes: ReturnType<typeof useStyles>;\r\n    onRequestSort: (event: React.MouseEvent<unknown>, property: keyof Book) => void;\r\n    order: Order;\r\n    orderBy: string;\r\n}\r\n\r\nfunction EnhancedTableHead(props: EnhancedTableProps) {\r\n    const { classes, order, orderBy, onRequestSort } = props;\r\n    const createSortHandler = (property: keyof Book) => (event: React.MouseEvent<unknown>) => {\r\n        onRequestSort(event, property);\r\n    };\r\n\r\n    return (\r\n        <TableHead>\r\n            <StyledTableRow>\r\n                {headCells.map((headCell) => (\r\n                    <StyledTableCell\r\n                        key={headCell.id}\r\n                        align={headCell.numeric ? 'right' : 'left'}\r\n                        padding={headCell.disablePadding ? 'none' : 'normal'}\r\n                        sortDirection={orderBy === headCell.id ? order : false}\r\n                    >\r\n                        <TableSortLabel\r\n                            active={orderBy === headCell.id}\r\n                            direction={orderBy === headCell.id ? order : 'asc'}\r\n                            onClick={createSortHandler(headCell.id)}\r\n                            classes={{ root: classes.inActive, active: classes.active, icon: classes.icon }}\r\n                        >\r\n                            {headCell.label}\r\n                            {orderBy === headCell.id ? (\r\n                                <span className={classes.visuallyHidden}>\r\n                                    {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                                </span>\r\n                            ) : null}\r\n                        </TableSortLabel>\r\n                    </StyledTableCell>\r\n                ))}\r\n                <StyledTableCell align={'right'}>View</StyledTableCell>\r\n                <StyledTableCell align={'right'}>Edit</StyledTableCell>\r\n                <StyledTableCell align={'right'}>Delete</StyledTableCell>\r\n            </StyledTableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            width: '100%',\r\n        },\r\n        paper: {\r\n            width: '100%',\r\n            marginBottom: theme.spacing(2),\r\n        },\r\n        table: {\r\n            minWidth: 750,\r\n        },\r\n        visuallyHidden: {\r\n            border: 0,\r\n            clip: 'rect(0 0 0 0)',\r\n            height: 1,\r\n            margin: -1,\r\n            overflow: 'hidden',\r\n            padding: 0,\r\n            position: 'absolute',\r\n            top: 20,\r\n            width: 1,\r\n        },\r\n        modal: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        paperModal: {\r\n            [theme.breakpoints.down('sm')]: {\r\n                width: '90%',\r\n            },\r\n            width: '70%',\r\n            overflowY: \"auto\",\r\n            backgroundColor: theme.palette.background.paper,\r\n            border: '2px solid #333333',\r\n            borderRadius: 8,\r\n            boxShadow: theme.shadows[5],\r\n            padding: theme.spacing(2, 4, 3),\r\n            '&::-webkit-scrollbar': {\r\n                width: '0.4em'\r\n            },\r\n            '&::-webkit-scrollbar-track': {\r\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: 'rgba(0,0,0,.1)',\r\n                outline: '1px solid slategrey'\r\n            }\r\n        },\r\n        buttonDialog: {\r\n            '&:focus': {\r\n                backgroundColor: '#b2b8e1',\r\n            },\r\n        },\r\n        inActive: {\r\n            color: 'white',\r\n            \"&:hover\": {\r\n                color: 'red',\r\n            },\r\n            '&$active': {\r\n                color: 'red',\r\n            },\r\n        },\r\n        active: {\r\n            color: \"red\",\r\n        },\r\n        icon: {\r\n            color: 'red !important'\r\n        },\r\n        search: {\r\n            borderRadius: theme.shape.borderRadius,\r\n            backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n            '&:hover': {\r\n                backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n            },\r\n            width: '50%',\r\n        },\r\n        searchIcon: {\r\n            padding: theme.spacing(0, 2),\r\n            height: '100%',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        inputRoot: {\r\n            color: 'inherit',\r\n        },\r\n        inputInput: {\r\n            padding: theme.spacing(1, 1, 1, 0),\r\n            // vertical padding + font size from searchIcon\r\n            paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n            transition: theme.transitions.create('width'),\r\n            width: '100%',\r\n            [theme.breakpoints.up('md')]: {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    }),\r\n);\r\n\r\nexport default function BooksList() {\r\n    const classes = useStyles();\r\n    const [isModalEditBookOpen, setIsModalEditBookOpen] = React.useState(false);\r\n    const [bookId, setBookId] = React.useState(-1);\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n    const [order, setOrder] = React.useState<Order>('desc');\r\n    const [orderBy, setOrderBy] = React.useState<keyof Book>('createdAt');\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n    const [totalRows, setTotalRows] = React.useState(0);\r\n    const [books, setBooks] = React.useState<Book[]>([]);\r\n    const param = useLocation().search.substr(1);\r\n    const [change, setChange] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getAllBook(orderBy, order, page, rowsPerPage, param).then(\r\n            (res) => {\r\n                setBooks(res.items);\r\n                setTotalRows(res.totalItems);\r\n            },\r\n            (error) => {\r\n                alert(error.message);\r\n            }\r\n        );\r\n        console.log('book list');\r\n    }, [order, orderBy, page, rowsPerPage, param, change]);\r\n\r\n    const handleRequestSort = (event: React.MouseEvent<unknown>, property: keyof Book) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    const handleChangePage = (event: unknown, newPage: number) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const openModalEditBook = (bookId: number) => {\r\n        setBookId(bookId);\r\n        setIsModalEditBookOpen(true);\r\n    };\r\n\r\n    const closeModalEditBook = () => {\r\n        setIsModalEditBookOpen(false);\r\n    };\r\n\r\n    const deleteBook = (bookId: any) => {\r\n        setBookId(bookId);\r\n        setOpenDialog(true);\r\n    }\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleSure = () => {\r\n        bookService.deleteBook(bookId).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleNotSure = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const reload: Reload = () => {\r\n        setChange(!change);\r\n        closeModalEditBook();\r\n    }\r\n\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, totalRows - page * rowsPerPage);\r\n\r\n    const enabledBook = (book: Book, bookId: number) => {\r\n        book.enabled = !book.enabled;\r\n        bookService.updateBook(book, bookId, book.user?.id).then(\r\n            (res) => {\r\n                reload();\r\n                console.log('enabledBook');\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper}>\r\n                <TableContainer>\r\n                    <Table\r\n                        aria-label=\"sticky table\"\r\n                        className={classes.table}\r\n                        aria-labelledby=\"tableTitle\"\r\n                        size=\"small\"\r\n                    >\r\n                        <EnhancedTableHead\r\n                            classes={classes}\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onRequestSort={handleRequestSort}\r\n                        />\r\n                        <TableBody>\r\n                            {books.length === 0 && (\r\n                                <StyledTableRow>\r\n                                    <StyledTableCell align=\"center\" colSpan={7}>Empty</StyledTableCell>\r\n                                </StyledTableRow>\r\n                            )}\r\n                            {books.map((book, index) => {\r\n                                return (\r\n                                    <StyledTableRow key={`${book.title}${book.author}`}>\r\n                                        <TableCell align=\"left\">{book.title}</TableCell>\r\n                                        <TableCell align=\"right\">{book.author}</TableCell>\r\n                                        <TableCell align=\"right\">{book.createdAt}</TableCell>\r\n                                        <StyledTableCell align=\"right\">\r\n                                            <Tooltip title={book.enabled ? 'Disable Book' : 'Enable Book'}>\r\n                                                <Button\r\n                                                    style={{ textTransform: 'none' }}\r\n                                                    onClick={() => enabledBook(book, Number(book.id))}\r\n                                                >\r\n                                                    <Typography\r\n                                                        color={book.enabled ? \"primary\" : \"secondary\"}\r\n                                                        variant=\"subtitle1\"\r\n                                                        component=\"h2\"\r\n                                                    >\r\n                                                        {book.enabled ? 'Enabled' : 'Disabled'}\r\n                                                    </Typography>\r\n                                                </Button>\r\n                                            </Tooltip>\r\n                                        </StyledTableCell>\r\n                                        <StyledTableCell align=\"right\">\r\n                                            <Tooltip title=\"View\">\r\n                                                <IconButton\r\n                                                    aria-label=\"view\"\r\n                                                    component={NavLink}\r\n                                                    to={`/book/${book.id}`}\r\n                                                >\r\n                                                    <VisibilityIcon />\r\n                                                </IconButton>\r\n                                            </Tooltip>\r\n                                        </StyledTableCell>\r\n                                        <StyledTableCell align=\"right\">\r\n                                            <Tooltip title=\"Edit\">\r\n                                                <IconButton\r\n                                                    onClick={() => openModalEditBook(Number(book.id))}\r\n                                                    aria-label=\"edit\"\r\n                                                >\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n                                            </Tooltip>\r\n                                        </StyledTableCell>\r\n                                        <StyledTableCell align=\"right\">\r\n                                            <Tooltip title=\"Delete\">\r\n                                                <IconButton\r\n                                                    onClick={() => deleteBook(book.id)}\r\n                                                    aria-label=\"delete\"\r\n                                                >\r\n                                                    <DeleteIcon />\r\n                                                </IconButton>\r\n                                            </Tooltip>\r\n                                            <span>&emsp;</span>\r\n                                        </StyledTableCell>\r\n                                    </StyledTableRow>\r\n                                );\r\n                            })}\r\n                            {emptyRows > 0 && (\r\n                                <StyledTableRow style={{ height: 62 * emptyRows }}>\r\n                                    <TableCell colSpan={7} />\r\n                                </StyledTableRow>\r\n                            )}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <TablePagination\r\n                    rowsPerPageOptions={[10, 20, 50]}\r\n                    component=\"div\"\r\n                    count={totalRows}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onPageChange={handleChangePage}\r\n                    onRowsPerPageChange={handleChangeRowsPerPage}\r\n                />\r\n            </Paper>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={isModalEditBookOpen}\r\n                onClose={closeModalEditBook}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={isModalEditBookOpen}>\r\n                    <div className={classes.paperModal}>\r\n                        <Typography variant=\"h5\" noWrap>\r\n                            Edit Book\r\n                            <IconButton\r\n                                style={{ float: 'right' }}\r\n                                color=\"inherit\"\r\n                                onClick={closeModalEditBook}\r\n                            >\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Typography>\r\n                        <EditBook reload={reload} bookId={bookId} />\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n            <Dialog\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{\"Delete book\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Do you want to delete this book?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"primary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        margin: 'auto',\r\n        height: 500,\r\n        marginTop: 10,\r\n        width: 345,\r\n        backgroundColor: 'rgba(76, 175, 80, 0.2)',\r\n    },\r\n    media: {\r\n        height: 350,\r\n        objectFit: 'contain'\r\n    },\r\n    cardButton: {\r\n        textTransform: 'none',\r\n        marginLeft: 'auto',\r\n        color: 'rgb(114 137 198 / 1)',\r\n    },\r\n    cardContent: {\r\n        height: 70,\r\n    }\r\n});\r\n\r\ninterface Prop {\r\n    book: Book\r\n}\r\n\r\nexport default function CardBook({ book }: Prop) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardActionArea>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    className={classes.media}\r\n                    image={book.image}\r\n                    title=\"Contemplative Reptile\"\r\n                />\r\n                <CardContent className={classes.cardContent}>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {book.title}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {book.author}\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    component={NavLink}\r\n                    to={`/book/${book.id}`}\r\n                    className={classes.cardButton}\r\n                >\r\n                    Learn More\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport bookService from '../../services/book.service';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CardBook from '../common/CardBook';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(0),\r\n            height: 500,\r\n            maxWidth: '100%',\r\n            display: 'inline',\r\n            textAlign: 'center',\r\n            color: theme.palette.text.secondary,\r\n        },\r\n        container: {\r\n            alignItems: 'center',\r\n            padding: theme.spacing(2),\r\n            paddingTop: theme.spacing(0),\r\n            paddingBottom: theme.spacing(8)\r\n        },\r\n        pagination: {\r\n            position: 'fixed',\r\n            right: theme.spacing(2),\r\n            bottom: theme.spacing(2),\r\n        },\r\n    }),\r\n);\r\n\r\nexport default function Home() {\r\n    const classes = useStyles();\r\n    const postDefault: Book[] = [];\r\n    const [page, setPage] = React.useState(1);\r\n    const [totalPage, setTotalPage] = React.useState(0);\r\n    const param = useLocation().search.substr(1);\r\n    const [books, setBooks] = React.useState(postDefault);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getAllBookEnabled(page - 1, param).then(\r\n            (res) => {\r\n                setBooks(res.items);\r\n                setTotalPage(Math.ceil(res.totalItems / 8));\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        console.log('Home');\r\n        // eslint-disable-next-line\r\n    }, [page, totalPage]);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getAllBookEnabled(page - 1, param).then(\r\n            (res) => {\r\n                setBooks(res.items);\r\n                setTotalPage(Math.ceil(res.totalItems / 8));\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        setPage(1);\r\n        console.log('Home');\r\n        // eslint-disable-next-line\r\n    }, [param]);\r\n\r\n    const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n        setPage(value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.root}>\r\n                <Grid container className={classes.container}>\r\n                    {\r\n                        books.map(book => (\r\n                            <Grid key={book.title + book.author} item xs={12} sm={6} md={3}>\r\n                                <Paper className={classes.paper}>\r\n                                    <CardBook book={book} />\r\n                                </Paper>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </div>\r\n            <div className={classes.pagination}>\r\n                <Pagination\r\n                    count={totalPage}\r\n                    variant=\"outlined\"\r\n                    shape=\"rounded\"\r\n                    page={page}\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Button from '@material-ui/core/Button';\r\nimport authService from '../../services/auth.service';\r\nimport CustomizedSnackbars from '../common/CustomizedSnackbars';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        container: {\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            width: 400,\r\n            maxWidth: '100%',\r\n            margin: `${theme.spacing(0)} auto`\r\n        },\r\n        loginBtn: {\r\n            marginTop: theme.spacing(2),\r\n            flexGrow: 1,\r\n            color: '#333333',\r\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\r\n        },\r\n        header: {\r\n            textAlign: 'center',\r\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\r\n            color: '#333333'\r\n        },\r\n        card: {\r\n            marginTop: theme.spacing(10)\r\n        },\r\n    })\r\n);\r\n\r\n//state type\r\n\r\ntype State = {\r\n    username: string\r\n    password: string\r\n    isButtonDisabled: boolean\r\n    message: string\r\n    activeSnackBar: boolean\r\n};\r\n\r\nconst initialState: State = {\r\n    username: '',\r\n    password: '',\r\n    isButtonDisabled: true,\r\n    message: '',\r\n    activeSnackBar: false\r\n};\r\n\r\ntype Action = { type: 'setUsername', payload: string }\r\n    | { type: 'setPassword', payload: string }\r\n    | { type: 'setIsButtonDisabled', payload: boolean }\r\n    | { type: 'loginFailed', payload: string };\r\n\r\nconst reducer = (state: State, action: Action): State => {\r\n    switch (action.type) {\r\n        case 'setUsername':\r\n            return {\r\n                ...state,\r\n                username: action.payload\r\n            };\r\n        case 'setPassword':\r\n            return {\r\n                ...state,\r\n                password: action.payload\r\n            };\r\n        case 'setIsButtonDisabled':\r\n            return {\r\n                ...state,\r\n                isButtonDisabled: action.payload\r\n            };\r\n        case 'loginFailed':\r\n            return {\r\n                ...state,\r\n                message: action.payload,\r\n                activeSnackBar: !state.activeSnackBar\r\n            };\r\n    }\r\n}\r\n\r\nexport default function Login() {\r\n    const classes = useStyles();\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (state.username.trim() && state.password.trim()) {\r\n            dispatch({\r\n                type: 'setIsButtonDisabled',\r\n                payload: false\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: 'setIsButtonDisabled',\r\n                payload: true\r\n            });\r\n        }\r\n    }, [state.username, state.password]);\r\n\r\n    const handleLogin = () => {\r\n        const userLogin = {\r\n            email: state.username,\r\n            password: state.password\r\n        }\r\n\r\n        authService.login(userLogin).then(\r\n            () => {\r\n                window.setTimeout(function () {\r\n                    history.push('/home');\r\n                }, 1000);\r\n            },\r\n            (error) => {\r\n                dispatch({\r\n                    type: 'loginFailed',\r\n                    payload: 'Email or password incorect'\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleKeyPress = (event: React.KeyboardEvent) => {\r\n        if (event.keyCode === 13 || event.which === 13) {\r\n            state.isButtonDisabled || handleLogin();\r\n        }\r\n    };\r\n\r\n    const handleUsernameChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setUsername',\r\n                payload: event.target.value\r\n            });\r\n        };\r\n\r\n    const handlePasswordChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setPassword',\r\n                payload: event.target.value\r\n            });\r\n        }\r\n\r\n    return (\r\n        <>\r\n            <form className={classes.container} noValidate>\r\n                <Card className={classes.card}>\r\n                    <CardHeader className={classes.header} title=\"Login App\" />\r\n                    <CardContent>\r\n                        <div>\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"username\"\r\n                                type=\"email\"\r\n                                label=\"Username\"\r\n                                placeholder=\"Username\"\r\n                                margin=\"normal\"\r\n                                onChange={handleUsernameChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                placeholder=\"Password\"\r\n                                margin=\"normal\"\r\n                                onChange={handlePasswordChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            size=\"large\"\r\n                            color=\"secondary\"\r\n                            className={classes.loginBtn}\r\n                            onClick={handleLogin}\r\n                            disabled={state.isButtonDisabled}>\r\n                            Login\r\n                        </Button>\r\n                    </CardActions>\r\n                </Card>\r\n            </form>\r\n            <CustomizedSnackbars active={state.activeSnackBar} status={'error'} autoHideDuration={4000} message={state.message} />\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport bookService from \"../../services/book.service\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '& > *': {\r\n                width: '90%',\r\n                margin: 'auto',\r\n            },\r\n        },\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            width: \"100%\",\r\n        },\r\n        buttonSubmit: {\r\n            textTransform: 'none',\r\n            float: 'right'\r\n        }\r\n    }),\r\n);\r\n\r\ninterface Prop {\r\n    reload: Reload;\r\n}\r\n\r\nexport default function AddBook({ reload }: Prop) {\r\n    const classes = useStyles();\r\n    const bookDefault: Book = {} as Book;\r\n    const [activeSnackBar, setActiveSnackBar] = React.useState(false);\r\n    const [snackBarMessage, setSnackBarMessage] = React.useState('');\r\n    const [snackBarStatus, setSnackBarStatus] = React.useState('');\r\n    const [book, setBook] = React.useState(bookDefault);\r\n\r\n    const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setBook({ ...book, [event.target.name]: event.target.value });\r\n    };\r\n\r\n    const onSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n\r\n        const today = new Date();\r\n        const date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        const time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\r\n        const dateTime = date + ' ' + time;\r\n\r\n        book.createdAt = dateTime;\r\n        book.updatedAt = dateTime;\r\n\r\n        bookService.addBook(book).then(\r\n            (res) => {\r\n                setActiveSnackBar(!activeSnackBar);\r\n                setSnackBarMessage('Add new book Success');\r\n                setSnackBarStatus('success');\r\n                window.setTimeout(function () {\r\n                    reload();\r\n                }, 1000);\r\n            },\r\n            (error) => {\r\n                setActiveSnackBar(!activeSnackBar);\r\n                setSnackBarMessage(error.response.data.message);\r\n                setSnackBarStatus('error');\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <form className={classes.root} onSubmit={onSubmit}>\r\n            <div>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Title\"\r\n                        name=\"title\"\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Author\"\r\n                        name=\"author\"\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"outlined-multiline-static\"\r\n                        name=\"description\"\r\n                        label=\"Description\"\r\n                        multiline\r\n                        rows={10}\r\n                        variant=\"outlined\"\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <FormControl className={classes.formControl}>\r\n                    <TextField\r\n                        id=\"standard-basic\"\r\n                        label=\"Link image\"\r\n                        name=\"image\"\r\n                        onChange={onChange}\r\n                    />\r\n                </FormControl>\r\n                <br />\r\n                <br />\r\n                <Button\r\n                    className={classes.buttonSubmit}\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    type='submit'\r\n                >\r\n                    Add\r\n                </Button>\r\n            </div>\r\n            <CustomizedSnackbars active={activeSnackBar} status={snackBarStatus} autoHideDuration={4000} message={snackBarMessage} />\r\n        </form>\r\n    );\r\n};","import React from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { Backdrop, Fade, Modal } from '@material-ui/core';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport AddBook from '../common/AddBook';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport bookService from '../../services/book.service';\r\nimport EditBook from '../common/EditBook';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        head: {\r\n            backgroundColor: '#333333',\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n            wordWrap: 'break-word'\r\n        },\r\n    }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n                backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }),\r\n)(TableRow);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        table: {\r\n            minWidth: 800,\r\n        },\r\n        tableContainer: {\r\n            borderRadius: 0,\r\n        },\r\n        fab: {\r\n            margin: theme.spacing(2),\r\n        },\r\n        modal: {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        paper: {\r\n            [theme.breakpoints.down('sm')]: {\r\n                width: '90%',\r\n            },\r\n            width: '70%',\r\n            overflowY: \"auto\",\r\n            backgroundColor: theme.palette.background.paper,\r\n            border: '2px solid #333333',\r\n            borderRadius: 8,\r\n            boxShadow: theme.shadows[5],\r\n            padding: theme.spacing(2, 4, 3),\r\n            '&::-webkit-scrollbar': {\r\n                width: '0.4em'\r\n            },\r\n            '&::-webkit-scrollbar-track': {\r\n                boxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n                webkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: 'rgba(0,0,0,.1)',\r\n                outline: '1px solid slategrey'\r\n            }\r\n        },\r\n        buttonDialog: {\r\n            '&:focus': {\r\n                backgroundColor: '#b2b8e1',\r\n            },\r\n        },\r\n    }),\r\n);\r\n\r\nexport default function MyBooksList() {\r\n    const classes = useStyles();\r\n    const [isModalAddBookOpen, setIsModalAddBookOpen] = React.useState(false);\r\n    const [isModalEditBookOpen, setIsModalEditBookOpen] = React.useState(false);\r\n    const [bookId, setBookId] = React.useState(-1);\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n    const [totalRows, setTotalRows] = React.useState(0);\r\n    const [books, setBooks] = React.useState<Book[]>([]);\r\n    const param = useLocation().search.substr(1);\r\n    const [change, setChange] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        bookService.getBooksByUserId(page, rowsPerPage, param).then(\r\n            (res) => {\r\n                setBooks(res.items);\r\n                setTotalRows(res.totalItems);\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        console.log('my book list');\r\n    }, [page, rowsPerPage, param, change]);\r\n\r\n    const handleChangePage = (event: unknown, newPage: number) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    const openModalAddBook = () => {\r\n        setIsModalAddBookOpen(true);\r\n    };\r\n\r\n    const closeModalAddBook = () => {\r\n        setIsModalAddBookOpen(false);\r\n    };\r\n\r\n    const openModalEditBook = (bookId: number) => {\r\n        setBookId(bookId);\r\n        setIsModalEditBookOpen(true);\r\n    };\r\n\r\n    const closeModalEditBook = () => {\r\n        setIsModalEditBookOpen(false);\r\n    };\r\n\r\n    const deleteBook = (bookId: any) => {\r\n        setBookId(bookId);\r\n        setOpenDialog(true);\r\n    }\r\n\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleSure = () => {\r\n        bookService.deleteBook(bookId).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleNotSure = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const reload: Reload = () => {\r\n        setChange(!change);\r\n        closeModalAddBook();\r\n        closeModalEditBook();\r\n    };\r\n\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, totalRows - page * rowsPerPage);\r\n\r\n    return (\r\n        <>\r\n            <TableContainer component={Paper} className={classes.tableContainer}>\r\n                <Table\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell align=\"left\">\r\n                                <Typography variant=\"h5\" noWrap>\r\n                                    My Book List\r\n                                    <Button\r\n                                        style={{ textTransform: 'none', float: 'right' }}\r\n                                        variant=\"outlined\"\r\n                                        color=\"inherit\"\r\n                                        onClick={openModalAddBook}\r\n                                    >\r\n                                        <AddIcon />\r\n                                        Add Book\r\n                                    </Button>\r\n                                </Typography>\r\n                            </StyledTableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                </Table>\r\n            </TableContainer>\r\n            <TableContainer component={Paper} className={classes.tableContainer}>\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    aria-label=\"sticky table\"\r\n                    size=\"small\"\r\n                >\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell>Title</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Author </StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Status </StyledTableCell>\r\n                            <StyledTableCell align=\"right\">View <span>&emsp;</span></StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Edit <span>&emsp;</span></StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Delete <span>&emsp;</span></StyledTableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {books.length === 0 && (\r\n                            <StyledTableRow>\r\n                                <StyledTableCell align=\"center\" colSpan={6}>Empty</StyledTableCell>\r\n                            </StyledTableRow>\r\n                        )}\r\n                        {books.map((book) => (\r\n                            <StyledTableRow key={book.id}>\r\n                                <StyledTableCell component=\"th\" scope=\"row\">{book.title}</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">{book.author}</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">\r\n                                    <Typography\r\n                                        color={book.enabled ? \"primary\" : \"secondary\"}\r\n                                        variant=\"subtitle1\"\r\n                                        component=\"h2\"\r\n                                    >\r\n                                        {book.enabled ? 'Enabled' : 'Disabled'}\r\n                                    </Typography>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell align=\"right\">\r\n                                    <Tooltip title=\"View\">\r\n                                        <IconButton\r\n                                            aria-label=\"view\"\r\n                                            component={NavLink}\r\n                                            to={`/book/${book.id}`}\r\n                                        >\r\n                                            <VisibilityIcon />\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell align=\"right\">\r\n                                    <Tooltip title=\"Edit\">\r\n                                        <IconButton\r\n                                            onClick={() => openModalEditBook(Number(book.id))}\r\n                                            aria-label=\"edit\"\r\n                                        >\r\n                                            <EditIcon />\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell align=\"right\">\r\n                                    <Tooltip title=\"Delete\">\r\n                                        <IconButton\r\n                                            onClick={() => deleteBook(book.id)}\r\n                                            aria-label=\"delete\"\r\n                                        >\r\n                                            <DeleteIcon />\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                    <span>&emsp;</span>\r\n                                </StyledTableCell>\r\n                            </StyledTableRow>\r\n                        ))}\r\n                        {emptyRows > 0 && (\r\n                            <TableRow style={{ height: 62 * emptyRows }}>\r\n                                <TableCell colSpan={7} />\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n                <TablePagination\r\n                    rowsPerPageOptions={[10, 20, 50]}\r\n                    component=\"div\"\r\n                    count={totalRows}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onPageChange={handleChangePage}\r\n                    onRowsPerPageChange={handleChangeRowsPerPage}\r\n                />\r\n            </TableContainer>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={isModalAddBookOpen}\r\n                onClose={closeModalAddBook}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={isModalAddBookOpen}>\r\n                    <div className={classes.paper}>\r\n                        <Typography variant=\"h5\" noWrap>\r\n                            Add Book\r\n                            <IconButton\r\n                                style={{ float: 'right' }}\r\n                                color=\"inherit\"\r\n                                onClick={closeModalAddBook}\r\n                            >\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Typography>\r\n                        <AddBook reload={reload} />\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n            <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={isModalEditBookOpen}\r\n                onClose={closeModalEditBook}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={isModalEditBookOpen}>\r\n                    <div className={classes.paper}>\r\n                        <Typography variant=\"h5\" noWrap>\r\n                            Edit Book\r\n                            <IconButton\r\n                                style={{ float: 'right' }}\r\n                                color=\"inherit\"\r\n                                onClick={closeModalEditBook}\r\n                            >\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Typography>\r\n                        <EditBook reload={reload} bookId={bookId} />\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n            <Dialog\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{\"Delete book\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Do you want to delete this book?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"primary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <>\r\n            <h1>Notfound</h1>\r\n        </>\r\n    )\r\n}","import React, { useReducer, useEffect } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Button from '@material-ui/core/Button';\r\nimport authService from '../../services/auth.service';\r\nimport CustomizedSnackbars from '../common/CustomizedSnackbars';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        container: {\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            width: 400,\r\n            maxWidth: '100%',\r\n            margin: `${theme.spacing(0)} auto`\r\n        },\r\n        loginBtn: {\r\n            marginTop: theme.spacing(2),\r\n            flexGrow: 1,\r\n            color: '#333333',\r\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\r\n        },\r\n        header: {\r\n            textAlign: 'center',\r\n            background: 'linear-gradient(45deg, #f8e7cd 30%, #e6d5c5 90%)',\r\n            color: '#333333'\r\n        },\r\n        card: {\r\n            marginTop: theme.spacing(10)\r\n        },\r\n    })\r\n);\r\n\r\n//state type\r\n\r\ntype State = {\r\n    firstName: string\r\n    lastName: string\r\n    avata: string\r\n    email: string\r\n    password: string\r\n    isButtonDisabled: boolean\r\n    message: string\r\n    activeSnackBar: boolean\r\n};\r\n\r\nconst initialState: State = {\r\n    firstName: '',\r\n    lastName: '',\r\n    avata: '',\r\n    email: '',\r\n    password: '',\r\n    isButtonDisabled: true,\r\n    message: '',\r\n    activeSnackBar: false\r\n};\r\n\r\ntype Action = { type: 'setFirstName', payload: string }\r\n    | { type: 'setLastName', payload: string }\r\n    | { type: 'setAvata', payload: string }\r\n    | { type: 'setEmail', payload: string }\r\n    | { type: 'setPassword', payload: string }\r\n    | { type: 'setIsButtonDisabled', payload: boolean }\r\n    | { type: 'registerFailed', payload: string };\r\n\r\nconst reducer = (state: State, action: Action): State => {\r\n    switch (action.type) {\r\n        case 'setFirstName':\r\n            return {\r\n                ...state,\r\n                firstName: action.payload\r\n            };\r\n        case 'setLastName':\r\n            return {\r\n                ...state,\r\n                lastName: action.payload\r\n            };\r\n        case 'setAvata':\r\n            return {\r\n                ...state,\r\n                avata: action.payload\r\n            };\r\n        case 'setEmail':\r\n            return {\r\n                ...state,\r\n                email: action.payload\r\n            };\r\n        case 'setPassword':\r\n            return {\r\n                ...state,\r\n                password: action.payload\r\n            };\r\n        case 'setIsButtonDisabled':\r\n            return {\r\n                ...state,\r\n                isButtonDisabled: action.payload\r\n            };\r\n        case 'registerFailed':\r\n            return {\r\n                ...state,\r\n                message: action.payload,\r\n                activeSnackBar: !state.activeSnackBar\r\n            };\r\n    }\r\n}\r\n\r\nexport default function Register() {\r\n    const classes = useStyles();\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (state.email.trim() && state.password.trim() && state.firstName.trim() && state.lastName.trim()) {\r\n            dispatch({\r\n                type: 'setIsButtonDisabled',\r\n                payload: false\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: 'setIsButtonDisabled',\r\n                payload: true\r\n            });\r\n        }\r\n    }, [state.email, state.password, state.firstName, state.lastName]);\r\n\r\n    const handleRegister = () => {\r\n        const userRegister = {\r\n            firstName: state.firstName,\r\n            lastName: state.lastName,\r\n            email: state.email,\r\n            password: state.password\r\n        }\r\n\r\n        authService.register(userRegister).then(\r\n            () => {\r\n                window.setTimeout(function () {\r\n                    history.push('/login');\r\n                }, 1000);\r\n            },\r\n            (error) => {\r\n                dispatch({\r\n                    type: 'registerFailed',\r\n                    payload: error.response.data.message\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    const handleKeyPress = (event: React.KeyboardEvent) => {\r\n        if (event.keyCode === 13 || event.which === 13) {\r\n            state.isButtonDisabled || handleRegister();\r\n        }\r\n    };\r\n\r\n    const handleFirstNameChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setFirstName',\r\n                payload: event.target.value\r\n            });\r\n        };\r\n\r\n    const handleAvataChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setAvata',\r\n                payload: event.target.value\r\n            });\r\n        };\r\n\r\n    const handleLastNameChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setLastName',\r\n                payload: event.target.value\r\n            });\r\n        };\r\n\r\n    const handleEmailChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setEmail',\r\n                payload: event.target.value\r\n            });\r\n        };\r\n\r\n    const handlePasswordChange: React.ChangeEventHandler<HTMLInputElement> =\r\n        (event) => {\r\n            dispatch({\r\n                type: 'setPassword',\r\n                payload: event.target.value\r\n            });\r\n        }\r\n\r\n    return (\r\n        <>\r\n            <form className={classes.container} noValidate>\r\n                <Card className={classes.card}>\r\n                    <CardHeader className={classes.header} title=\"Register\" />\r\n                    <CardContent>\r\n                        <div>\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"firstName\"\r\n                                type=\"text\"\r\n                                label=\"First name\"\r\n                                placeholder=\"First name\"\r\n                                margin=\"normal\"\r\n                                onChange={handleFirstNameChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"lastName\"\r\n                                type=\"text\"\r\n                                label=\"Last name\"\r\n                                placeholder=\"Last name\"\r\n                                margin=\"normal\"\r\n                                onChange={handleLastNameChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                            <TextField\r\n                                fullWidth\r\n                                id=\"avata\"\r\n                                type=\"text\"\r\n                                label=\"Avata\"\r\n                                placeholder=\"Avata link\"\r\n                                margin=\"normal\"\r\n                                onChange={handleAvataChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                label=\"Email\"\r\n                                placeholder=\"Email\"\r\n                                margin=\"normal\"\r\n                                onChange={handleEmailChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"password\"\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                placeholder=\"Password\"\r\n                                margin=\"normal\"\r\n                                onChange={handlePasswordChange}\r\n                                onKeyPress={handleKeyPress}\r\n                            />\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            size=\"large\"\r\n                            color=\"secondary\"\r\n                            className={classes.loginBtn}\r\n                            onClick={handleRegister}\r\n                            disabled={state.isButtonDisabled}>\r\n                            Register\r\n                        </Button>\r\n                    </CardActions>\r\n                </Card>\r\n            </form>\r\n            <CustomizedSnackbars active={state.activeSnackBar} status={'error'} autoHideDuration={4000} message={state.message} />\r\n        </>\r\n    );\r\n}","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nghianguyen-bookmanagement.herokuapp.com/api/users\";\r\n\r\nconst getUsers = async () => {\r\n  const response = await axios.get(API_URL, { headers: authHeader() });\r\n  return response.data;\r\n};\r\n\r\nconst updateUser = async (user: User, userId: number) => {\r\n  const response = await axios.put(API_URL + `/${userId}`, JSON.stringify(user), { headers: authHeader() });\r\n  return response.data;\r\n};\r\n\r\nconst setRoleUser = async (userId: number, roleId: number) => {\r\n  const response = await axios.put(API_URL + `/${userId}/roles/${roleId}`, JSON.stringify(`{}`), { headers: authHeader() });\r\n  return response.data;\r\n};\r\n\r\nconst userService = {\r\n  setRoleUser,\r\n  updateUser,\r\n  getUsers\r\n};\r\n\r\nexport default userService;\r\n","import React from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport userService from '../../services/user.service';\r\nimport getCurrentUser from '../../services/user-info';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        head: {\r\n            backgroundColor: '#333333',\r\n            color: theme.palette.common.white,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n            wordWrap: 'break-word'\r\n        },\r\n    }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n                backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }),\r\n)(TableRow);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        table: {\r\n            minWidth: 700,\r\n        },\r\n        buttonDialog: {\r\n            '&:focus': {\r\n                backgroundColor: '#b2b8e1',\r\n            },\r\n        },\r\n    }),\r\n);\r\n\r\nexport default function UserManagement() {\r\n    const classes = useStyles();\r\n    const [users, setUsers] = React.useState<User[]>([]);\r\n    const [change, setChange] = React.useState(false);\r\n    const [openDialog, setOpenDialog] = React.useState(false);\r\n    const [userId, setUserId] = React.useState(0);\r\n    const [roleId, setRoleId] = React.useState(0);\r\n\r\n    React.useEffect(() => {\r\n        userService.getUsers().then(\r\n            (res) => {\r\n                setUsers(res);\r\n            },\r\n            (error) => {\r\n                alert(error.message)\r\n            }\r\n        );\r\n\r\n        console.log('edit post list');\r\n    }, [change]);\r\n\r\n    const reload = () => {\r\n        setChange(!change);\r\n    }\r\n\r\n    const setRole = (userId: number, roleId: number) => {\r\n        setUserId(userId);\r\n        setRoleId(roleId === 1 ? 2 : 1);\r\n        setOpenDialog(true);\r\n    }\r\n\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleSure = () => {\r\n        userService.setRoleUser(userId, roleId).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(JSON.stringify(error))\r\n            }\r\n        );\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const handleNotSure = () => {\r\n        setOpenDialog(false);\r\n    }\r\n\r\n    const enabledUser = (user: User, userId: number) => {\r\n        user.enabled = !user.enabled;\r\n        userService.updateUser(user, userId).then(\r\n            (res) => {\r\n                reload();\r\n            },\r\n            (error) => {\r\n                alert(JSON.stringify(error))\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <TableContainer>\r\n                <Table className={classes.table} aria-label=\"customized table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell>Name</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Email <span>&emsp;</span></StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Status <span>&emsp;</span></StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Role <span>&emsp;</span></StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Set Role <span>&emsp;</span></StyledTableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {users.length === 0 && (\r\n                            <StyledTableRow>\r\n                                <StyledTableCell align=\"center\" colSpan={5}>Empty</StyledTableCell>\r\n                            </StyledTableRow>\r\n                        )}\r\n                        {users.map((user) => (\r\n                            getCurrentUser().userId !== user.id ? (\r\n                                <StyledTableRow key={user.id}>\r\n                                    <StyledTableCell component=\"th\" scope=\"row\">{`${user.firstName} ${user.lastName}`}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{user.email}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">\r\n                                        <Tooltip title={user.enabled ? 'Disable User' : 'Enable User'}>\r\n                                            <Button\r\n                                                style={{ textTransform: 'none' }}\r\n                                                onClick={() => enabledUser(user, Number(user.id))}\r\n                                            >\r\n                                                <Typography\r\n                                                    color={user.enabled ? \"primary\" : \"secondary\"}\r\n                                                    variant=\"subtitle1\"\r\n                                                    component=\"h2\"\r\n                                                >\r\n                                                    {user.enabled ? 'Enabled' : 'Disabled'}\r\n                                                </Typography>\r\n                                            </Button>\r\n                                        </Tooltip>\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{user.role?.name}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">\r\n                                        <Tooltip title={user.role?.id === 1 ? 'Set role admin' : 'Set role user'}>\r\n                                            <Button\r\n                                                onClick={() => setRole(Number(user.id), Number(user.role?.id))}\r\n                                                aria-label=\"set-role\"\r\n                                                size=\"small\"\r\n                                            >\r\n                                                {user.role?.id === 1 ? 'Set role admin' : 'Set role user'}\r\n                                            </Button>\r\n                                        </Tooltip>\r\n                                    </StyledTableCell>\r\n                                </StyledTableRow>\r\n                            ) : null\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <Dialog\r\n                open={openDialog}\r\n                onClose={handleCloseDialog}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">Set role</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        Do you want to set role?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button className={classes.buttonDialog} onClick={handleNotSure} color=\"primary\">\r\n                        No\r\n                    </Button>\r\n                    <Button className={classes.buttonDialog} onClick={handleSure} color=\"primary\" autoFocus>\r\n                        Yes\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    );\r\n}","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport BookDetail from './pages/BookDeatails';\r\nimport BooksList from './pages/BooksList';\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport MyBooksList from './pages/MyBooksList';\r\nimport NotFound from './pages/NotFound';\r\nimport Register from './pages/Register';\r\nimport UserManagement from './pages/UserManagement';\r\n\r\nexport default function Main() {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path='/' exact>\r\n          <Redirect to='/home' />\r\n        </Route>\r\n        <Route path='/home'>\r\n          <Home />\r\n        </Route>\r\n        <Route path='/register'>\r\n          <Register />\r\n        </Route>\r\n        <Route path='/login'>\r\n          <Login />\r\n        </Route>\r\n        <Route exact path='/books-list'>\r\n          <BooksList />\r\n        </Route>\r\n        <Route path='/my-books-list'>\r\n          <MyBooksList />\r\n        </Route>\r\n        <Route path='/user-management'>\r\n          <UserManagement />\r\n        </Route>\r\n        <Route exact path=\"/book/:bookId\">\r\n          <BookDetail />\r\n        </Route>\r\n        <Route path='/profile'>\r\n          <h1>profile</h1>\r\n        </Route>\r\n        <Route>\r\n          <NotFound />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}","import React from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Header from './components/Header';\nimport Main from './components/Main';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    header: {\n      textAlign: 'center',\n      borderRadius: 0\n    },\n    main: {\n      textAlign: 'center',\n      minHeight: '92vh',\n      maxWidth: '100%',\n      borderRadius: 0,\n    },\n  }),\n);\n\nexport default function App() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={0}>\n        <Grid item xs={12}>\n          <Paper className={classes.header}>\n            <Header />\n          </Paper>\n        </Grid>\n        <Grid item xs={12}>\n          <Paper className={classes.main}>\n            <Main />\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}